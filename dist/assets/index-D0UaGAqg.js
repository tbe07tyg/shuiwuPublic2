import{_ as $,h as p,e as E,i as A,c as K,a as t,j as e,w as s,l,a5 as L,m as R,o as _,x as u,t as c,B as X,E as q,k as m,b as F,p as f}from"./index-BG3bheTR.js";import{i as x}from"./index-u3wYLQ4o.js";import{P as G}from"./ProjectOutlined-pD6foRXv.js";import{T as H}from"./TeamOutlined-DgIzXDJd.js";const J={class:"project-manager-dashboard"},Q={class:"stats-section"},U={class:"stat-content"},W={class:"stat-icon",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}},Y={class:"stat-info"},Z={class:"stat-number"},tt={class:"stat-content"},et={class:"stat-icon",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"}},st={class:"stat-info"},at={class:"stat-number"},ot={class:"stat-content"},nt={class:"stat-icon",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"}},rt={class:"stat-info"},lt={class:"stat-number"},it={class:"stat-content"},ct={class:"stat-icon",style:{background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"}},dt={class:"stat-info"},pt={class:"stat-number"},_t={class:"charts-section"},ut={class:"recent-projects-section"},gt={__name:"index",setup(mt){const v=R(),C=p(!1),h=p(null),y=p(null),d=E({totalProjects:12,activeProjects:8,teamMembers:24,completedTasks:156}),w=p([{id:1,name:"智能科研管理系统开发",status:"active",progress:75,startDate:"2024-01-15",endDate:"2024-06-30",manager:"张经理"},{id:2,name:"数据分析平台建设",status:"planning",progress:30,startDate:"2024-02-01",endDate:"2024-08-31",manager:"李经理"},{id:3,name:"移动端应用开发",status:"completed",progress:100,startDate:"2023-10-01",endDate:"2024-01-31",manager:"王经理"},{id:4,name:"系统性能优化",status:"active",progress:60,startDate:"2024-01-20",endDate:"2024-05-15",manager:"赵经理"}]),j=[{title:"项目名称",dataIndex:"name",key:"name",width:200},{title:"状态",dataIndex:"status",key:"status",width:100},{title:"进度",dataIndex:"progress",key:"progress",width:150},{title:"项目经理",dataIndex:"manager",key:"manager",width:120},{title:"开始日期",dataIndex:"startDate",key:"startDate",width:120},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:120},{title:"操作",key:"action",width:120}],D=o=>({active:"blue",planning:"orange",completed:"green",suspended:"red"})[o]||"default",P=o=>({active:"进行中",planning:"规划中",completed:"已完成",suspended:"已暂停"})[o]||"未知",I=o=>o>=80?"#52c41a":o>=60?"#1890ff":o>=40?"#faad14":"#f5222d",O=()=>{L(()=>{const o=x(h.value),a={tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"项目状态",type:"pie",radius:"50%",data:[{value:8,name:"进行中"},{value:3,name:"规划中"},{value:1,name:"已完成"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};o.setOption(a);const n=x(y.value),r={tooltip:{trigger:"axis"},xAxis:{type:"category",data:["1月","2月","3月","4月","5月","6月"]},yAxis:{type:"value"},series:[{name:"完成任务数",type:"line",data:[12,19,15,25,22,30],smooth:!0,lineStyle:{color:"#1890ff"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(24, 144, 255, 0.3)"},{offset:1,color:"rgba(24, 144, 255, 0.1)"}]}}}]};n.setOption(r),window.addEventListener("resize",()=>{o.resize(),n.resize()})})},S=o=>{console.log("查看项目:",o),v.push(`/project-manager/projects/${o.id}`)},z=o=>{console.log("编辑项目:",o),v.push(`/project-manager/projects/${o.id}/edit`)};return A(()=>{O()}),(o,a)=>{const n=l("a-card"),r=l("a-col"),k=l("a-row"),M=l("a-tag"),T=l("a-progress"),b=l("a-button"),B=l("a-space"),N=l("a-table");return _(),K("div",J,[a[6]||(a[6]=t("div",{class:"page-header"},[t("h1",null,"项目经理工作台"),t("p",{class:"subtitle"},"项目进度监控与团队管理")],-1)),t("div",Q,[e(k,{gutter:16},{default:s(()=>[e(r,{span:6},{default:s(()=>[e(n,{class:"stat-card"},{default:s(()=>[t("div",U,[t("div",W,[e(u(G))]),t("div",Y,[t("div",Z,c(d.totalProjects),1),a[0]||(a[0]=t("div",{class:"stat-label"},"总项目数",-1))])])]),_:1})]),_:1}),e(r,{span:6},{default:s(()=>[e(n,{class:"stat-card"},{default:s(()=>[t("div",tt,[t("div",et,[e(u(X))]),t("div",st,[t("div",at,c(d.activeProjects),1),a[1]||(a[1]=t("div",{class:"stat-label"},"进行中项目",-1))])])]),_:1})]),_:1}),e(r,{span:6},{default:s(()=>[e(n,{class:"stat-card"},{default:s(()=>[t("div",ot,[t("div",nt,[e(u(H))]),t("div",rt,[t("div",lt,c(d.teamMembers),1),a[2]||(a[2]=t("div",{class:"stat-label"},"团队成员",-1))])])]),_:1})]),_:1}),e(r,{span:6},{default:s(()=>[e(n,{class:"stat-card"},{default:s(()=>[t("div",it,[t("div",ct,[e(u(q))]),t("div",dt,[t("div",pt,c(d.completedTasks),1),a[3]||(a[3]=t("div",{class:"stat-label"},"已完成任务",-1))])])]),_:1})]),_:1})]),_:1})]),t("div",_t,[e(k,{gutter:16},{default:s(()=>[e(r,{span:12},{default:s(()=>[e(n,{title:"项目进度概览",class:"chart-card"},{default:s(()=>[t("div",{ref_key:"progressChart",ref:h,style:{height:"300px"}},null,512)]),_:1})]),_:1}),e(r,{span:12},{default:s(()=>[e(n,{title:"任务完成趋势",class:"chart-card"},{default:s(()=>[t("div",{ref_key:"trendChart",ref:y,style:{height:"300px"}},null,512)]),_:1})]),_:1})]),_:1})]),t("div",ut,[e(n,{title:"最近项目",class:"projects-card"},{default:s(()=>[e(N,{dataSource:w.value,columns:j,pagination:!1,loading:C.value,rowKey:"id",size:"small"},{bodyCell:s(({column:g,record:i})=>[g.key==="status"?(_(),m(M,{key:0,color:D(i.status)},{default:s(()=>[f(c(P(i.status)),1)]),_:2},1032,["color"])):g.key==="progress"?(_(),m(T,{key:1,percent:i.progress,"stroke-color":I(i.progress),size:"small"},null,8,["percent","stroke-color"])):g.key==="action"?(_(),m(B,{key:2},{default:s(()=>[e(b,{type:"link",size:"small",onClick:V=>S(i)},{default:s(()=>a[4]||(a[4]=[f(" 查看 ")])),_:2,__:[4]},1032,["onClick"]),e(b,{type:"link",size:"small",onClick:V=>z(i)},{default:s(()=>a[5]||(a[5]=[f(" 编辑 ")])),_:2,__:[5]},1032,["onClick"])]),_:2},1024)):F("",!0)]),_:1},8,["dataSource","loading"])]),_:1})])])}}},kt=$(gt,[["__scopeId","data-v-cdd821c4"]]);export{kt as default};
