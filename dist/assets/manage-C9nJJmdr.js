import{_ as re,d as J,h as T,i as ue,c as b,a as i,j as t,w as s,l as p,m as pe,o as u,p as n,x as v,P as me,z as _e,t as o,C as ve,B as fe,E as ge,G as ye,H as be,J as Ce,k as C,b as f,Q as xe,F as ke,s as we,O as je,D as Re,K as he,L as Te,f as I,M as Ie}from"./index-BG3bheTR.js";import{B as ze}from"./BulbOutlined-Pu_cVs3c.js";import{F as $e}from"./FileSearchOutlined-C-NceYV6.js";import{A as Ne}from"./AuditOutlined-B4AyAIQd.js";const Oe={class:"applicant-manage-container"},Pe={class:"page-header"},Se={class:"header-actions"},Me={class:"stats-overview"},qe={class:"stat-icon"},Ue={class:"stat-content"},Fe={class:"stat-number"},De={class:"stat-icon"},Je={class:"stat-content"},Be={class:"stat-number"},Ve={class:"stat-icon"},Ae={class:"stat-content"},Ee={class:"stat-number"},Le={class:"stat-icon"},Qe={class:"stat-content"},Ge={class:"stat-number"},He={class:"stat-icon"},Ke={class:"stat-content"},We={class:"stat-number"},Xe={class:"stat-icon"},Ye={class:"stat-content"},Ze={class:"stat-number"},et={class:"flow-content"},tt={class:"step-description"},st={class:"step-status-tags"},at={class:"step-description"},it={class:"step-status-tags"},nt={class:"step-description"},lt={class:"step-status-tags"},ot={class:"card-title-with-total"},dt={class:"header-filters"},ct={key:0,class:"project-info"},rt={class:"project-name"},ut={class:"project-code"},pt={key:2,class:"progress-info"},mt={class:"progress-text"},_t={key:0,class:"detail-modal"},vt={class:"detail-section"},ft={key:0,class:"detail-section"},gt={class:"materials-list"},yt={class:"material-info"},bt={class:"material-name"},Ct={class:"material-type"},xt={key:1,class:"detail-section"},kt={class:"requirements-text"},wt={key:2,class:"detail-section"},jt={class:"rejection-reason"},Rt={__name:"manage",setup(ht){const z=pe(),w=J(()=>{const a=x.value.length,e=x.value.filter(_=>_.status==="material_reviewing").length,r=x.value.filter(_=>_.status==="meeting_preparing").length,k=x.value.filter(_=>_.status==="meeting_scheduled").length,P=x.value.filter(_=>_.status==="acceptance_passed").length,h=x.value.filter(_=>_.status==="acceptance_conditional").length,y=x.value.filter(_=>_.status==="acceptance_failed").length;return{total:a,materialReviewing:e,meetingPreparing:r,meetingScheduled:k,acceptancePassed:P,acceptanceConditional:h,acceptanceFailed:y}}),g=T({status:"",keyword:""}),$=T(!1),N=T(!1),l=T(null),x=T([{id:1,projectName:"æ™ºæ…§åŸå¸‚å¤§æ•°æ®å¹³å°å»ºè®¾é¡¹ç›®",projectCode:"PROJ-2024-001",status:"material_reviewing",submitTime:"2024-01-15",expectedTime:"2024-03-15",description:"æ„å»ºåŸå¸‚çº§å¤§æ•°æ®åˆ†æå¹³å°ï¼Œæ”¯æŒå¤šæºæ•°æ®æ¥å…¥å’Œå®æ—¶åˆ†æ",materials:[{id:1,name:"é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",type:"éªŒæ”¶æŠ¥å‘Š"},{id:2,name:"æŠ€æœ¯æ–‡æ¡£.docx",type:"æŠ€æœ¯æ–‡æ¡£"}],materialRejected:!0,rejectionInfo:{time:"2024-01-18",reviewer:"å¼ å®¡æ ¸å‘˜",comments:"ææ–™åŸºæœ¬ç¬¦åˆè¦æ±‚ï¼Œä½†éœ€è¦å®Œå–„éƒ¨åˆ†å†…å®¹ã€‚",rejectionReason:"1. é¡¹ç›®éªŒæ”¶æŠ¥å‘Šä¸­ç¼ºå°‘è¯¦ç»†çš„æµ‹è¯•æ•°æ®å’Œæ€§èƒ½æŒ‡æ ‡ï¼›2. æŠ€æœ¯æ–‡æ¡£éœ€è¦è¡¥å……ç³»ç»Ÿæ¶æ„å›¾å’Œæ•°æ®åº“è®¾è®¡è¯´æ˜ï¼›3. è¯·æä¾›ç”¨æˆ·æ‰‹å†Œå’Œéƒ¨ç½²æŒ‡å—ã€‚"}},{id:2,projectName:"åŒºå—é“¾ä¾›åº”é“¾é‡‘èå¹³å°",projectCode:"PROJ-2024-002",status:"meeting_preparing",submitTime:"2024-01-20",expectedTime:"2024-03-20",description:"åŸºäºåŒºå—é“¾æŠ€æœ¯çš„ä¾›åº”é“¾é‡‘èè§£å†³æ–¹æ¡ˆ",materials:[{id:3,name:"é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",type:"éªŒæ”¶æŠ¥å‘Š"}]},{id:3,projectName:"ç‰©è”ç½‘ç¯å¢ƒç›‘æµ‹ç³»ç»Ÿ",projectCode:"PROJ-2024-003",status:"meeting_scheduled",submitTime:"2024-01-12",expectedTime:"2024-03-12",description:"éƒ¨ç½²IoTä¼ æ„Ÿå™¨ç½‘ç»œï¼Œå®ç°ç¯å¢ƒæ•°æ®å®æ—¶ç›‘æ§",materials:[{id:4,name:"é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",type:"éªŒæ”¶æŠ¥å‘Š"},{id:5,name:"ç³»ç»Ÿéƒ¨ç½²æ–‡æ¡£.pdf",type:"éƒ¨ç½²æ–‡æ¡£"}]},{id:4,projectName:"ç”µå­å•†åŠ¡æ•°æ®åˆ†æç³»ç»Ÿ",projectCode:"PROJ-2024-004",status:"acceptance_passed",submitTime:"2024-01-08",expectedTime:"2024-03-08",description:"æ•°æ®åˆ†æç³»ç»Ÿå¼€å‘å®Œæˆï¼ŒåŠŸèƒ½å®Œå–„",materials:[{id:6,name:"é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",type:"éªŒæ”¶æŠ¥å‘Š"}],finalResult:{conclusion:"passed",score:92,time:"2024-01-22",description:"é¡¹ç›®éªŒæ”¶é€šè¿‡ï¼Œç³»ç»ŸåŠŸèƒ½å®Œæ•´ï¼ŒæŠ€æœ¯æŒ‡æ ‡è¾¾æ ‡ã€‚"}},{id:5,projectName:"åœ¨çº¿æ•™è‚²ç®¡ç†å¹³å°",projectCode:"PROJ-2024-005",status:"acceptance_conditional",submitTime:"2024-01-03",expectedTime:"2024-03-03",description:"åœ¨çº¿æ•™è‚²å¹³å°æ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆï¼Œæ­£åœ¨å®Œå–„ç»†èŠ‚åŠŸèƒ½",materials:[{id:7,name:"é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",type:"éªŒæ”¶æŠ¥å‘Š"},{id:8,name:"ç”¨æˆ·æ“ä½œæ‰‹å†Œ.pdf",type:"ç”¨æˆ·æ‰‹å†Œ"}],finalResult:{conclusion:"conditional_passed",score:82,time:"2024-01-21",description:"é¡¹ç›®åŸºæœ¬è¾¾åˆ°éªŒæ”¶è¦æ±‚ï¼Œæœ‰æ¡ä»¶é€šè¿‡éªŒæ”¶ã€‚",requirements:"1. å®Œå–„æ•°æ®å¤‡ä»½æœºåˆ¶ï¼›2. ä¼˜åŒ–ç³»ç»Ÿç•Œé¢å¸ƒå±€ï¼›3. 30å¤©å†…æäº¤æ•´æ”¹ç¡®è®¤ã€‚"}},{id:6,projectName:"ç§»åŠ¨åŠå…¬åº”ç”¨ç³»ç»Ÿ",projectCode:"PROJ-2024-006",status:"acceptance_failed",submitTime:"2024-01-05",expectedTime:"2024-03-05",description:"ç§»åŠ¨åŠå…¬ç³»ç»ŸåŸºæœ¬å®Œæˆï¼Œéƒ¨åˆ†åŠŸèƒ½å¾…å®Œå–„",materials:[{id:9,name:"é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",type:"éªŒæ”¶æŠ¥å‘Š"}],finalResult:{conclusion:"failed",score:68,time:"2024-01-20",description:"é¡¹ç›®éªŒæ”¶æœªé€šè¿‡ï¼Œç³»ç»Ÿç¨³å®šæ€§æœ‰å¾…æå‡ï¼Œéœ€è¦å®Œå–„ç›¸å…³åŠŸèƒ½ã€‚",requirements:"1. ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½ï¼›2. å®Œå–„ç”¨æˆ·ç•Œé¢ï¼›3. è¡¥å……æµ‹è¯•æ–‡æ¡£ã€‚"}}]),B=[{title:"é¡¹ç›®ä¿¡æ¯",key:"projectInfo",width:300},{title:"ç”³è¯·çŠ¶æ€",key:"status",width:120},{title:"æäº¤æ—¶é—´",dataIndex:"submitTime",width:120},{title:"é¢„æœŸéªŒæ”¶æ—¶é—´",dataIndex:"expectedTime",width:140},{title:"éªŒæ”¶è¿›åº¦",key:"progress",width:200},{title:"æ“ä½œ",key:"actions",width:200,fixed:"right"}],M=T({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0,showTotal:a=>`å…± ${a} æ¡è®°å½•`}),V=J(()=>{let a=x.value;return g.value.status&&(a=a.filter(e=>e.status===g.value.status)),g.value.keyword&&(a=a.filter(e=>e.projectName.includes(g.value.keyword)||e.projectCode.includes(g.value.keyword))),M.value.total=a.length,a}),q=a=>({material_reviewing:"orange",meeting_preparing:"blue",meeting_scheduled:"cyan",acceptance_passed:"green",acceptance_conditional:"orange",acceptance_failed:"red"})[a]||"default",U=a=>({material_reviewing:"ææ–™å®¡æ ¸ä¸­",meeting_preparing:"ä¼šè®®å¾…ç»„ç»‡",meeting_scheduled:"ä¼šè®®å·²å®‰æ’",acceptance_passed:"éªŒæ”¶é€šè¿‡",acceptance_conditional:"æœ‰æ¡ä»¶é€šè¿‡",acceptance_failed:"éªŒæ”¶æœªé€šè¿‡"})[a]||"æœªçŸ¥",A=a=>({material_reviewing:35,meeting_preparing:60,meeting_scheduled:80,acceptance_passed:100,acceptance_conditional:95,acceptance_failed:100})[a]||0,E=a=>a==="acceptance_failed"?"exception":a==="acceptance_passed"?"success":"active",L=(a,e=null)=>a==="material_reviewing"&&(e!=null&&e.materialRejected)?"ææ–™éœ€è¦é‡æ–°æäº¤":{material_reviewing:"ææ–™å®¡æ ¸ä¸­",meeting_preparing:"ä¼šè®®å¾…ç»„ç»‡",meeting_scheduled:"ç­‰å¾…å‚åŠ ä¼šè®®",acceptance_passed:"éªŒæ”¶é€šè¿‡",acceptance_conditional:"å¾…æäº¤æ•´æ”¹ææ–™",acceptance_failed:"éªŒæ”¶æœªé€šè¿‡"}[a]||"æœªçŸ¥é˜¶æ®µ",Q=()=>{z.push("/acceptance/application/submit")},G=()=>{},H=()=>{},K=a=>{I.info(`é‡æ–°æäº¤ç”³è¯·ï¼š${a.projectName}`);let e="";a.reviewComments&&a.reviewComments.length>0&&(e=a.reviewComments.map(r=>`ã€${r.reviewer} - ${r.time}ã€‘ï¼š${r.content}`).join(`
`)),z.push({path:"/acceptance/application/submit",query:{resubmit:"true",projectId:a.id,projectName:encodeURIComponent(a.projectName),projectCode:a.projectCode,expectedTime:a.expectedTime,description:encodeURIComponent(a.description),reviewComments:encodeURIComponent(e)}})},W=a=>{l.value=a,N.value=!0},X=()=>{N.value=!1,l.value=null},Y=a=>{I.info(`é¢„è§ˆææ–™ï¼š${a.name}`)},Z=a=>{I.success(`ä¸‹è½½ææ–™ï¼š${a.name}`)},ee=a=>{var e;z.push({path:"/acceptance/application/submit",query:{resubmit:"true",projectId:a.id,projectName:encodeURIComponent(a.projectName),projectCode:a.projectCode,expectedTime:a.expectedTime,description:encodeURIComponent(a.description),rejectionReason:encodeURIComponent(((e=a.rejectionInfo)==null?void 0:e.rejectionReason)||"")}})},te=a=>{const e=a.rejectionInfo;if(!e){I.warning("æš‚æ— é©³å›ä¿¡æ¯");return}const r=`
    <div style="line-height: 1.6;">
      <div style="margin-bottom: 16px;">
        <strong>é©³å›æ—¶é—´ï¼š</strong>${e.time}
      </div>
      <div style="margin-bottom: 16px;">
        <strong>å®¡æ ¸äººå‘˜ï¼š</strong>${e.reviewer}
      </div>
      <div style="margin-bottom: 16px;">
        <strong>å®¡æ ¸æ„è§ï¼š</strong>
        <div style="margin-top: 8px; padding: 12px; background: #f5f5f5; border-radius: 6px;">
          ${e.comments}
        </div>
      </div>
      <div style="margin-bottom: 16px;">
        <strong>å…·ä½“è¦æ±‚ï¼š</strong>
        <div style="margin-top: 8px; padding: 12px; background: #fff2f0; border: 1px solid #ffccc7; border-radius: 6px; white-space: pre-line;">
          ${e.rejectionReason}
        </div>
      </div>
      <div style="margin-top: 16px; padding: 12px; background: #e6f7ff; border-radius: 6px;">
        <div style="color: #1890ff; font-weight: 500;">ğŸ’¡ æ¸©é¦¨æç¤º</div>
        <div style="margin-top: 4px; color: #666;">è¯·æ ¹æ®ä¸Šè¿°è¦æ±‚ä¿®æ”¹å’Œè¡¥å……ææ–™åé‡æ–°æäº¤ï¼Œå¦‚æœ‰ç–‘é—®å¯è”ç³»å®¡æ ¸äººå‘˜ã€‚</div>
      </div>
    </div>
  `;Ie.info({title:"ææ–™å®¡æ ¸é©³å›è¯¦æƒ…",width:600,content:r,okText:"æˆ‘çŸ¥é“äº†"})},se=a=>{I.info(`æäº¤æ•´æ”¹ææ–™ï¼š${a.projectName}`);let e="";a.finalResult&&a.finalResult.requirements&&(e=a.finalResult.requirements),z.push({path:"/acceptance/application/submit",query:{improvement:"true",projectId:a.id,projectName:encodeURIComponent(a.projectName),projectCode:a.projectCode,expectedTime:a.expectedTime,description:encodeURIComponent(a.description),improvementRequirements:encodeURIComponent(e)}})},ae=()=>{$.value=!$.value},R=a=>{g.value.keyword="",g.value.status=a};return ue(()=>{}),(a,e)=>{const r=p("a-button"),k=p("a-col"),P=p("a-row"),h=p("a-step"),y=p("a-tag"),_=p("a-steps"),F=p("a-card"),ie=p("a-badge"),j=p("a-select-option"),ne=p("a-select"),le=p("a-input-search"),oe=p("a-progress"),D=p("a-space"),de=p("a-table"),m=p("a-descriptions-item"),S=p("a-descriptions"),ce=p("a-modal");return u(),b("div",Oe,[i("div",Pe,[e[10]||(e[10]=i("div",{class:"header-content"},[i("h1",{class:"page-title"},"éªŒæ”¶ç”³è¯·ç®¡ç†"),i("p",{class:"page-description"},"æŸ¥çœ‹å’Œç®¡ç†æ‚¨æäº¤çš„é¡¹ç›®éªŒæ”¶ç”³è¯·")],-1)),i("div",Se,[t(r,{type:"primary",onClick:Q},{default:s(()=>[t(v(me)),e[9]||(e[9]=n(" æäº¤æ–°ç”³è¯· "))]),_:1,__:[9]})])]),i("div",Me,[t(P,{gutter:16},{default:s(()=>[t(k,{xs:12,sm:8,md:6,lg:4,xl:4},{default:s(()=>[i("div",{class:"stat-card pending",onClick:e[0]||(e[0]=d=>R("material_reviewing"))},[i("div",qe,[t(v(_e))]),i("div",Ue,[i("div",Fe,o(w.value.materialReviewing),1),e[11]||(e[11]=i("div",{class:"stat-label"},"ææ–™å®¡æ ¸ä¸­",-1))])])]),_:1}),t(k,{xs:12,sm:8,md:6,lg:4,xl:4},{default:s(()=>[i("div",{class:"stat-card reviewing",onClick:e[1]||(e[1]=d=>R("meeting_preparing"))},[i("div",De,[t(v(ve))]),i("div",Je,[i("div",Be,o(w.value.meetingPreparing),1),e[12]||(e[12]=i("div",{class:"stat-label"},"ä¼šè®®å¾…ç»„ç»‡",-1))])])]),_:1}),t(k,{xs:12,sm:8,md:6,lg:4,xl:4},{default:s(()=>[i("div",{class:"stat-card scheduled",onClick:e[2]||(e[2]=d=>R("meeting_scheduled"))},[i("div",Ve,[t(v(fe))]),i("div",Ae,[i("div",Ee,o(w.value.meetingScheduled),1),e[13]||(e[13]=i("div",{class:"stat-label"},"ä¼šè®®å·²å®‰æ’",-1))])])]),_:1}),t(k,{xs:12,sm:8,md:6,lg:4,xl:4},{default:s(()=>[i("div",{class:"stat-card completed",onClick:e[3]||(e[3]=d=>R("acceptance_passed"))},[i("div",Le,[t(v(ge))]),i("div",Qe,[i("div",Ge,o(w.value.acceptancePassed),1),e[14]||(e[14]=i("div",{class:"stat-label"},"éªŒæ”¶é€šè¿‡",-1))])])]),_:1}),t(k,{xs:12,sm:8,md:6,lg:4,xl:4},{default:s(()=>[i("div",{class:"stat-card conditional",onClick:e[4]||(e[4]=d=>R("acceptance_conditional"))},[i("div",He,[t(v(ze))]),i("div",Ke,[i("div",We,o(w.value.acceptanceConditional),1),e[15]||(e[15]=i("div",{class:"stat-label"},"æœ‰æ¡ä»¶é€šè¿‡",-1))])])]),_:1}),t(k,{xs:12,sm:8,md:6,lg:4,xl:4},{default:s(()=>[i("div",{class:"stat-card rejected",onClick:e[5]||(e[5]=d=>R("acceptance_failed"))},[i("div",Xe,[t(v(ye))]),i("div",Ye,[i("div",Ze,o(w.value.acceptanceFailed),1),e[16]||(e[16]=i("div",{class:"stat-label"},"éªŒæ”¶æœªé€šè¿‡",-1))])])]),_:1})]),_:1})]),t(F,{class:"flow-description",title:"éªŒæ”¶æµç¨‹è¯´æ˜",bordered:!1},{extra:s(()=>[t(r,{type:"link",size:"small",onClick:ae},{default:s(()=>[n(o($.value?"æ”¶èµ·":"å±•å¼€"),1)]),_:1})]),default:s(()=>[be(i("div",et,[t(_,{current:3,size:"small",direction:"horizontal",status:"finish"},{default:s(()=>[t(h,{title:"æäº¤ç”³è¯·",description:"å‡†å¤‡ææ–™å¹¶æäº¤éªŒæ”¶ç”³è¯·",status:"finish"}),t(h,{title:"ææ–™å®¡æ ¸",status:"finish"},{description:s(()=>[i("div",tt,[e[18]||(e[18]=n(" ç­‰å¾…ç®¡ç†å‘˜å®¡æ ¸éªŒæ”¶ææ–™ ")),i("div",st,[t(y,{color:"orange",size:"small"},{default:s(()=>e[17]||(e[17]=[n("ææ–™å®¡æ ¸ä¸­")])),_:1,__:[17]})])])]),_:1}),t(h,{title:"ç»„ç»‡ä¼šè®®",status:"finish"},{description:s(()=>[i("div",at,[e[21]||(e[21]=n(" ç­‰å¾…ç®¡ç†å‘˜ç»„ç»‡éªŒæ”¶ä¼šè®® ")),i("div",it,[t(y,{color:"blue",size:"small"},{default:s(()=>e[19]||(e[19]=[n("ä¼šè®®å¾…ç»„ç»‡")])),_:1,__:[19]}),t(y,{color:"cyan",size:"small"},{default:s(()=>e[20]||(e[20]=[n("ä¼šè®®å·²å®‰æ’")])),_:1,__:[20]})])])]),_:1}),t(h,{title:"éªŒæ”¶ç»“è®º",status:"finish"},{description:s(()=>[i("div",nt,[e[25]||(e[25]=n(" æ ¹æ®ä¼šè®®ç»“æœè·å¾—æœ€ç»ˆç»“è®º ")),i("div",lt,[t(y,{color:"green",size:"small"},{default:s(()=>e[22]||(e[22]=[n("éªŒæ”¶é€šè¿‡")])),_:1,__:[22]}),t(y,{color:"orange",size:"small"},{default:s(()=>e[23]||(e[23]=[n("æœ‰æ¡ä»¶é€šè¿‡")])),_:1,__:[23]}),t(y,{color:"red",size:"small"},{default:s(()=>e[24]||(e[24]=[n("éªŒæ”¶æœªé€šè¿‡")])),_:1,__:[24]})])])]),_:1})]),_:1})],512),[[Ce,$.value]])]),_:1}),t(F,{bordered:!1},{title:s(()=>[i("div",ot,[e[26]||(e[26]=i("span",null,"æˆ‘çš„éªŒæ”¶ç”³è¯·",-1)),t(ie,{count:w.value.total,"number-style":{backgroundColor:"#1890ff"}},null,8,["count"])])]),extra:s(()=>[i("div",dt,[t(ne,{value:g.value.status,"onUpdate:value":e[6]||(e[6]=d=>g.value.status=d),placeholder:"ç­›é€‰çŠ¶æ€",style:{width:"150px"},onChange:G},{default:s(()=>[t(j,{value:""},{default:s(()=>e[27]||(e[27]=[n("å…¨éƒ¨çŠ¶æ€")])),_:1,__:[27]}),t(j,{value:"material_reviewing"},{default:s(()=>e[28]||(e[28]=[n("ææ–™å®¡æ ¸ä¸­")])),_:1,__:[28]}),t(j,{value:"meeting_preparing"},{default:s(()=>e[29]||(e[29]=[n("ä¼šè®®å¾…ç»„ç»‡")])),_:1,__:[29]}),t(j,{value:"meeting_scheduled"},{default:s(()=>e[30]||(e[30]=[n("ä¼šè®®å·²å®‰æ’")])),_:1,__:[30]}),t(j,{value:"acceptance_passed"},{default:s(()=>e[31]||(e[31]=[n("éªŒæ”¶é€šè¿‡")])),_:1,__:[31]}),t(j,{value:"acceptance_conditional"},{default:s(()=>e[32]||(e[32]=[n("æœ‰æ¡ä»¶é€šè¿‡")])),_:1,__:[32]}),t(j,{value:"acceptance_failed"},{default:s(()=>e[33]||(e[33]=[n("éªŒæ”¶æœªé€šè¿‡")])),_:1,__:[33]})]),_:1},8,["value"]),t(le,{value:g.value.keyword,"onUpdate:value":e[7]||(e[7]=d=>g.value.keyword=d),placeholder:"æœç´¢é¡¹ç›®åç§°",style:{width:"200px"},onSearch:H},null,8,["value"])])]),default:s(()=>[t(de,{columns:B,"data-source":V.value,pagination:M.value,"row-key":"id",size:"middle"},{bodyCell:s(({column:d,record:c})=>[d.key==="projectInfo"?(u(),b("div",ct,[i("div",rt,o(c.projectName),1),i("div",ut,o(c.projectCode),1)])):d.key==="status"?(u(),C(y,{key:1,color:q(c.status)},{default:s(()=>[n(o(U(c.status)),1)]),_:2},1032,["color"])):d.key==="progress"?(u(),b("div",pt,[t(oe,{percent:A(c.status),size:"small",status:E(c.status)},null,8,["percent","status"]),i("div",mt,o(L(c.status,c)),1)])):d.key==="actions"?(u(),C(D,{key:3},{default:s(()=>[c.status==="material_reviewing"&&c.materialRejected?(u(),C(r,{key:0,type:"primary",size:"small",onClick:O=>ee(c)},{default:s(()=>e[34]||(e[34]=[n(" é‡æ–°æäº¤ææ–™ ")])),_:2,__:[34]},1032,["onClick"])):f("",!0),c.status==="acceptance_conditional"?(u(),C(r,{key:1,type:"primary",size:"small",onClick:O=>se(c)},{default:s(()=>e[35]||(e[35]=[n(" æäº¤æ•´æ”¹ææ–™ ")])),_:2,__:[35]},1032,["onClick"])):f("",!0),c.status==="acceptance_failed"?(u(),C(r,{key:2,type:"primary",size:"small",onClick:O=>K(c)},{default:s(()=>e[36]||(e[36]=[n(" é‡æ–°æäº¤ç”³è¯· ")])),_:2,__:[36]},1032,["onClick"])):f("",!0),c.status==="material_reviewing"&&c.materialRejected?(u(),C(r,{key:3,size:"small",onClick:O=>te(c)},{default:s(()=>e[37]||(e[37]=[n(" æŸ¥çœ‹é©³å›åŸå›  ")])),_:2,__:[37]},1032,["onClick"])):f("",!0),["acceptance_passed","acceptance_conditional","acceptance_failed"].includes(c.status)?(u(),C(r,{key:4,size:"small",onClick:O=>W(c)},{default:s(()=>e[38]||(e[38]=[n(" æŸ¥çœ‹è¯¦æƒ… ")])),_:2,__:[38]},1032,["onClick"])):f("",!0)]),_:2},1024)):f("",!0)]),_:1},8,["data-source","pagination"])]),_:1}),t(ce,{open:N.value,"onUpdate:open":e[8]||(e[8]=d=>N.value=d),title:"éªŒæ”¶ç”³è¯·è¯¦æƒ…",width:"800px",footer:null,onCancel:X},{default:s(()=>[l.value?(u(),b("div",_t,[i("div",vt,[i("h4",null,[t(v($e)),e[39]||(e[39]=n(" é¡¹ç›®åŸºæœ¬ä¿¡æ¯"))]),t(S,{column:2,bordered:"",size:"small"},{default:s(()=>[t(m,{label:"é¡¹ç›®ç¼–å·"},{default:s(()=>[n(o(l.value.projectCode),1)]),_:1}),t(m,{label:"é¡¹ç›®åç§°",span:2},{default:s(()=>[n(o(l.value.projectName),1)]),_:1}),t(m,{label:"ç”³è¯·æ—¶é—´"},{default:s(()=>[n(o(l.value.submitTime),1)]),_:1}),t(m,{label:"é¢„æœŸéªŒæ”¶æ—¶é—´"},{default:s(()=>[n(o(l.value.expectedTime),1)]),_:1}),t(m,{label:"å½“å‰çŠ¶æ€"},{default:s(()=>[t(y,{color:q(l.value.status)},{default:s(()=>[n(o(U(l.value.status)),1)]),_:1},8,["color"])]),_:1}),t(m,{label:"é¡¹ç›®æè¿°",span:2},{default:s(()=>[n(o(l.value.description),1)]),_:1})]),_:1})]),l.value.materials&&l.value.materials.length>0?(u(),b("div",ft,[i("h4",null,[t(v(xe)),e[40]||(e[40]=n(" æäº¤ææ–™"))]),i("div",gt,[(u(!0),b(ke,null,we(l.value.materials,d=>(u(),b("div",{class:"material-item",key:d.id},[i("div",yt,[i("div",bt,o(d.name),1),i("div",Ct,o(d.type),1)]),t(D,null,{default:s(()=>[t(r,{size:"small",type:"text",onClick:c=>Y(d)},{default:s(()=>[t(v(je)),e[41]||(e[41]=n(" é¢„è§ˆ "))]),_:2,__:[41]},1032,["onClick"]),t(r,{size:"small",type:"text",onClick:c=>Z(d)},{default:s(()=>[t(v(Re)),e[42]||(e[42]=n(" ä¸‹è½½ "))]),_:2,__:[42]},1032,["onClick"])]),_:2},1024)]))),128))])])):f("",!0),l.value.finalResult?(u(),b("div",xt,[i("h4",null,[t(v(Ne)),e[43]||(e[43]=n(" éªŒæ”¶ç»“è®º"))]),t(S,{column:2,bordered:"",size:"small"},{default:s(()=>[t(m,{label:"éªŒæ”¶ç»“æœ"},{default:s(()=>[t(y,{color:l.value.finalResult.conclusion==="passed"?"green":l.value.finalResult.conclusion==="failed"?"red":"orange"},{default:s(()=>[n(o(l.value.finalResult.conclusion==="passed"?"éªŒæ”¶é€šè¿‡":l.value.finalResult.conclusion==="failed"?"éªŒæ”¶æœªé€šè¿‡":"æœ‰æ¡ä»¶é€šè¿‡"),1)]),_:1},8,["color"])]),_:1}),t(m,{label:"ç»“è®ºæ—¶é—´"},{default:s(()=>[n(o(l.value.finalResult.time),1)]),_:1}),l.value.finalResult.score?(u(),C(m,{key:0,label:"è¯„åˆ†"},{default:s(()=>[i("span",{style:he({color:l.value.finalResult.score>=90?"#52c41a":l.value.finalResult.score>=80?"#fa8c16":"#ff4d4f"})},o(l.value.finalResult.score)+"åˆ† ",5)]),_:1})):f("",!0),t(m,{label:"ç»“è®ºè¯´æ˜",span:2},{default:s(()=>[n(o(l.value.finalResult.description),1)]),_:1}),l.value.finalResult.requirements?(u(),C(m,{key:1,label:"æ•´æ”¹è¦æ±‚",span:2},{default:s(()=>[i("div",kt,o(l.value.finalResult.requirements),1)]),_:1})):f("",!0)]),_:1})])):f("",!0),l.value.rejectionInfo?(u(),b("div",wt,[i("h4",null,[t(v(Te)),e[44]||(e[44]=n(" é©³å›ä¿¡æ¯"))]),t(S,{column:2,bordered:"",size:"small"},{default:s(()=>[t(m,{label:"é©³å›æ—¶é—´"},{default:s(()=>[n(o(l.value.rejectionInfo.time),1)]),_:1}),t(m,{label:"å®¡æ ¸äººå‘˜"},{default:s(()=>[n(o(l.value.rejectionInfo.reviewer),1)]),_:1}),t(m,{label:"å®¡æ ¸æ„è§",span:2},{default:s(()=>[n(o(l.value.rejectionInfo.comments),1)]),_:1}),t(m,{label:"é©³å›åŸå› ",span:2},{default:s(()=>[i("div",jt,o(l.value.rejectionInfo.rejectionReason),1)]),_:1})]),_:1})])):f("",!0)])):f("",!0)]),_:1},8,["open"])])}}},Nt=re(Rt,[["__scopeId","data-v-41760732"]]);export{Nt as default};
