import{j as r,I as G,h as f,_ as J,a8 as X,d as l,u as Y,A as Z,i as ee,c as te,a,w as i,l as y,m as ae,o as m,b as o,k as p,x as t,ak as q,z as A,t as T,a9 as R}from"./index-CLrs7Nd9.js";import"./AuditOutlined-BJO04ZR6.js";import"./RocketOutlined-Cm_STHdO.js";import"./PieChartOutlined-yJ1iVs9T.js";import"./DollarOutlined-oEhX2Qfg.js";import"./LineChartOutlined-D7an8S4O.js";import"./SettingOutlined-CAs0l5pH.js";import{P as ne}from"./ProjectOutlined-CMgGj_eA.js";import{D as re}from"./DashboardOutlined-DO2Jftc3.js";import{C as ie}from"./CheckSquareOutlined-lpJ8ionH.js";import{T as oe}from"./TeamOutlined-Bn75L3DU.js";import{D as se}from"./DatabaseOutlined-C5diyI65.js";import{U as D}from"./UserOutlined-BFkHhxCn.js";import"./RobotOutlined-Crxb5lXF.js";import{A as me}from"./AppstoreOutlined-B0Pu4Cbr.js";import{T as ce}from"./ToolOutlined-DAFj_zPZ.js";import{F as le}from"./FileAddOutlined-m1nX71eW.js";import{S as pe}from"./ScheduleOutlined-B0-o31YI.js";var ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"};function I(g){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?Object(arguments[c]):{},v=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(d).filter(function(h){return Object.getOwnPropertyDescriptor(d,h).enumerable}))),v.forEach(function(h){de(g,h,d[h])})}return g}function de(g,c,d){return c in g?Object.defineProperty(g,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):g[c]=d,g}var K=function(c,d){var v=I({},c,d.attrs);return r(G,I({},v,{icon:ue}),null)};K.displayName="ContainerOutlined";K.inheritAttrs=!1;f(["project:view","project:add","project:edit","project:delete","research:view","research:requirements:list","research:requirements:add","research:requirements:edit","research:requirements:delete","research:results:list","research:results:add","research:results:edit","research:results:delete","approval:view","approval:applicant:manage","approval:applicant:submit","approval:management:center","approval:management:conclusion","implementation:view","implementation:center","implementation:contract","implementation:nodes","implementation:payment","implementation:progress","implementation:opening","implementation:midterm","implementation:approval","implementation:acceptance","acceptance:view","acceptance:applicant:manage","acceptance:applicant:submit","acceptance:applicant:progress","acceptance:management:center","acceptance:management:conclusion","acceptance:management:archive","project-manager:view","project-manager:dashboard","project-manager:projects","project-manager:tasks","project-manager:team","project-manager:resources","project-manager:analytics","project-manager:help","project-manager:archive","project-manager:archive:completed","project-manager:archive:documents","project-manager:archive:statistics","ai-assistant:view","ai-assistant:project-manager","ai-assistant:team-member","ai-assistant:management","ai-assistant:help","team-member:view","team-member:dashboard","team-member:tasks","team-member:projects","team-member:skills","team-member:workflow","team-member:collaboration","team-member:help","settings:view","settings:system","settings:user","settings:role","settings:menu","settings:dept","settings:post","settings:dict","settings:param","settings:log","settings:material-template","settings:node-template","maintenance:view","maintenance:project-template","maintenance:material-template","maintenance:budget-template","maintenance:ppt-template","maintenance:node-data","maintenance:node-template","maintenance:staff","analytics:view","analytics:project","analytics:performance","analytics:cost","analytics:risk","achievements:view","achievements:list","achievements:add","achievements:edit","achievements:delete","literature:view","literature:list","literature:add","literature:edit","literature:delete"]);function u(g){return!0}const _e={class:"main-layout"},ge={class:"main-content"},he={class:"drawer-content"},ve={class:"drawer-options"},fe={class:"option-icon"},je={class:"option-info"},be={class:"option-arrow"},ye={class:"option-icon"},ke={class:"option-info"},we={class:"option-arrow"},Ce={__name:"Layout",setup(g){const c=ae(),d=Y(),v=X(),h=f([]),M=l(()=>{if(h.value.length>0)return h.value;if(b.value.length>0)return b.value;const n=d.path,e={"/dashboard":"dashboard","/project":"project","/research/requirements":"research-requirements","/research/results":"research-results","/approval/center":"approval-center","/approval/materials":"approval-materials","/approval/review":"approval-review","/approval/decision":"approval-decision","/implementation/approval":"project-approval","/implementation/center":"implementation-center","/implementation/contract":"implementation-contract","/implementation/nodes":"implementation-nodes","/implementation/payment":"implementation-payment","/implementation/progress":"implementation-progress","/implementation/opening":"implementation-opening","/implementation/midterm":"implementation-midterm","/implementation/acceptance":"project-acceptance","/project-manager/dashboard":"project-manager-dashboard","/project-manager/projects":"project-manager-projects","/project-manager/projects/config-wizard":"project-manager-projects","/project-manager/tasks":"project-manager-tasks","/project-manager/team":"project-manager-team","/project-manager/resources":"project-manager-resources","/project-manager/analytics":"project-manager-analytics","/project-manager/help":"project-manager-help","/project/archive/completed":"project-archive-completed","/project-manager/templates":"project-template-maintenance","/ai-assistant/project-manager":"ai-assistant-project-manager","/ai-assistant/team-member":"ai-assistant-team-member","/ai-assistant/management":"ai-assistant-management","/ai-assistant/help":"ai-assistant-help","/team-member/tasks":"team-member-tasks-board","/team-member/help":"team-member-help","/analytics":"analysis","/achievements":"achievements","/literature":"knowledge-base","/settings":"settings"};return e[n]?[e[n]]:n==="/project/archive/completed"?["project-archive-completed"]:n.startsWith("/project/")&&!n.startsWith("/project/archive")?["project-manager-projects"]:["project-manager-dashboard"]}),k=f(["project-manager","team-member","maintenance"]),w=l(()=>{const n=[];return n.push("project-manager"),n.push("team-member"),n.push("maintenance"),n}),z=l(()=>k.value.filter(n=>w.value.includes(n)));f({requirements:123,results:32,materials:25,reviews:3,decisions:8,contracts:12,payments:18,progress:25,opening:15,openingApplications:6,midterm:18,midtermApplications:9,acceptance:12,applications:8,achievements:45});const N=l(()=>v.getTotalUnreadCount()),U=l(()=>v.getTotalUnreadCount());l(()=>!0),l(()=>!0),l(()=>!0),l(()=>!0),l(()=>!0),l(()=>!0),l(()=>!0);const C=f(!1),O=f(""),B=f(""),b=f([]),x=l(()=>({opening:{submit:"上传开题报告、实施方案等材料",meeting:"组织开题论证会议、收集专家意见"},midterm:{submit:"提交中期检查报告、阶段性成果",meeting:"组织中期检查会议、评审进展"}})[O.value]||{submit:"",meeting:""});function E(n){k.value=n.filter(e=>w.value.includes(e))}function H({key:n,keyPath:e}){b.value=[],h.value=[];const j={dashboard:"/dashboard",project:"/project","research-requirements":"/research/requirements","research-results":"/research/results","approval-center":"/approval/center","approval-materials":"/approval/materials","approval-review":"/approval/review","approval-decision":"/approval/decision","project-approval":"/implementation/approval","implementation-center":"/implementation/center","implementation-contract":"/implementation/contract","implementation-nodes":"/implementation/nodes","implementation-payment":"/implementation/payment","implementation-progress":"/implementation/progress","implementation-opening":"/implementation/opening","implementation-midterm":"/implementation/midterm","project-acceptance":"/implementation/acceptance","project-archive-completed":"/project/archive/completed",analysis:"/analytics",achievements:"/achievements",maintenance:"/settings","project-template-maintenance":"/project-manager/templates","material-template-maintenance":"/settings/material-template","budget-template-maintenance":"/settings","ppt-template-maintenance":"/settings","node-data-maintenance":"/settings","node-template-maintenance":"/settings","knowledge-maintenance":"/settings","approval-doc-maintenance":"/settings","inquiry-sms-template-maintenance":"/settings","role-permission-maintenance":"/settings","staff-maintenance":"/settings","project-manager-dashboard":"/project-manager/dashboard","project-manager-projects":"/project-manager/projects","project-manager-tasks":"/project-manager/tasks","project-manager-team":"/project-manager/team","project-manager-resources":"/project-manager/resources","project-manager-analytics":"/project-manager/analytics","project-manager-help":"/project-manager/help","ai-assistant-project-manager":"/ai-assistant/project-manager","ai-assistant-team-member":"/ai-assistant/team-member","ai-assistant-management":"/ai-assistant/management","ai-assistant-help":"/ai-assistant/help","team-member-tasks-board":"/team-member/tasks","team-member-help":"/team-member/help","knowledge-base":"/literature",settings:"/settings"}[n];j&&c.push(j)}function S(){C.value=!1,O.value="",B.value="",b.value=[]}function P(n){const e=`/implementation/${O.value}/${n}`;c.push(e),S()}Z(()=>d.path,()=>{h.value=[],b.value=[]},{immediate:!0}),ee(()=>{h.value=[],b.value=[],k.value=k.value.filter(n=>w.value.includes(n)),setTimeout(()=>{L()},100)});function L(){document.querySelectorAll(".ant-menu-item, .ant-menu-submenu-title").forEach(e=>{e.querySelectorAll(".anticon").forEach(s=>{s.style.marginRight="",s.style.fontSize=""}),e.querySelectorAll("span").forEach(s=>{s.style.fontSize="",s.style.fontWeight="",s.style.paddingLeft="",s.textContent.trim()==="..."&&(e.classList.add("menu-item-ellipsis"),s.style.display="inline-block",s.style.maxWidth="100%",s.style.overflow="visible")})}),$()}function $(){document.querySelectorAll(".ant-menu-title-content").forEach(e=>{e.style.whiteSpace="normal",e.style.wordBreak="break-word"})}return(n,e)=>{const _=y("a-menu-item"),j=y("a-sub-menu"),s=y("a-badge"),W=y("a-menu"),F=y("router-view"),Q=y("a-drawer");return m(),te("div",_e,[r(W,{mode:"inline",selectedKeys:M.value,openKeys:z.value,onOpenChange:E,class:"main-sider",onClick:H,theme:"light",inlineIndent:24,style:{width:"260px"},forceSubMenuRender:!0,multiple:!1,overflowedIndicator:null},{default:i(()=>[o("",!0),t(u)(["project-manager:view"])?(m(),p(j,{key:"project-manager","data-menu-id":"project-manager"},{title:i(()=>[r(t(D)),e[12]||(e[12]=a("span",null,"项目经理后台",-1)),r(s,{count:N.value,offset:[8,-2],overflowCount:99},null,8,["count"])]),default:i(()=>[t(u)(["project-manager:dashboard"])?(m(),p(_,{key:"project-manager-dashboard"},{default:i(()=>[r(t(re)),e[13]||(e[13]=a("span",null,"仪表板",-1))]),_:1,__:[13]})):o("",!0),t(u)(["project-manager:projects"])?(m(),p(_,{key:"project-manager-projects"},{default:i(()=>[r(t(ne)),e[14]||(e[14]=a("span",null,"项目详情管理",-1)),r(s,{count:N.value,overflowCount:99,class:"menu-item-badge"},null,8,["count"])]),_:1,__:[14]})):o("",!0),t(u)(["project-manager:tasks"])?(m(),p(_,{key:"project-manager-tasks"},{default:i(()=>[r(t(ie)),e[15]||(e[15]=a("span",null,"任务管理",-1))]),_:1,__:[15]})):o("",!0),t(u)(["project-manager:team"])?(m(),p(_,{key:"project-manager-team"},{default:i(()=>[r(t(oe)),e[16]||(e[16]=a("span",null,"团队管理",-1))]),_:1,__:[16]})):o("",!0),t(u)(["project-manager:archive:completed"])?(m(),p(_,{key:"project-archive-completed"},{default:i(()=>[r(t(se)),e[17]||(e[17]=a("span",null,"项目归档",-1))]),_:1,__:[17]})):o("",!0),t(u)(["project-manager:help"])?(m(),p(_,{key:"project-manager-help"},{default:i(()=>[r(t(q)),e[18]||(e[18]=a("span",null,"使用指南",-1))]),_:1,__:[18]})):o("",!0)]),_:1})):o("",!0),o("",!0),t(u)(["team-member:view"])?(m(),p(j,{key:"team-member","data-menu-id":"team-member"},{title:i(()=>[r(t(D)),e[24]||(e[24]=a("span",null,"团队成员工作台",-1)),r(s,{count:U.value,offset:[8,-2],overflowCount:99},null,8,["count"])]),default:i(()=>[t(u)(["team-member:tasks"])?(m(),p(_,{key:"team-member-tasks-board"},{default:i(()=>[r(t(me)),e[25]||(e[25]=a("span",null,"我的任务看板",-1))]),_:1,__:[25]})):o("",!0),t(u)(["team-member:help"])?(m(),p(_,{key:"team-member-help"},{default:i(()=>[r(t(q)),e[26]||(e[26]=a("span",null,"使用指南",-1))]),_:1,__:[26]})):o("",!0)]),_:1})):o("",!0),t(u)(["maintenance:view"])?(m(),p(j,{key:"maintenance"},{title:i(()=>[r(t(ce)),e[27]||(e[27]=a("span",null,"日常维护",-1))]),default:i(()=>[t(u)(["maintenance:project-template"])?(m(),p(_,{key:"project-template-maintenance"},{default:i(()=>[r(t(A)),e[28]||(e[28]=a("span",null,"项目模板管理",-1))]),_:1,__:[28]})):o("",!0),t(u)(["maintenance:material-template"])?(m(),p(_,{key:"material-template-maintenance"},{default:i(()=>[r(t(A)),e[29]||(e[29]=a("span",null,"材料提交模板维护",-1))]),_:1,__:[29]})):o("",!0)]),_:1})):o("",!0)]),_:1},8,["selectedKeys","openKeys"]),a("div",ge,[r(F)]),r(Q,{open:C.value,"onUpdate:open":e[2]||(e[2]=V=>C.value=V),title:B.value,placement:"right",width:"320",onClose:S},{default:i(()=>[a("div",he,[a("div",ve,[a("div",{class:"option-item",onClick:e[0]||(e[0]=V=>P("submit"))},[a("div",fe,[r(t(le))]),a("div",je,[e[30]||(e[30]=a("h3",null,"材料提交",-1)),a("p",null,T(x.value.submit),1)]),a("div",be,[r(t(R))])]),a("div",{class:"option-item",onClick:e[1]||(e[1]=V=>P("meeting"))},[a("div",ye,[r(t(pe))]),a("div",ke,[e[31]||(e[31]=a("h3",null,"组织会议",-1)),a("p",null,T(x.value.meeting),1)]),a("div",we,[r(t(R))])])])])]),_:1},8,["open","title"])])}}},Ye=J(Ce,[["__scopeId","data-v-4a96b042"]]);export{Ye as default};
