import{_ as R,h as s,i as L,u as S,c as p,a as c,j as t,w as o,l as n,m as T,o as u,F as U,s as D,k as E,p as a,t as J,b as K,f as g}from"./index-CLrs7Nd9.js";const M={class:"contract-container"},z={class:"action-bar"},G={class:"content-area"},H={key:0},Q={__name:"index",setup(W){const d=s([]);function C(l){return d.value=[l],!1}function x(l){d.value=[]}function k(){g.success("合同下载功能开发中...")}const b=[{title:"节点名称",dataIndex:"name",key:"name"},{title:"付款比例(%)",dataIndex:"percent",key:"percent"},{title:"条件说明",dataIndex:"condition",key:"condition"}],I=s([{id:"C001",name:"首付款",percent:30,condition:"合同签订后7日内"},{id:"C002",name:"中期款",percent:40,condition:"项目进度过半"},{id:"C003",name:"尾款",percent:30,condition:"项目验收合格"}]);function j(){g.info("自动解析功能开发中...")}const _=S(),w=T(),m=s(""),f=s(null),N=s([]);L(()=>{_.query.projectId&&(m.value=_.query.projectId)});function B(){w.push({path:"/implementation/nodes",query:{projectId:m.value,nodes:JSON.stringify(N.value)}})}const P=s([{id:"P001",name:"项目A"},{id:"P002",name:"项目B"}]);function h(l){console.log("当前选择项目:",l)}return(l,e)=>{const A=n("a-select-option"),O=n("a-select"),v=n("a-tag"),r=n("a-button"),V=n("a-upload"),y=n("a-card"),q=n("a-alert"),F=n("a-table");return u(),p("div",M,[e[7]||(e[7]=c("div",{class:"page-header"},[c("h1",{class:"page-title"},"合同管理"),c("div",{class:"page-desc"},"管理项目合同文件，自动解析付款条款，集成OA流程与节点配置")],-1)),c("div",z,[t(O,{value:f.value,"onUpdate:value":e[0]||(e[0]=i=>f.value=i),placeholder:"选择项目",style:{width:"220px","margin-right":"12px"},onChange:h},{default:o(()=>[(u(!0),p(U,null,D(P.value,i=>(u(),E(A,{key:i.id,value:i.id},{default:o(()=>[a(J(i.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"]),t(v,{color:"red"},{default:o(()=>e[1]||(e[1]=[a("对接OA流程",-1)])),_:1,__:[1]})]),c("div",G,[t(y,{class:"file-section",title:"合同文件上传与管理"},{default:o(()=>[t(V,{"file-list":d.value,"before-upload":C,"on-remove":x,"max-count":1},{default:o(()=>[t(r,{type:"primary"},{default:o(()=>e[2]||(e[2]=[a("上传合同文件",-1)])),_:1,__:[2]})]),_:1},8,["file-list"]),d.value.length?(u(),p("div",H,[t(r,{type:"link",onClick:k},{default:o(()=>e[3]||(e[3]=[a("下载合同",-1)])),_:1,__:[3]})])):K("",!0),t(v,{color:"red"},{default:o(()=>e[4]||(e[4]=[a("合同文件与OA流程同步",-1)])),_:1,__:[4]})]),_:1}),t(y,{class:"clause-section",title:"付款条款自动解析"},{default:o(()=>[t(q,{message:"系统将自动解析合同中的付款条款，生成项目节点配置建议。",type:"info","show-icon":""}),t(r,{type:"primary",onClick:j,style:{"margin-top":"16px"}},{default:o(()=>e[5]||(e[5]=[a("自动解析条款",-1)])),_:1,__:[5]}),t(F,{columns:b,"data-source":I.value,rowKey:"id",bordered:"",style:{"margin-top":"16px"}},null,8,["data-source"]),t(r,{type:"dashed",style:{"margin-top":"16px"},onClick:B},{default:o(()=>e[6]||(e[6]=[a(" 跳转到节点配置 ",-1)])),_:1,__:[6]})]),_:1})])])}}},Y=R(Q,[["__scopeId","data-v-3785d1bc"]]);export{Y as default};
