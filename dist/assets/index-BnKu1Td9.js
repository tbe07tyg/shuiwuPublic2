import{_ as ot,a8 as nt,h as T,e as ne,d as le,i as lt,u as it,f as v,m as rt,c as M,a as o,j as s,w as a,l,o as _,p as n,x as m,S as dt,R as ie,z as re,a9 as N,D as ut,k as y,b as P,t as u,n as de,U as pt,O as mt,T as ue,Z as ct,aa as _t,a4 as pe,F as gt,s as ft,y as vt}from"./index-CLrs7Nd9.js";import{R as me}from"./RocketOutlined-Cm_STHdO.js";import{S as F}from"./SettingOutlined-CAs0l5pH.js";import{I as yt}from"./InboxOutlined-D20kumRm.js";import{U as kt}from"./UploadOutlined-U6qGJXGO.js";import{D as wt}from"./DashboardOutlined-DO2Jftc3.js";const bt={class:"project-management"},xt={class:"search-section"},Dt={class:"info-section"},Ct={class:"status-flow"},St={style:{color:"#234fa2","margin-bottom":"12px"}},Mt={class:"flow-steps"},Tt={class:"flow-item"},Pt={class:"flow-item"},Ot={class:"flow-item"},ht={class:"flow-item"},It={class:"operation-guide"},zt={style:{color:"#234fa2","margin-bottom":"12px"}},$t={class:"operation-list"},jt={class:"operation-item"},Rt={class:"operation-item"},Ut={class:"operation-item"},At={class:"operation-item"},Bt={class:"sort-info"},Nt={style:{color:"#234fa2","margin-bottom":"8px"}},Ft={class:"sort-flow"},Kt={class:"sort-step"},qt={class:"sort-step"},Et={class:"sort-step"},Jt={class:"sort-step"},Lt={class:"actions-section"},Vt={class:"projects-section"},Ht={key:1,class:"progress-with-unread"},Wt={key:0,class:"project-detail"},Qt={key:0,class:"task-name-with-unread"},Zt={key:1,class:"task-assignee"},Gt={class:"member-option"},Xt={style:{color:"#999","margin-left":"8px"}},Yt={__name:"index",setup(es){const k=rt(),ce=it(),O=nt(),K=t=>{var g;const e=String(t.id),p=(g=O.computeProjectProgress)==null?void 0:g.call(O,e);return typeof p=="number"&&!Number.isNaN(p)?p:Number.isFinite(t.progress)?Math.round(t.progress):0},h=T(!1),I=T(!1),d=T(null),j=T("tasks"),q=T(["flow"]),w=ne({name:"",status:void 0,manager:""}),z=ne({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0,showTotal:(t,e)=>`ç¬¬ ${e[0]}-${e[1]} æ¡/å…± ${t} æ¡`}),C=T([{id:10001,name:"äº’åŠ¨è”è°ƒæ¼”ç¤ºé¡¹ç›®",code:"PRJ-2025-DEMO-001",status:"active",detailStatus:"active",priority:"high",progress:45,manager:"å¼ ç»ç†",startDate:"2025-01-20",endDate:"2025-12-31",description:"ç”¨äºŽéªŒè¯å›¢é˜Ÿæˆå‘˜æ›´æ–°è¿›åº¦/è¯„è®º/æ“ä½œåŽ†å²åœ¨é¡¹ç›®ç›‘æŽ§ä¸­çš„å®žæ—¶è”åŠ¨",nextMilestone:"ä¸­æœŸæ£€æŸ¥",milestoneDate:"2025-08-31",isConfigured:!0,tasks:[{id:9001,name:"è”è°ƒ-å‰ç«¯é›†æˆä¸ŽéªŒè¯",status:"active",progress:30,assignedTo:{id:99,name:"å¼ ä¸‰(æ¼”ç¤ºè´¦å·)",role:"developer"},startDate:"2025-01-22",endDate:"2025-02-15",description:"åœ¨å›¢é˜Ÿæˆå‘˜çœ‹æ¿ä¾§æ›´æ–°è¿›åº¦ä¸Žè¯„è®ºï¼Œè§‚å¯Ÿé¡¹ç›®ç›‘æŽ§ä¾§çš„åŒæ­¥æ•ˆæžœ"},{id:9002,name:"è”è°ƒ-ææ–™æäº¤æµè½¬",status:"pending",progress:0,assignedTo:{id:99,name:"å¼ ä¸‰(æ¼”ç¤ºè´¦å·)",role:"developer"},startDate:"2025-02-01",endDate:"2025-02-20",description:"ä»Žæ¨¡æ¿å¸¦å‡ºææ–™ï¼Œæˆå‘˜æäº¤ï¼ŒPMé¢„å®¡å¹¶è½¬ç®¡ç†å±‚"}],teamMembers:[{name:"å¼ ç»ç†",role:"é¡¹ç›®ç»ç†",status:"active"},{name:"å¼ ä¸‰(æ¼”ç¤ºè´¦å·)",role:"å‰ç«¯å¼€å‘",status:"active"}],files:[]},{id:1,name:"æ™ºèƒ½ç§‘ç ”ç®¡ç†ç³»ç»Ÿå¼€å‘",code:"PRJ-2024-001",status:"active",detailStatus:"active",priority:"high",progress:75,manager:"å¼ ç»ç†",startDate:"2024-01-15",endDate:"2024-06-30",description:"å¼€å‘ä¸€å¥—æ™ºèƒ½åŒ–çš„ç§‘ç ”ç®¡ç†ç³»ç»Ÿï¼Œæå‡ç§‘ç ”é¡¹ç›®ç®¡ç†æ•ˆçŽ‡",nextMilestone:"ä¸­æœŸæ£€æŸ¥",milestoneDate:"2024-03-15",isConfigured:!0,tasks:[{id:1,name:"éœ€æ±‚åˆ†æž",status:"completed",progress:100},{id:2,name:"ç³»ç»Ÿè®¾è®¡",status:"completed",progress:100},{id:3,name:"å‰ç«¯å¼€å‘",status:"active",progress:80},{id:4,name:"åŽç«¯å¼€å‘",status:"active",progress:60},{id:5,name:"ç³»ç»Ÿæµ‹è¯•",status:"pending",progress:0}],teamMembers:[{name:"å¼ ç»ç†",role:"é¡¹ç›®ç»ç†",status:"active"},{name:"æŽå¼€å‘",role:"å‰ç«¯å¼€å‘",status:"active"},{name:"çŽ‹åŽç«¯",role:"åŽç«¯å¼€å‘",status:"active"},{name:"èµµæµ‹è¯•",role:"æµ‹è¯•å·¥ç¨‹å¸ˆ",status:"active"}],files:[]},{id:2,name:"æ•°æ®åˆ†æžå¹³å°å»ºè®¾",code:"PRJ-2024-002",status:"planning",detailStatus:"configured",priority:"high",progress:30,manager:"æŽç»ç†",startDate:"2024-02-01",endDate:"2024-08-31",description:"æž„å»ºä¼ä¸šçº§æ•°æ®åˆ†æžå¹³å°ï¼Œæ”¯æŒå¤§æ•°æ®å¤„ç†å’Œåˆ†æž",nextMilestone:"é¡¹ç›®å¼€é¢˜",milestoneDate:"2024-02-15",isConfigured:!1,tasks:[{id:1,name:"éœ€æ±‚è°ƒç ”",status:"completed",progress:100,assignedTo:{id:1,name:"å¼ ç»ç†",role:"manager"},startDate:"2024-02-01",endDate:"2024-02-10",description:"è°ƒç ”ç”¨æˆ·éœ€æ±‚å’Œä¸šåŠ¡æµç¨‹"},{id:2,name:"æŠ€æœ¯é€‰åž‹",status:"active",progress:80,assignedTo:{id:3,name:"çŽ‹åŽç«¯",role:"developer"},startDate:"2024-02-05",endDate:"2024-02-15",description:"é€‰æ‹©åˆé€‚çš„æŠ€æœ¯æ ˆå’Œæž¶æž„æ–¹æ¡ˆ"},{id:3,name:"æž¶æž„è®¾è®¡",status:"pending",progress:0,assignedTo:null,startDate:"2024-02-12",endDate:"2024-02-20",description:"è®¾è®¡ç³»ç»Ÿæ•´ä½“æž¶æž„"}],teamMembers:[{name:"æŽç»ç†",role:"é¡¹ç›®ç»ç†",status:"active"},{name:"é™ˆæž¶æž„",role:"æž¶æž„å¸ˆ",status:"active"}],files:[]},{id:4,name:"åŒºå—é“¾å­˜è¯ç³»ç»Ÿ",code:"PRJ-2024-004",status:"planning",detailStatus:"just_approved",priority:"high",progress:0,manager:"èµµç»ç†",startDate:"2024-02-10",endDate:"2024-07-30",description:"åŸºäºŽåŒºå—é“¾æŠ€æœ¯çš„æ•°æ®å­˜è¯ç³»ç»Ÿå¼€å‘",nextMilestone:"éœ€è¦é…ç½®",milestoneDate:null,isConfigured:!1,tasks:[],teamMembers:[],files:[]},{id:5,name:"ï¼ˆå ä½ï¼Œå¾…æ–°å¢žé¡¹ç›®ï¼‰",code:"PRJ-PLACEHOLDER-001",status:"planning",detailStatus:"just_approved",priority:"medium",progress:0,manager:"å¾…å®š",startDate:"2024-03-01",endDate:"2024-09-30",description:"è¯·é€šè¿‡æ–°å¢žé¡¹ç›®åŠŸèƒ½å½•å…¥çœŸå®žé¡¹ç›®",nextMilestone:"é¡¹ç›®å¼€é¢˜",milestoneDate:null,isConfigured:!1,tasks:[],teamMembers:[],files:[]},{id:6,name:"åŒºå—é“¾å­˜è¯ç³»ç»Ÿ",code:"PRJ-2024-004",status:"planning",detailStatus:"just_approved",priority:"medium",progress:0,manager:"èµµç»ç†",startDate:"2024-02-10",endDate:"2024-07-30",description:"éœ€è¦å®Œæˆé¡¹ç›®é…ç½®",nextMilestone:"éœ€è¦å®Œæˆé…ç½®",milestoneDate:"2024-02-15",isConfigured:!1,tasks:[],teamMembers:[],files:[]}]),E=t=>({planning:1,active:2,completed:3})[t]||999,_e=le(()=>[...C.value].sort((t,e)=>{const p=E(t.status),g=E(e.status);if(p!==g)return p-g;const S={high:1,medium:2,low:3},$=S[t.priority]||4,f=S[e.priority]||4;return $!==f?$-f:new Date(e.startDate)-new Date(t.startDate)})),ge=[{title:"é¡¹ç›®åç§°",dataIndex:"name",key:"name",width:200,fixed:"left"},{title:"é¡¹ç›®ç¼–å·",dataIndex:"code",key:"code",width:120},{title:"çŠ¶æ€",dataIndex:"status",key:"status",width:100},{title:"çŠ¶æ€æç¤º",key:"statusHint",width:160},{title:"ä¼˜å…ˆçº§",dataIndex:"priority",key:"priority",width:100},{title:"è¿›åº¦",dataIndex:"progress",key:"progress",width:150},{title:"é¡¹ç›®ç»ç†",dataIndex:"manager",key:"manager",width:120},{title:"å¼€å§‹æ—¥æœŸ",dataIndex:"startDate",key:"startDate",width:120},{title:"ç»“æŸæ—¥æœŸ",dataIndex:"endDate",key:"endDate",width:120},{title:"æ“ä½œ",key:"action",width:200,fixed:"right"}],fe=[{title:"ä»»åŠ¡åç§°",dataIndex:"name",key:"name"},{title:"åˆ†é…ç»™",dataIndex:"assignedTo",key:"assignedTo",width:150},{title:"çŠ¶æ€",dataIndex:"status",key:"status",width:100},{title:"è¿›åº¦",dataIndex:"progress",key:"progress",width:150},{title:"æ“ä½œ",key:"action",width:120}],J=t=>({active:"blue",planning:"orange",completed:"green",suspended:"red"})[t]||"default",L=t=>({active:"è¿›è¡Œä¸­",planning:"è§„åˆ’ä¸­",completed:"å·²å®Œæˆ"})[t]||"æœªçŸ¥",V=t=>({high:"red",medium:"orange",low:"green"})[t]||"default",H=t=>({high:"é«˜",medium:"ä¸­",low:"ä½Ž"})[t]||"æœªçŸ¥",W=le(()=>[{id:1,name:"å¼ ç»ç†",role:"manager"},{id:2,name:"æŽå¼€å‘",role:"developer"},{id:3,name:"çŽ‹åŽç«¯",role:"developer"},{id:4,name:"èµµæµ‹è¯•",role:"tester"},{id:5,name:"é’±è®¾è®¡",role:"designer"},{id:6,name:"å­™äº§å“",role:"product"},{id:7,name:"å‘¨æž¶æž„",role:"architect"}]),ve=(t,e)=>{if(!e){t.assignedTo=null,v.info("å·²å–æ¶ˆä»»åŠ¡åˆ†é…");return}const p=W.value.find(g=>g.id===e);p&&(t.assignedTo=p,v.success(`ä»»åŠ¡"${t.name}"å·²åˆ†é…ç»™${p.name}`))},ye=t=>{console.log("ç¼–è¾‘ä»»åŠ¡:",t),v.info("ä»»åŠ¡ç¼–è¾‘åŠŸèƒ½å¼€å‘ä¸­...")},ke=t=>{console.log("åˆ é™¤ä»»åŠ¡:",t),v.warning("ç¡®è®¤åˆ é™¤æ­¤ä»»åŠ¡å—ï¼Ÿ")},Q=t=>t>=80?"#52c41a":t>=60?"#1890ff":t>=40?"#faad14":"#f5222d",we=t=>({completed:"green",active:"blue",pending:"orange",suspended:"red"})[t]||"default",be=t=>({completed:"å·²å®Œæˆ",active:"è¿›è¡Œä¸­",pending:"å¾…å¼€å§‹",suspended:"å·²æš‚åœ"})[t]||"æœªçŸ¥",Z=()=>{console.log("æœç´¢æ¡ä»¶:",w),h.value=!0,setTimeout(()=>{h.value=!1},1e3)},xe=()=>{Object.assign(w,{name:"",status:void 0,manager:""}),Z()},De=t=>{z.current=t.current,z.pageSize=t.pageSize},Ce=t=>{d.value=t,I.value=!0},Se=t=>{console.log("ç¼–è¾‘é¡¹ç›®:",t),k.push(`/project-manager/projects/${t.id}/edit`)},Me=t=>{console.log("å¤åˆ¶é¡¹ç›®:",t)},G=t=>{console.log("å½’æ¡£é¡¹ç›®:",t)},Te=t=>{console.log("åˆ é™¤é¡¹ç›®:",t)},Pe=()=>{console.log("æ‰¹é‡å¯¼å‡º")},Oe=()=>{h.value=!0,setTimeout(()=>{h.value=!1},1e3)},X=t=>O.getUnreadCountForProject(String(t)),Y=(t,e)=>O.getUnreadCountForTask(String(t),String(e)),he=()=>{k.push("/project/archive/completed")},Ie=t=>({just_approved:"éœ€è¦å®Œæˆé¡¹ç›®é…ç½®",configured:"å¯ä»¥å¯åŠ¨é¡¹ç›®æ‰§è¡Œ",active:"é¡¹ç›®æ­£å¸¸è¿›è¡Œä¸­",milestone_due:`${t.nextMilestone}å³å°†åˆ°æœŸ`,completed:"é¡¹ç›®å·²å®Œæˆå¯å½’æ¡£"})[t.detailStatus]||"çŠ¶æ€æœªçŸ¥",ze=t=>({just_approved:"primary",configured:"primary",active:"primary",milestone_due:"primary",completed:"default"})[t]||"default",$e=t=>({just_approved:"ç«‹å³é…ç½®",configured:"å¯åŠ¨é¡¹ç›®",active:"é¡¹ç›®ç›‘æŽ§",milestone_due:"å‡†å¤‡ææ–™",completed:"é¡¹ç›®å½’æ¡£"})[t]||"æ“ä½œ",je=t=>({just_approved:F,configured:me,active:wt,milestone_due:re,completed:vt})[t]||F,Re=t=>{switch(t.detailStatus){case"just_approved":Ue(t);break;case"configured":Be(t);break;case"active":Ne(t);break;case"milestone_due":Fe(t);break;case"completed":G(t);break;default:v.info("æ“ä½œåŠŸèƒ½å¼€å‘ä¸­")}},Ue=t=>{k.push({path:"/project-manager/projects/config-wizard",query:{projectId:t.id,projectName:t.name,projectCode:t.code}})},Ae=(t,e)=>{const p=C.value.findIndex(g=>g.id===t);p!==-1&&(C.value[p].status=e,C.value[p].detailStatus="active",console.log("é¡¹ç›®çŠ¶æ€å·²æ›´æ–°:",t,e))},Be=t=>{if(!t.teamMembers||t.teamMembers.length===0){v.warning("è¯·å…ˆåˆ†é…å›¢é˜Ÿæˆå‘˜å†å¯åŠ¨é¡¹ç›®ï¼"),d.value=t,j.value="members",I.value=!0;return}if(!t.tasks||t.tasks.length===0){v.warning("è¯·å…ˆé…ç½®é¡¹ç›®ä»»åŠ¡ç»“æž„å†å¯åŠ¨é¡¹ç›®ï¼"),d.value=t,j.value="tasks",I.value=!0;return}window.confirm(`ç¡®è®¤å¯åŠ¨é¡¹ç›®"${t.name}"å—ï¼Ÿ

å¯åŠ¨åŽé¡¹ç›®å°†è¿›å…¥æ‰§è¡Œé˜¶æ®µï¼Œå›¢é˜Ÿæˆå‘˜å°†å¼€å§‹æŒ‰ç…§WBSè®¡åˆ’æ‰§è¡Œä»»åŠ¡ã€‚`)&&(Ae(t.id,"active"),k.push({path:`/project-manager/projects/monitor/${t.id}`}),v.success(`é¡¹ç›®"${t.name}"å·²æˆåŠŸå¯åŠ¨ï¼è¿›å…¥é¡¹ç›®ç›‘æŽ§é¡µé¢`))},Ne=t=>{k.push({path:`/project-manager/projects/monitor/${t.id}`,query:{name:t.name,code:t.code,progress:t.progress,startDate:t.startDate,endDate:t.endDate}}),v.info(`è¿›å…¥é¡¹ç›®ç›‘æŽ§: ${t.name}`)},Fe=t=>{const e={projectId:t.id,projectName:t.name,projectCode:t.code,fromPM:"true",milestoneType:t.nextMilestone};t.nextMilestone.includes("å¼€é¢˜")?(k.push({path:"/opening/application/submit",query:e}),v.info("æ­£åœ¨è·³è½¬åˆ°å¼€é¢˜ææ–™æäº¤é¡µé¢...")):t.nextMilestone.includes("ä¸­æœŸ")?(k.push({path:"/midterm/application/submit",query:e}),v.info("æ­£åœ¨è·³è½¬åˆ°ä¸­æœŸææ–™æäº¤é¡µé¢...")):t.nextMilestone.includes("éªŒæ”¶")?(k.push({path:"/acceptance/application/submit",query:e}),v.info("æ­£åœ¨è·³è½¬åˆ°éªŒæ”¶ææ–™æäº¤é¡µé¢...")):(v.warning(`æœªè¯†åˆ«çš„é‡Œç¨‹ç¢‘ç±»åž‹ï¼š${t.nextMilestone}`),console.log("éœ€è¦ä¸ºæœªçŸ¥é‡Œç¨‹ç¢‘ç±»åž‹æä¾›é€šç”¨ææ–™ç®¡ç†ç•Œé¢")),console.log("é‡Œç¨‹ç¢‘ææ–™å‡†å¤‡æ“ä½œ:",{projectId:t.id,milestoneType:t.nextMilestone,timestamp:new Date().toISOString(),action:"prepare_milestone_materials"})};lt(()=>{z.total=C.value.length,Ke()});const Ke=()=>{const{fromApproval:t,projectId:e,autoCreated:p}=ce.query;if(t==="true"&&p==="true"&&e){v.success({content:`é¡¹ç›®ç«‹é¡¹é€šè¿‡ï¼é¡¹ç›®å·²è‡ªåŠ¨æ·»åŠ åˆ°ç®¡ç†åˆ—è¡¨ä¸­ï¼Œé¡¹ç›®ID: ${e}`,duration:5});const g={id:e,name:`ç«‹é¡¹é¡¹ç›®-${e}`,status:"active",manager:"å½“å‰ç”¨æˆ·",progress:0,budget:"å¾…ç¡®å®š",startDate:new Date().toISOString().split("T")[0],endDate:"å¾…ç¡®å®š",description:"æ¥è‡ªç«‹é¡¹è‡ªåŠ¨åˆ›å»ºçš„é¡¹ç›®",isAutoCreated:!0,fromApproval:!0};C.value.unshift(g),z.total=C.value.length,k.replace({path:"/project-manager/projects"})}};return(t,e)=>{const p=l("a-input"),g=l("a-form-item"),S=l("a-select-option"),$=l("a-select"),f=l("a-button"),qe=l("a-form"),ee=l("a-card"),Ee=l("a-alert"),c=l("a-tag"),te=l("a-col"),Je=l("a-row"),se=l("a-divider"),Le=l("a-collapse-panel"),Ve=l("a-collapse"),R=l("a-space"),U=l("a-progress"),ae=l("a-badge"),A=l("a-menu-item"),He=l("a-menu-divider"),We=l("a-menu"),Qe=l("a-dropdown"),oe=l("a-table"),b=l("a-descriptions-item"),Ze=l("a-descriptions"),B=l("a-tab-pane"),Ge=l("a-avatar"),Xe=l("a-list-item-meta"),Ye=l("a-list-item"),et=l("a-list"),tt=l("a-upload"),st=l("a-tabs"),at=l("a-modal");return _(),M("div",bt,[e[55]||(e[55]=o("div",{class:"page-header"},[o("h1",null,"é¡¹ç›®ç®¡ç†"),o("p",{class:"subtitle"},"é¡¹ç›®åˆ—è¡¨ä¸Žè¯¦æƒ…ç®¡ç†")],-1)),o("div",xt,[s(ee,{class:"search-card"},{default:a(()=>[s(qe,{layout:"inline",model:w},{default:a(()=>[s(g,{label:"é¡¹ç›®åç§°"},{default:a(()=>[s(p,{value:w.name,"onUpdate:value":e[0]||(e[0]=r=>w.name=r),placeholder:"è¯·è¾“å…¥é¡¹ç›®åç§°","allow-clear":"",style:{width:"200px"}},null,8,["value"])]),_:1}),s(g,{label:"é¡¹ç›®çŠ¶æ€"},{default:a(()=>[s($,{value:w.status,"onUpdate:value":e[1]||(e[1]=r=>w.status=r),placeholder:"è¯·é€‰æ‹©çŠ¶æ€","allow-clear":"",style:{width:"150px"}},{default:a(()=>[s(S,{value:"active"},{default:a(()=>e[6]||(e[6]=[n("è¿›è¡Œä¸­",-1)])),_:1,__:[6]}),s(S,{value:"planning"},{default:a(()=>e[7]||(e[7]=[n("è§„åˆ’ä¸­",-1)])),_:1,__:[7]}),s(S,{value:"completed"},{default:a(()=>e[8]||(e[8]=[n("å·²å®Œæˆ",-1)])),_:1,__:[8]})]),_:1},8,["value"])]),_:1}),s(g,{label:"é¡¹ç›®ç»ç†"},{default:a(()=>[s(p,{value:w.manager,"onUpdate:value":e[2]||(e[2]=r=>w.manager=r),placeholder:"è¯·è¾“å…¥é¡¹ç›®ç»ç†","allow-clear":"",style:{width:"150px"}},null,8,["value"])]),_:1}),s(g,null,{default:a(()=>[s(f,{type:"primary",onClick:Z},{default:a(()=>[s(m(dt)),e[9]||(e[9]=n(" æœç´¢ ",-1))]),_:1,__:[9]}),s(f,{style:{"margin-left":"8px"},onClick:xe},{default:a(()=>[s(m(ie)),e[10]||(e[10]=n(" é‡ç½® ",-1))]),_:1,__:[10]})]),_:1})]),_:1},8,["model"])]),_:1})]),o("div",Dt,[s(Ee,{message:"é¡¹ç›®æ¥æºè¯´æ˜Ž",description:"é¡¹ç›®ç”±ç«‹é¡¹å®¡æ‰¹é€šè¿‡åŽè‡ªåŠ¨åˆ›å»ºï¼Œé¡¹ç›®ç»ç†æ— éœ€æ‰‹åŠ¨æ·»åŠ é¡¹ç›®ã€‚æ‰€æœ‰é¡¹ç›®å‡æ¥è‡ªå·²é€šè¿‡å®¡æ‰¹çš„ç«‹é¡¹ç”³è¯·ã€‚",type:"info","show-icon":"",style:{"margin-bottom":"16px"}}),s(Ve,{activeKey:q.value,"onUpdate:activeKey":e[3]||(e[3]=r=>q.value=r),size:"small",style:{"margin-bottom":"16px"},bordered:!1,class:"flow-collapse"},{default:a(()=>[s(Le,{key:"flow",header:"ðŸ“‹ é¡¹ç›®çŠ¶æ€ä¸Žæ“ä½œæµç¨‹"},{default:a(()=>[s(Je,{gutter:[16,16]},{default:a(()=>[s(te,{span:12},{default:a(()=>[o("div",Ct,[o("h4",St,[s(m(me)),e[11]||(e[11]=n(" é¡¹ç›®çŠ¶æ€æµç¨‹ ",-1))]),o("div",Mt,[o("div",Tt,[s(c,{color:"orange"},{default:a(()=>e[12]||(e[12]=[n("1. è§„åˆ’ä¸­",-1)])),_:1,__:[12]}),e[13]||(e[13]=o("span",{class:"flow-desc"},"ç«‹é¡¹é€šè¿‡ â†’ ç­‰å¾…é…ç½®",-1))]),e[20]||(e[20]=o("div",{class:"flow-arrow"},"â†“",-1)),o("div",Pt,[s(c,{color:"cyan"},{default:a(()=>e[14]||(e[14]=[n("2. å·²é…ç½®",-1)])),_:1,__:[14]}),e[15]||(e[15]=o("span",{class:"flow-desc"},"é…ç½®å®Œæˆ â†’ ç­‰å¾…å¯åŠ¨",-1))]),e[21]||(e[21]=o("div",{class:"flow-arrow"},"â†“",-1)),o("div",Ot,[s(c,{color:"blue"},{default:a(()=>e[16]||(e[16]=[n("3. è¿›è¡Œä¸­",-1)])),_:1,__:[16]}),e[17]||(e[17]=o("span",{class:"flow-desc"},"é¡¹ç›®å¯åŠ¨ â†’ æ‰§è¡Œç›‘æŽ§",-1))]),e[22]||(e[22]=o("div",{class:"flow-arrow"},"â†“",-1)),o("div",ht,[s(c,{color:"green"},{default:a(()=>e[18]||(e[18]=[n("4. å·²å®Œæˆ",-1)])),_:1,__:[18]}),e[19]||(e[19]=o("span",{class:"flow-desc"},"é¡¹ç›®ç»“æŸ â†’ æˆæžœå½’æ¡£",-1))])])])]),_:1}),s(te,{span:12},{default:a(()=>[o("div",It,[o("h4",zt,[s(m(F)),e[23]||(e[23]=n(" å¯¹åº”æ“ä½œè¯´æ˜Ž ",-1))]),o("div",$t,[o("div",jt,[s(c,{color:"orange"},{default:a(()=>e[24]||(e[24]=[n("1. ç«‹å³é…ç½®",-1)])),_:1,__:[24]}),e[25]||(e[25]=o("span",null,"è®¾ç½®WBSä»»åŠ¡ã€åˆ†é…å›¢é˜Ÿæˆå‘˜",-1))]),e[33]||(e[33]=o("div",{class:"flow-arrow"},"â†“",-1)),o("div",Rt,[s(c,{color:"cyan"},{default:a(()=>e[26]||(e[26]=[n("2. å¯åŠ¨é¡¹ç›®",-1)])),_:1,__:[26]}),e[27]||(e[27]=o("span",null,"éªŒè¯å›¢é˜Ÿ&ä»»åŠ¡ â†’ æ­£å¼å¯åŠ¨",-1))]),e[34]||(e[34]=o("div",{class:"flow-arrow"},"â†“",-1)),o("div",Ut,[s(c,{color:"blue"},{default:a(()=>e[28]||(e[28]=[n("3. é¡¹ç›®ç›‘æŽ§",-1)])),_:1,__:[28]}),e[29]||(e[29]=o("span",null,"æŸ¥çœ‹è¿›åº¦ç”˜ç‰¹å›¾å’Œä»»åŠ¡ç®¡ç†",-1))]),e[35]||(e[35]=o("div",{class:"flow-arrow"},"â†“",-1)),o("div",At,[s(c,{color:"green"},{default:a(()=>e[30]||(e[30]=[n("4. é¡¹ç›®å½’æ¡£",-1)])),_:1,__:[30]}),e[32]||(e[32]=o("span",null,"æˆæžœæ•´ç†å’Œæ–‡æ¡£å½’æ¡£",-1)),s(f,{type:"link",size:"small",onClick:he,style:{padding:"0","margin-left":"8px"}},{default:a(()=>e[31]||(e[31]=[n(" æŸ¥çœ‹å½’æ¡£ â†’ ",-1)])),_:1,__:[31]})])])])]),_:1})]),_:1}),s(se,{style:{margin:"16px 0"}}),o("div",Bt,[o("h4",Nt,[s(m(re)),e[36]||(e[36]=n(" åˆ—è¡¨æŽ’åºè§„åˆ™ ",-1))]),e[45]||(e[45]=o("p",{style:{color:"#666",margin:"0 0 12px 0"}},[n(" é¡¹ç›®åˆ—è¡¨æŒ‰ç…§ "),o("strong",null,"çŠ¶æ€æµç¨‹é¡ºåº"),n(" å’Œ "),o("strong",null,"æ“ä½œç´§æ€¥åº¦"),n(" ä»Žä¸Šå¾€ä¸‹æŽ’åºï¼š ")],-1)),o("div",Ft,[o("div",Kt,[s(c,{color:"orange",size:"small"},{default:a(()=>e[37]||(e[37]=[n("è§„åˆ’ä¸­",-1)])),_:1,__:[37]}),e[38]||(e[38]=o("span",{class:"sort-desc"},"éœ€è¦ç«‹å³é…ç½® (æœ€é«˜ä¼˜å…ˆçº§)",-1))]),s(m(N),{class:"sort-arrow"}),o("div",qt,[s(c,{color:"cyan",size:"small"},{default:a(()=>e[39]||(e[39]=[n("å·²é…ç½®",-1)])),_:1,__:[39]}),e[40]||(e[40]=o("span",{class:"sort-desc"},"ç­‰å¾…å¯åŠ¨",-1))]),s(m(N),{class:"sort-arrow"}),o("div",Et,[s(c,{color:"blue",size:"small"},{default:a(()=>e[41]||(e[41]=[n("è¿›è¡Œä¸­",-1)])),_:1,__:[41]}),e[42]||(e[42]=o("span",{class:"sort-desc"},"æŒç»­ç›‘æŽ§",-1))]),s(m(N),{class:"sort-arrow"}),o("div",Jt,[s(c,{color:"green",size:"small"},{default:a(()=>e[43]||(e[43]=[n("å·²å®Œæˆ",-1)])),_:1,__:[43]}),e[44]||(e[44]=o("span",{class:"sort-desc"},"è¿›è¡Œå½’æ¡£",-1))])])])]),_:1})]),_:1},8,["activeKey"])]),o("div",Lt,[s(R,null,{default:a(()=>[s(f,{onClick:Pe},{default:a(()=>[s(m(ut)),e[46]||(e[46]=n(" æ‰¹é‡å¯¼å‡º ",-1))]),_:1,__:[46]}),s(f,{onClick:Oe},{default:a(()=>[s(m(ie)),e[47]||(e[47]=n(" åˆ·æ–° ",-1))]),_:1,__:[47]})]),_:1})]),o("div",Vt,[s(ee,{class:"projects-card"},{default:a(()=>[s(oe,{dataSource:_e.value,columns:ge,loading:h.value,pagination:z,rowKey:"id",onChange:De},{bodyCell:a(({column:r,record:i})=>[r.key==="status"?(_(),y(c,{key:0,color:J(i.status)},{default:a(()=>[n(u(L(i.status)),1)]),_:2},1032,["color"])):r.key==="progress"?(_(),M("div",Ht,[s(U,{percent:K(i),"stroke-color":Q(K(i)),size:"small"},null,8,["percent","stroke-color"]),X(i.id)>0?(_(),y(ae,{key:0,count:X(i.id),"overflow-count":99,class:"progress-unread-badge"},null,8,["count"])):P("",!0)])):r.key==="priority"?(_(),y(c,{key:2,color:V(i.priority)},{default:a(()=>[n(u(H(i.priority)),1)]),_:2},1032,["color"])):r.key==="statusHint"?(_(),M("span",{key:3,class:de(["status-hint",`hint-${i.detailStatus}`])},u(Ie(i)),3)):r.key==="action"?(_(),y(R,{key:4},{default:a(()=>[s(f,{type:ze(i.detailStatus),size:"small",onClick:x=>Re(i),class:de(`btn-${i.detailStatus}`)},{default:a(()=>[(_(),y(pt(je(i.detailStatus)))),n(" "+u($e(i.detailStatus)),1)]),_:2},1032,["type","onClick","class"]),s(f,{type:"link",size:"small",onClick:x=>Ce(i)},{default:a(()=>[s(m(mt)),e[48]||(e[48]=n(" æŸ¥çœ‹ ",-1))]),_:2,__:[48]},1032,["onClick"]),s(f,{type:"link",size:"small",onClick:x=>Se(i)},{default:a(()=>[s(m(ue)),e[49]||(e[49]=n(" ç¼–è¾‘ ",-1))]),_:2,__:[49]},1032,["onClick"]),s(Qe,null,{overlay:a(()=>[s(We,null,{default:a(()=>[s(A,{onClick:x=>Me(i)},{default:a(()=>[s(m(_t)),e[51]||(e[51]=n(" å¤åˆ¶é¡¹ç›® ",-1))]),_:2,__:[51]},1032,["onClick"]),s(A,{onClick:x=>G(i)},{default:a(()=>[s(m(yt)),e[52]||(e[52]=n(" å½’æ¡£é¡¹ç›® ",-1))]),_:2,__:[52]},1032,["onClick"]),s(He),s(A,{danger:"",onClick:x=>Te(i)},{default:a(()=>[s(m(pe)),e[53]||(e[53]=n(" åˆ é™¤é¡¹ç›® ",-1))]),_:2,__:[53]},1032,["onClick"])]),_:2},1024)]),default:a(()=>[s(f,{type:"link",size:"small"},{default:a(()=>[e[50]||(e[50]=n(" æ›´å¤š ",-1)),s(m(ct))]),_:1,__:[50]})]),_:2},1024)]),_:2},1024)):P("",!0)]),_:1},8,["dataSource","loading","pagination"])]),_:1})]),s(at,{open:I.value,"onUpdate:open":e[5]||(e[5]=r=>I.value=r),title:"é¡¹ç›®è¯¦æƒ…",width:"800px",footer:null,"destroy-on-close":""},{default:a(()=>[d.value?(_(),M("div",Wt,[s(Ze,{title:"åŸºæœ¬ä¿¡æ¯",column:2,bordered:""},{default:a(()=>[s(b,{label:"é¡¹ç›®åç§°"},{default:a(()=>[n(u(d.value.name),1)]),_:1}),s(b,{label:"é¡¹ç›®ç¼–å·"},{default:a(()=>[n(u(d.value.code),1)]),_:1}),s(b,{label:"é¡¹ç›®ç»ç†"},{default:a(()=>[n(u(d.value.manager),1)]),_:1}),s(b,{label:"é¡¹ç›®çŠ¶æ€"},{default:a(()=>[s(c,{color:J(d.value.status)},{default:a(()=>[n(u(L(d.value.status)),1)]),_:1},8,["color"])]),_:1}),s(b,{label:"ä¼˜å…ˆçº§"},{default:a(()=>[s(c,{color:V(d.value.priority)},{default:a(()=>[n(u(H(d.value.priority)),1)]),_:1},8,["color"])]),_:1}),s(b,{label:"é¡¹ç›®è¿›åº¦"},{default:a(()=>[s(U,{percent:d.value.progress,"stroke-color":Q(d.value.progress)},null,8,["percent","stroke-color"])]),_:1}),s(b,{label:"å¼€å§‹æ—¥æœŸ"},{default:a(()=>[n(u(d.value.startDate),1)]),_:1}),s(b,{label:"ç»“æŸæ—¥æœŸ"},{default:a(()=>[n(u(d.value.endDate),1)]),_:1}),s(b,{label:"é¡¹ç›®æè¿°",span:2},{default:a(()=>[n(u(d.value.description),1)]),_:1})]),_:1}),s(se),s(st,{activeKey:j.value,"onUpdate:activeKey":e[4]||(e[4]=r=>j.value=r)},{default:a(()=>[s(B,{key:"tasks",tab:"ä»»åŠ¡åˆ—è¡¨"},{default:a(()=>[s(oe,{dataSource:d.value.tasks,columns:fe,pagination:!1,size:"small"},{bodyCell:a(({column:r,record:i})=>{var x;return[r.key==="name"?(_(),M("div",Qt,[o("span",null,u(i.name),1),Y(d.value.id,i.id)>0?(_(),y(ae,{key:0,count:Y(d.value.id,i.id),"overflow-count":99,class:"task-unread-badge"},null,8,["count"])):P("",!0)])):P("",!0),r.key==="assignedTo"?(_(),M("div",Zt,[s($,{value:(x=i.assignedTo)==null?void 0:x.id,placeholder:"é€‰æ‹©æˆå‘˜",style:{width:"120px"},size:"small","allow-clear":"",onChange:D=>ve(i,D)},{default:a(()=>[(_(!0),M(gt,null,ft(W.value,D=>(_(),y(S,{key:D.id,value:D.id},{default:a(()=>[o("div",Gt,[o("span",null,u(D.name),1),o("small",Xt,u(D.role),1)])]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onChange"])])):r.key==="status"?(_(),y(c,{key:2,color:we(i.status)},{default:a(()=>[n(u(be(i.status)),1)]),_:2},1032,["color"])):r.key==="progress"?(_(),y(U,{key:3,percent:i.progress,size:"small"},null,8,["percent"])):r.key==="action"?(_(),y(R,{key:4,size:"small"},{default:a(()=>[s(f,{type:"link",size:"small",onClick:D=>ye(i)},{default:a(()=>[s(m(ue))]),_:2},1032,["onClick"]),s(f,{type:"link",size:"small",danger:"",onClick:D=>ke(i)},{default:a(()=>[s(m(pe))]),_:2},1032,["onClick"])]),_:2},1024)):P("",!0)]}),_:1},8,["dataSource"])]),_:1}),s(B,{key:"team",tab:"å›¢é˜Ÿæˆå‘˜"},{default:a(()=>[s(et,{dataSource:d.value.teamMembers,"item-layout":"horizontal"},{renderItem:a(({item:r})=>[s(Ye,null,{actions:a(()=>[s(c,{color:r.status==="active"?"green":"orange"},{default:a(()=>[n(u(r.status==="active"?"åœ¨çº¿":"ç¦»çº¿"),1)]),_:2},1032,["color"])]),default:a(()=>[s(Xe,null,{avatar:a(()=>[s(Ge,null,{default:a(()=>[n(u(r.name.charAt(0)),1)]),_:2},1024)]),title:a(()=>[n(u(r.name),1)]),description:a(()=>[n(u(r.role),1)]),_:2},1024)]),_:2},1024)]),_:1},8,["dataSource"])]),_:1}),s(B,{key:"files",tab:"é¡¹ç›®æ–‡ä»¶"},{default:a(()=>[s(tt,{"file-list":d.value.files,"show-upload-list":{showPreviewIcon:!0,showRemoveIcon:!0}},{default:a(()=>[s(f,null,{default:a(()=>[s(m(kt)),e[54]||(e[54]=n(" ä¸Šä¼ æ–‡ä»¶ ",-1))]),_:1,__:[54]})]),_:1},8,["file-list"])]),_:1})]),_:1},8,["activeKey"])])):P("",!0)]),_:1},8,["open"])])}}},is=ot(Yt,[["__scopeId","data-v-b9546cbb"]]);export{is as default};
