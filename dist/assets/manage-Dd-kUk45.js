import{_ as re,c as B,a as I,o as pe,b as R,d as l,e as t,w as a,g as p,h as ue,i as c,j as i,m as b,O as ce,F as me,t as o,q as D,B as ve,C as _e,Q as fe,K as ge,N as be,f as y,p as _,y as ye,E as Ce,k as P,T as xe}from"./index-XOIS1SV9.js";import{B as we}from"./BulbOutlined-DZEqlzpn.js";import{F as ke}from"./FileSearchOutlined-BYFTh-3I.js";import{A as je}from"./AuditOutlined-zVkhJeET.js";const he={class:"applicant-manage-container"},Ie={class:"page-header"},Re={class:"header-actions"},Te={class:"stats-overview"},ze={class:"stat-icon"},Ne={class:"stat-content"},$e={class:"stat-number"},Oe={class:"stat-icon"},Se={class:"stat-content"},Pe={class:"stat-number"},qe={class:"stat-icon"},Me={class:"stat-content"},Ue={class:"stat-number"},Fe={class:"stat-icon"},Be={class:"stat-content"},De={class:"stat-number"},Je={class:"stat-icon"},Ve={class:"stat-content"},Ae={class:"stat-number"},Ee={class:"stat-icon"},Qe={class:"stat-content"},Ke={class:"stat-number"},Ge={class:"flow-content"},He={class:"step-description"},Le={class:"step-status-tags"},We={class:"step-description"},Xe={class:"step-status-tags"},Ye={class:"step-description"},Ze={class:"step-status-tags"},et={class:"card-title-with-total"},tt={class:"header-filters"},at={key:1,class:"progress-info"},st={class:"progress-text"},lt={key:0,class:"detail-modal"},it={class:"detail-section"},nt={key:0,class:"detail-section"},ot={key:1,class:"detail-section"},dt={class:"requirements-text"},rt={key:2,class:"detail-section"},pt={class:"rejection-reason"},ut={__name:"manage",setup(ct){const T=ue(),w=B(()=>{const s=C.value.length,e=C.value.filter(v=>v.status==="material_reviewing").length,u=C.value.filter(v=>v.status==="meeting_preparing").length,x=C.value.filter(v=>v.status==="meeting_scheduled").length,S=C.value.filter(v=>v.status==="approval_passed").length,h=C.value.filter(v=>v.status==="approval_conditional").length,g=C.value.filter(v=>v.status==="approval_failed").length;return{total:s,materialReviewing:e,meetingPreparing:u,meetingScheduled:x,approvalPassed:S,approvalConditional:h,approvalFailed:g}}),f=I({status:"",keyword:""}),z=I(!1),N=I(!1),n=I(null),C=I([{id:1,year:"2024",projectName:"æ™ºæ…§åŸå¸‚å¤§æ•°æ®å¹³å°å»ºè®¾é¡¹ç›®",applicant:"ç‹äº”",department:"æŠ€æœ¯éƒ¨",duration:18,budget:200,submitTime:"2024-01-15",status:"material_reviewing",projectCode:"PROJ-2024-001",expectedTime:"2024-03-15",description:"æ„å»ºåŸå¸‚çº§å¤§æ•°æ®åˆ†æå¹³å°ï¼Œæ”¯æŒå¤šæºæ•°æ®æ¥å…¥å’Œå®æ—¶åˆ†æ",materialRejected:!0,rejectionInfo:{time:"2024-01-18",reviewer:"å¼ å®¡æ ¸å‘˜",comments:"ææ–™åŸºæœ¬ç¬¦åˆè¦æ±‚ï¼Œä½†éœ€è¦å®Œå–„éƒ¨åˆ†å†…å®¹ã€‚",rejectionReason:"1. é¡¹ç›®ç”³è¯·ä¹¦ä¸­ç¼ºå°‘è¯¦ç»†çš„æŠ€æœ¯æŒ‡æ ‡ï¼›2. æŠ€æœ¯æ–¹æ¡ˆéœ€è¦è¡¥å……ç³»ç»Ÿæ¶æ„å›¾ï¼›3. è¯·æä¾›é¢„ç®—æ˜ç»†è¡¨ã€‚"}},{id:2,year:"2024",projectName:"åŒºå—é“¾ä¾›åº”é“¾é‡‘èå¹³å°",applicant:"èµµå…­",department:"å·¥ç¨‹éƒ¨",duration:12,budget:150,submitTime:"2024-01-20",status:"meeting_preparing",projectCode:"PROJ-2024-002",expectedTime:"2024-03-20",description:"åŸºäºåŒºå—é“¾æŠ€æœ¯çš„ä¾›åº”é“¾é‡‘èè§£å†³æ–¹æ¡ˆ"},{id:3,year:"2024",projectName:"ç‰©è”ç½‘ç¯å¢ƒç›‘æµ‹ç³»ç»Ÿ",applicant:"ææ˜",department:"è‡ªåŠ¨åŒ–éƒ¨",duration:24,budget:180,submitTime:"2024-01-12",status:"meeting_scheduled",projectCode:"PROJ-2024-003",expectedTime:"2024-03-12",description:"éƒ¨ç½²IoTä¼ æ„Ÿå™¨ç½‘ç»œï¼Œå®ç°ç¯å¢ƒæ•°æ®å®æ—¶ç›‘æ§",meetingInfo:{time:"2024-01-25 14:00",location:"ä¼šè®®å®¤A301",type:"offline",description:"é¡¹ç›®ç«‹é¡¹ä¼šè®®ï¼Œé‡ç‚¹è¯„å®¡ç¯å¢ƒç›‘æµ‹ç³»ç»Ÿçš„æŠ€æœ¯å®ç°"}},{id:4,year:"2024",projectName:"ç”µå­å•†åŠ¡æ•°æ®åˆ†æç³»ç»Ÿ",applicant:"ç‹å¼º",department:"ä¿¡æ¯éƒ¨",duration:15,budget:220,submitTime:"2024-01-08",status:"approval_passed",projectCode:"PROJ-2024-004",expectedTime:"2024-03-08",description:"æ•°æ®åˆ†æç³»ç»Ÿå¼€å‘å®Œæˆï¼ŒåŠŸèƒ½å®Œå–„",conclusion:{result:"passed",score:92,time:"2024-01-22",description:"é¡¹ç›®ç«‹é¡¹é€šè¿‡ï¼Œç³»ç»ŸåŠŸèƒ½å®Œæ•´ï¼ŒæŠ€æœ¯æŒ‡æ ‡è¾¾æ ‡ã€‚",feedback:"é¡¹ç›®ç«‹é¡¹é€šè¿‡ï¼ŒæŠ€æœ¯æ–¹æ¡ˆå¯è¡Œï¼Œé¢„ç®—åˆç†ã€‚"}},{id:5,year:"2024",projectName:"åœ¨çº¿æ•™è‚²ç®¡ç†å¹³å°",applicant:"å¼ å",department:"æ•™è‚²éƒ¨",duration:20,budget:160,submitTime:"2024-01-03",status:"approval_conditional",projectCode:"PROJ-2024-005",expectedTime:"2024-03-03",description:"åœ¨çº¿æ•™è‚²ç®¡ç†å¹³å°å¼€å‘",conclusion:{result:"conditional_passed",score:82,time:"2024-01-21",description:"é¡¹ç›®åŸºæœ¬è¾¾åˆ°ç«‹é¡¹è¦æ±‚ï¼Œæœ‰æ¡ä»¶é€šè¿‡ç«‹é¡¹ã€‚",requirements:"1. å®Œå–„æ•°æ®å¤‡ä»½æœºåˆ¶ï¼›2. ä¼˜åŒ–ç³»ç»Ÿç•Œé¢å¸ƒå±€ï¼›3. 30å¤©å†…æäº¤æ•´æ”¹ç¡®è®¤ã€‚",feedback:"é¡¹ç›®åŸºæœ¬è¾¾åˆ°ç«‹é¡¹è¦æ±‚ï¼Œæœ‰æ¡ä»¶é€šè¿‡ç«‹é¡¹ã€‚éœ€è¦åœ¨æŒ‡å®šæ—¶é—´å†…å®Œæˆæ•´æ”¹è¦æ±‚ã€‚"},improvementSubmitted:!1},{id:6,year:"2024",projectName:"ç§»åŠ¨åŠå…¬åº”ç”¨ç³»ç»Ÿ",applicant:"åˆ˜æ¶›",department:"ç§»åŠ¨éƒ¨",duration:14,budget:130,submitTime:"2024-01-05",status:"approval_failed",projectCode:"PROJ-2024-006",expectedTime:"2024-03-05",description:"ç§»åŠ¨åŠå…¬åº”ç”¨ç³»ç»Ÿå¼€å‘",conclusion:{result:"failed",score:68,time:"2024-01-20",description:"é¡¹ç›®ç«‹é¡¹æœªé€šè¿‡ï¼Œç³»ç»Ÿç¨³å®šæ€§æœ‰å¾…æå‡ï¼Œéœ€è¦å®Œå–„ç›¸å…³åŠŸèƒ½ã€‚",requirements:"1. ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½ï¼›2. å®Œå–„ç”¨æˆ·ç•Œé¢ï¼›3. è¡¥å……æµ‹è¯•æ–‡æ¡£ã€‚",feedback:"é¡¹ç›®ç«‹é¡¹æœªé€šè¿‡ï¼Œç³»ç»Ÿç¨³å®šæ€§æœ‰å¾…æå‡ï¼Œéœ€è¦å®Œå–„ç›¸å…³åŠŸèƒ½ã€‚å»ºè®®é‡æ–°ä¿®æ”¹æ–¹æ¡ˆåå†æ¬¡ç”³è¯·ã€‚"}}]),J=[{title:"å¹´åº¦",dataIndex:"year",width:80},{title:"ç«‹é¡¹åç§°",dataIndex:"projectName",width:220,ellipsis:!0},{title:"ç”³è¯·äºº",dataIndex:"applicant",width:100},{title:"ç”³è¯·å•ä½",dataIndex:"department",width:140,ellipsis:!0},{title:"é¡¹ç›®å‘¨æœŸ(æœˆ)",dataIndex:"duration",width:120},{title:"é¢„ç®—(ä¸‡å…ƒ)",dataIndex:"budget",width:110},{title:"ç”³è¯·æ—¶é—´",dataIndex:"submitTime",width:120},{title:"çŠ¶æ€",key:"status",width:120},{title:"æ“ä½œ",key:"actions",width:160,fixed:"right"}],q=I({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0,showTotal:s=>`å…± ${s} æ¡è®°å½•`}),V=B(()=>{let s=C.value;return f.value.status&&(s=s.filter(e=>e.status===f.value.status)),f.value.keyword&&(s=s.filter(e=>e.projectName.includes(f.value.keyword)||e.projectCode.includes(f.value.keyword))),q.value.total=s.length,s}),M=s=>({material_reviewing:"orange",meeting_preparing:"blue",meeting_scheduled:"cyan",approval_passed:"green",approval_conditional:"orange",approval_failed:"red"})[s]||"default",U=s=>({material_reviewing:"ææ–™å®¡æ ¸ä¸­",meeting_preparing:"ä¼šè®®å¾…ç»„ç»‡",meeting_scheduled:"ä¼šè®®å·²å®‰æ’",approval_passed:"ç«‹é¡¹é€šè¿‡",approval_conditional:"æœ‰æ¡ä»¶é€šè¿‡",approval_failed:"ç«‹é¡¹æœªé€šè¿‡"})[s]||"æœªçŸ¥",A=s=>({material_reviewing:35,meeting_preparing:60,meeting_scheduled:80,approval_passed:100,approval_conditional:95,approval_failed:100})[s]||0,E=s=>s==="approval_failed"?"exception":s==="approval_passed"?"success":"active",Q=(s,e=null)=>s==="material_reviewing"&&(e!=null&&e.materialRejected)?"ææ–™éœ€è¦é‡æ–°æäº¤":{material_reviewing:"ææ–™å®¡æ ¸ä¸­",meeting_preparing:"ä¼šè®®å¾…ç»„ç»‡",meeting_scheduled:"ç­‰å¾…å‚åŠ ä¼šè®®",approval_passed:"ç«‹é¡¹é€šè¿‡",approval_conditional:"å¾…æäº¤æ•´æ”¹ææ–™",approval_failed:"ç«‹é¡¹æœªé€šè¿‡"}[s]||"æœªçŸ¥é˜¶æ®µ",K=()=>{T.push("/implementation/approval?tab=application-submit")},G=()=>{},H=()=>{},L=s=>{P.info(`é‡æ–°æäº¤ç”³è¯·ï¼š${s.projectName}`);let e="";s.reviewComments&&s.reviewComments.length>0&&(e=s.reviewComments.map(u=>`ã€${u.reviewer} - ${u.time}ã€‘ï¼š${u.content}`).join(`
`)),T.push({path:"/approval/applicant/submit",query:{resubmit:"true",projectId:s.id,projectName:encodeURIComponent(s.projectName),projectCode:s.projectCode,expectedTime:s.expectedTime,description:encodeURIComponent(s.description),reviewComments:encodeURIComponent(e)}})},W=s=>{n.value=s,N.value=!0},X=()=>{N.value=!1,n.value=null},Y=s=>{var e;T.push({path:"/approval/applicant/submit",query:{resubmit:"true",projectId:s.id,projectName:encodeURIComponent(s.projectName),projectCode:s.projectCode,expectedTime:s.expectedTime,description:encodeURIComponent(s.description),rejectionReason:encodeURIComponent(((e=s.rejectionInfo)==null?void 0:e.rejectionReason)||"")}})},Z=s=>{const e=s.rejectionInfo;if(!e){P.warning("æš‚æ— é©³å›ä¿¡æ¯");return}const u=`
    <div style="line-height: 1.6;">
      <div style="margin-bottom: 16px;">
        <strong>é©³å›æ—¶é—´ï¼š</strong>${e.time}
      </div>
      <div style="margin-bottom: 16px;">
        <strong>å®¡æ ¸äººå‘˜ï¼š</strong>${e.reviewer}
      </div>
      <div style="margin-bottom: 16px;">
        <strong>å®¡æ ¸æ„è§ï¼š</strong>
        <div style="margin-top: 8px; padding: 12px; background: #f5f5f5; border-radius: 6px;">
          ${e.comments}
        </div>
      </div>
      <div style="margin-bottom: 16px;">
        <strong>å…·ä½“è¦æ±‚ï¼š</strong>
        <div style="margin-top: 8px; padding: 12px; background: #fff2f0; border: 1px solid #ffccc7; border-radius: 6px; white-space: pre-line;">
          ${e.rejectionReason}
        </div>
      </div>
      <div style="margin-top: 16px; padding: 12px; background: #e6f7ff; border-radius: 6px;">
        <div style="color: #1890ff; font-weight: 500;">ğŸ’¡ æ¸©é¦¨æç¤º</div>
        <div style="margin-top: 4px; color: #666;">è¯·æ ¹æ®ä¸Šè¿°è¦æ±‚ä¿®æ”¹å’Œè¡¥å……ææ–™åé‡æ–°æäº¤ï¼Œå¦‚æœ‰ç–‘é—®å¯è”ç³»å®¡æ ¸äººå‘˜ã€‚</div>
      </div>
    </div>
  `;xe.info({title:"ææ–™å®¡æ ¸é©³å›è¯¦æƒ…",width:600,content:u,okText:"æˆ‘çŸ¥é“äº†"})},ee=s=>{P.info(`æäº¤æ•´æ”¹ææ–™ï¼š${s.projectName}`);let e="";s.conclusion&&s.conclusion.requirements&&(e=s.conclusion.requirements),T.push({path:"/approval/applicant/submit",query:{improvement:"true",projectId:s.id,projectName:encodeURIComponent(s.projectName),projectCode:s.projectCode,expectedTime:s.expectedTime,description:encodeURIComponent(s.description),improvementRequirements:encodeURIComponent(e)}})},te=()=>{z.value=!z.value},j=s=>{f.value.keyword="",f.value.status=s};return pe(()=>{}),(s,e)=>{const u=p("a-button"),x=p("a-col"),S=p("a-row"),h=p("a-step"),g=p("a-tag"),v=p("a-steps"),F=p("a-card"),ae=p("a-badge"),k=p("a-select-option"),se=p("a-select"),le=p("a-input-search"),ie=p("a-progress"),ne=p("a-space"),oe=p("a-table"),d=p("a-descriptions-item"),$=p("a-descriptions"),de=p("a-modal");return c(),R("div",he,[l("div",Ie,[e[10]||(e[10]=l("div",{class:"header-content"},[l("h1",{class:"page-title"},"ç«‹é¡¹ç”³è¯·ç®¡ç†"),l("p",{class:"page-description"},"æŸ¥çœ‹å’Œç®¡ç†æ‚¨æäº¤çš„é¡¹ç›®ç«‹é¡¹ç”³è¯·")],-1)),l("div",Re,[t(u,{type:"primary",onClick:K},{default:a(()=>[t(b(ce)),e[9]||(e[9]=i(" æäº¤æ–°ç”³è¯· "))]),_:1,__:[9]})])]),l("div",Te,[t(S,{gutter:16},{default:a(()=>[t(x,{xs:12,sm:8,md:6,lg:4,xl:4},{default:a(()=>[l("div",{class:"stat-card pending",onClick:e[0]||(e[0]=m=>j("material_reviewing"))},[l("div",ze,[t(b(me))]),l("div",Ne,[l("div",$e,o(w.value.materialReviewing),1),e[11]||(e[11]=l("div",{class:"stat-label"},"ææ–™å®¡æ ¸ä¸­",-1))])])]),_:1}),t(x,{xs:12,sm:8,md:6,lg:4,xl:4},{default:a(()=>[l("div",{class:"stat-card reviewing",onClick:e[1]||(e[1]=m=>j("meeting_preparing"))},[l("div",Oe,[t(b(D))]),l("div",Se,[l("div",Pe,o(w.value.meetingPreparing),1),e[12]||(e[12]=l("div",{class:"stat-label"},"ä¼šè®®å¾…ç»„ç»‡",-1))])])]),_:1}),t(x,{xs:12,sm:8,md:6,lg:4,xl:4},{default:a(()=>[l("div",{class:"stat-card scheduled",onClick:e[2]||(e[2]=m=>j("meeting_scheduled"))},[l("div",qe,[t(b(ve))]),l("div",Me,[l("div",Ue,o(w.value.meetingScheduled),1),e[13]||(e[13]=l("div",{class:"stat-label"},"ä¼šè®®å·²å®‰æ’",-1))])])]),_:1}),t(x,{xs:12,sm:8,md:6,lg:4,xl:4},{default:a(()=>[l("div",{class:"stat-card completed",onClick:e[3]||(e[3]=m=>j("acceptance_passed"))},[l("div",Fe,[t(b(_e))]),l("div",Be,[l("div",De,o(w.value.approvalPassed),1),e[14]||(e[14]=l("div",{class:"stat-label"},"ç«‹é¡¹é€šè¿‡",-1))])])]),_:1}),t(x,{xs:12,sm:8,md:6,lg:4,xl:4},{default:a(()=>[l("div",{class:"stat-card conditional",onClick:e[4]||(e[4]=m=>j("acceptance_conditional"))},[l("div",Je,[t(b(we))]),l("div",Ve,[l("div",Ae,o(w.value.approvalConditional),1),e[15]||(e[15]=l("div",{class:"stat-label"},"æœ‰æ¡ä»¶é€šè¿‡",-1))])])]),_:1}),t(x,{xs:12,sm:8,md:6,lg:4,xl:4},{default:a(()=>[l("div",{class:"stat-card rejected",onClick:e[5]||(e[5]=m=>j("acceptance_failed"))},[l("div",Ee,[t(b(fe))]),l("div",Qe,[l("div",Ke,o(w.value.approvalFailed),1),e[16]||(e[16]=l("div",{class:"stat-label"},"ç«‹é¡¹æœªé€šè¿‡",-1))])])]),_:1})]),_:1})]),t(F,{class:"flow-description",title:"ç«‹é¡¹æµç¨‹è¯´æ˜",bordered:!1},{extra:a(()=>[t(u,{type:"link",size:"small",onClick:te},{default:a(()=>[i(o(z.value?"æ”¶èµ·":"å±•å¼€"),1)]),_:1})]),default:a(()=>[ge(l("div",Ge,[t(v,{current:3,size:"small",direction:"horizontal",status:"finish"},{default:a(()=>[t(h,{title:"æäº¤ç”³è¯·",description:"å‡†å¤‡ææ–™å¹¶æäº¤ç«‹é¡¹ç”³è¯·",status:"finish"}),t(h,{title:"ææ–™å®¡æ ¸",status:"finish"},{description:a(()=>[l("div",He,[e[18]||(e[18]=i(" ç­‰å¾…ç®¡ç†å‘˜å®¡æ ¸ç«‹é¡¹ææ–™ ")),l("div",Le,[t(g,{color:"orange",size:"small"},{default:a(()=>e[17]||(e[17]=[i("ææ–™å®¡æ ¸ä¸­")])),_:1,__:[17]})])])]),_:1}),t(h,{title:"ç»„ç»‡ä¼šè®®",status:"finish"},{description:a(()=>[l("div",We,[e[21]||(e[21]=i(" ç­‰å¾…ç®¡ç†å‘˜ç»„ç»‡ç«‹é¡¹ä¼šè®® ")),l("div",Xe,[t(g,{color:"blue",size:"small"},{default:a(()=>e[19]||(e[19]=[i("ä¼šè®®å¾…ç»„ç»‡")])),_:1,__:[19]}),t(g,{color:"cyan",size:"small"},{default:a(()=>e[20]||(e[20]=[i("ä¼šè®®å·²å®‰æ’")])),_:1,__:[20]})])])]),_:1}),t(h,{title:"ç«‹é¡¹ç»“è®º",status:"finish"},{description:a(()=>[l("div",Ye,[e[25]||(e[25]=i(" æ ¹æ®ä¼šè®®ç»“æœè·å¾—æœ€ç»ˆç»“è®º ")),l("div",Ze,[t(g,{color:"green",size:"small"},{default:a(()=>e[22]||(e[22]=[i("ç«‹é¡¹é€šè¿‡")])),_:1,__:[22]}),t(g,{color:"orange",size:"small"},{default:a(()=>e[23]||(e[23]=[i("æœ‰æ¡ä»¶é€šè¿‡")])),_:1,__:[23]}),t(g,{color:"red",size:"small"},{default:a(()=>e[24]||(e[24]=[i("ç«‹é¡¹æœªé€šè¿‡")])),_:1,__:[24]})])])]),_:1})]),_:1})],512),[[be,z.value]])]),_:1}),t(F,{bordered:!1},{title:a(()=>[l("div",et,[e[26]||(e[26]=l("span",null,"æˆ‘çš„ç«‹é¡¹ç”³è¯·",-1)),t(ae,{count:w.value.total,"number-style":{backgroundColor:"#1890ff"}},null,8,["count"])])]),extra:a(()=>[l("div",tt,[t(se,{value:f.value.status,"onUpdate:value":e[6]||(e[6]=m=>f.value.status=m),placeholder:"ç­›é€‰çŠ¶æ€",style:{width:"150px"},onChange:G},{default:a(()=>[t(k,{value:""},{default:a(()=>e[27]||(e[27]=[i("å…¨éƒ¨çŠ¶æ€")])),_:1,__:[27]}),t(k,{value:"material_reviewing"},{default:a(()=>e[28]||(e[28]=[i("ææ–™å®¡æ ¸ä¸­")])),_:1,__:[28]}),t(k,{value:"meeting_preparing"},{default:a(()=>e[29]||(e[29]=[i("ä¼šè®®å¾…ç»„ç»‡")])),_:1,__:[29]}),t(k,{value:"meeting_scheduled"},{default:a(()=>e[30]||(e[30]=[i("ä¼šè®®å·²å®‰æ’")])),_:1,__:[30]}),t(k,{value:"approval_passed"},{default:a(()=>e[31]||(e[31]=[i("ç«‹é¡¹é€šè¿‡")])),_:1,__:[31]}),t(k,{value:"approval_conditional"},{default:a(()=>e[32]||(e[32]=[i("æœ‰æ¡ä»¶é€šè¿‡")])),_:1,__:[32]}),t(k,{value:"approval_failed"},{default:a(()=>e[33]||(e[33]=[i("ç«‹é¡¹æœªé€šè¿‡")])),_:1,__:[33]})]),_:1},8,["value"]),t(le,{value:f.value.keyword,"onUpdate:value":e[7]||(e[7]=m=>f.value.keyword=m),placeholder:"æœç´¢é¡¹ç›®åç§°",style:{width:"200px"},onSearch:H},null,8,["value"])])]),default:a(()=>[t(oe,{columns:J,"data-source":V.value,pagination:q.value,"row-key":"id",size:"middle"},{bodyCell:a(({column:m,record:r})=>[m.key==="status"?(c(),y(g,{key:0,color:M(r.status)},{default:a(()=>[i(o(U(r.status)),1)]),_:2},1032,["color"])):m.key==="progress"?(c(),R("div",at,[t(ie,{percent:A(r.status),size:"small",status:E(r.status)},null,8,["percent","status"]),l("div",st,o(Q(r.status,r)),1)])):m.key==="actions"?(c(),y(ne,{key:2},{default:a(()=>[r.status==="material_reviewing"&&r.materialRejected?(c(),y(u,{key:0,type:"primary",size:"small",onClick:O=>Y(r)},{default:a(()=>e[34]||(e[34]=[i(" é‡æ–°æäº¤ææ–™ ")])),_:2,__:[34]},1032,["onClick"])):_("",!0),r.status==="approval_conditional"?(c(),y(u,{key:1,type:"primary",size:"small",onClick:O=>ee(r)},{default:a(()=>e[35]||(e[35]=[i(" æäº¤æ•´æ”¹ææ–™ ")])),_:2,__:[35]},1032,["onClick"])):_("",!0),r.status==="approval_failed"?(c(),y(u,{key:2,type:"primary",size:"small",onClick:O=>L(r)},{default:a(()=>e[36]||(e[36]=[i(" é‡æ–°æäº¤ç”³è¯· ")])),_:2,__:[36]},1032,["onClick"])):_("",!0),r.status==="material_reviewing"&&r.materialRejected?(c(),y(u,{key:3,size:"small",onClick:O=>Z(r)},{default:a(()=>e[37]||(e[37]=[i(" æŸ¥çœ‹é©³å›åŸå›  ")])),_:2,__:[37]},1032,["onClick"])):_("",!0),["approval_passed","approval_conditional","approval_failed"].includes(r.status)?(c(),y(u,{key:4,size:"small",onClick:O=>W(r)},{default:a(()=>e[38]||(e[38]=[i(" æŸ¥çœ‹è¯¦æƒ… ")])),_:2,__:[38]},1032,["onClick"])):_("",!0)]),_:2},1024)):_("",!0)]),_:1},8,["data-source","pagination"])]),_:1}),t(de,{open:N.value,"onUpdate:open":e[8]||(e[8]=m=>N.value=m),title:"ç«‹é¡¹ç”³è¯·è¯¦æƒ…",width:"800px",footer:null,onCancel:X},{default:a(()=>[n.value?(c(),R("div",lt,[l("div",it,[l("h4",null,[t(b(ke)),e[39]||(e[39]=i(" é¡¹ç›®åŸºæœ¬ä¿¡æ¯"))]),t($,{column:2,bordered:"",size:"small"},{default:a(()=>[t(d,{label:"å¹´åº¦"},{default:a(()=>[i(o(n.value.year),1)]),_:1}),t(d,{label:"é¡¹ç›®ç¼–å·"},{default:a(()=>[i(o(n.value.projectCode),1)]),_:1}),t(d,{label:"ç«‹é¡¹åç§°",span:2},{default:a(()=>[i(o(n.value.projectName),1)]),_:1}),t(d,{label:"ç”³è¯·äºº"},{default:a(()=>[i(o(n.value.applicant),1)]),_:1}),t(d,{label:"ç”³è¯·å•ä½"},{default:a(()=>[i(o(n.value.department),1)]),_:1}),t(d,{label:"é¡¹ç›®å‘¨æœŸ(æœˆ)"},{default:a(()=>[i(o(n.value.duration)+"ä¸ªæœˆ ",1)]),_:1}),t(d,{label:"é¢„ç®—(ä¸‡å…ƒ)"},{default:a(()=>[i(o(n.value.budget)+"ä¸‡å…ƒ ",1)]),_:1}),t(d,{label:"ç”³è¯·æ—¶é—´"},{default:a(()=>[i(o(n.value.submitTime),1)]),_:1}),t(d,{label:"å½“å‰çŠ¶æ€"},{default:a(()=>[t(g,{color:M(n.value.status)},{default:a(()=>[i(o(U(n.value.status)),1)]),_:1},8,["color"])]),_:1}),t(d,{label:"é¡¹ç›®æè¿°",span:2},{default:a(()=>[i(o(n.value.description),1)]),_:1})]),_:1})]),n.value.meetingInfo?(c(),R("div",nt,[l("h4",null,[t(b(D)),e[40]||(e[40]=i(" ä¼šè®®ä¿¡æ¯"))]),t($,{column:2,bordered:"",size:"small"},{default:a(()=>[t(d,{label:"ä¼šè®®æ—¶é—´"},{default:a(()=>[i(o(n.value.meetingInfo.time),1)]),_:1}),t(d,{label:"ä¼šè®®åœ°ç‚¹"},{default:a(()=>[i(o(n.value.meetingInfo.location),1)]),_:1}),t(d,{label:"ä¼šè®®å½¢å¼",span:2},{default:a(()=>[i(o(n.value.meetingInfo.type==="offline"?"ç°åœºä¼šè®®":n.value.meetingInfo.type==="online"?"çº¿ä¸Šä¼šè®®":"æ··åˆä¼šè®®"),1)]),_:1}),n.value.meetingInfo.description?(c(),y(d,{key:0,label:"ä¼šè®®è¯´æ˜",span:2},{default:a(()=>[i(o(n.value.meetingInfo.description),1)]),_:1})):_("",!0)]),_:1})])):_("",!0),n.value.conclusion?(c(),R("div",ot,[l("h4",null,[t(b(je)),e[41]||(e[41]=i(" ç«‹é¡¹ç»“è®º"))]),t($,{column:2,bordered:"",size:"small"},{default:a(()=>[t(d,{label:"ç«‹é¡¹ç»“æœ"},{default:a(()=>[t(g,{color:n.value.conclusion.result==="passed"?"green":n.value.conclusion.result==="failed"?"red":"orange"},{default:a(()=>[i(o(n.value.conclusion.result==="passed"?"ç«‹é¡¹é€šè¿‡":n.value.conclusion.result==="failed"?"ç«‹é¡¹æœªé€šè¿‡":"æœ‰æ¡ä»¶é€šè¿‡"),1)]),_:1},8,["color"])]),_:1}),t(d,{label:"ç»“è®ºæ—¶é—´"},{default:a(()=>[i(o(n.value.conclusion.time),1)]),_:1}),n.value.conclusion.score?(c(),y(d,{key:0,label:"è¯„åˆ†"},{default:a(()=>[l("span",{style:ye({color:n.value.conclusion.score>=90?"#52c41a":n.value.conclusion.score>=80?"#fa8c16":"#ff4d4f"})},o(n.value.conclusion.score)+"åˆ† ",5)]),_:1})):_("",!0),t(d,{label:"ç»“è®ºè¯´æ˜",span:2},{default:a(()=>[i(o(n.value.conclusion.description),1)]),_:1}),n.value.conclusion.requirements?(c(),y(d,{key:1,label:"æ•´æ”¹è¦æ±‚",span:2},{default:a(()=>[l("div",dt,o(n.value.conclusion.requirements),1)]),_:1})):_("",!0)]),_:1})])):_("",!0),n.value.rejectionInfo?(c(),R("div",rt,[l("h4",null,[t(b(Ce)),e[42]||(e[42]=i(" é©³å›ä¿¡æ¯"))]),t($,{column:2,bordered:"",size:"small"},{default:a(()=>[t(d,{label:"é©³å›æ—¶é—´"},{default:a(()=>[i(o(n.value.rejectionInfo.time),1)]),_:1}),t(d,{label:"å®¡æ ¸äººå‘˜"},{default:a(()=>[i(o(n.value.rejectionInfo.reviewer),1)]),_:1}),t(d,{label:"å®¡æ ¸æ„è§",span:2},{default:a(()=>[i(o(n.value.rejectionInfo.comments),1)]),_:1}),t(d,{label:"é©³å›åŸå› ",span:2},{default:a(()=>[l("div",pt,o(n.value.rejectionInfo.rejectionReason),1)]),_:1})]),_:1})])):_("",!0)])):_("",!0)]),_:1},8,["open"])])}}},gt=re(ut,[["__scopeId","data-v-b23a210f"]]);export{gt as default};
