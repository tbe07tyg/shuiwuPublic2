import{i as U}from"./index-Bb6yjXMn.js";import{_ as Vt,h as x,e as L,i as Kt,c as R,a as r,j as t,w as e,l as i,a5 as Pt,o as c,t as m,k as y,b as z,p as s,x as g,P as D,D as Tt,F as Mt,Z as Ut,n as Ft,f as u}from"./index-CLrs7Nd9.js";import{S as Nt}from"./SettingOutlined-CAs0l5pH.js";import{S as jt}from"./SyncOutlined-CMcoHk0b.js";import{S as Jt}from"./StarOutlined-DHqoC7Qb.js";const Ht={class:"resource-management"},Qt={class:"overview-section"},Wt={class:"card-extra"},Zt={class:"used-amount"},Gt={class:"card-extra"},Xt={class:"status-text"},Yt={class:"card-extra"},ht={class:"status-text"},te={class:"card-extra"},ee={class:"status-text"},ae={class:"resource-tabs"},ne={class:"budget-management"},se={class:"equipment-management"},oe={class:"software-management"},le={class:"vendor-management"},ie={__name:"index",setup(ue){const V=x("budget"),$=x([]),_=L({totalBudget:5e5,usedBudget:32e4,equipmentCount:45,equipmentInUse:32,softwareCount:24,softwareAssigned:18,vendorCount:8,vendorActive:6}),v=L({name:"",type:void 0,status:void 0}),E=x(null),O=x(null),F=x([{id:1,category:"人力成本",budget:3e5,used:18e4,remaining:12e4,status:"normal"},{id:2,category:"设备采购",budget:15e4,used:12e4,remaining:3e4,status:"warning"},{id:3,category:"软件许可",budget:5e4,used:2e4,remaining:3e4,status:"normal"}]),K=x([{id:1,name:"开发服务器-01",type:"server",model:"Dell PowerEdge R740",status:"in_use",assignee:"张三",location:"机房A-01",purchaseDate:"2023-01-15"},{id:2,name:"测试环境服务器",type:"server",model:"HP ProLiant DL380",status:"available",assignee:null,location:"机房A-02",purchaseDate:"2023-03-20"}]),N=x([{id:1,name:"IntelliJ IDEA",version:"2024.1",total:10,used:8,expiry:"2024-12-31",cost:15e3},{id:2,name:"Microsoft Office",version:"365",total:20,used:15,expiry:"2025-06-30",cost:12e3}]),j=x([{id:1,name:"阿里云",category:"云服务",contact:"张经理",phone:"138-0001-0001",rating:4.5,status:"active",contractAmount:1e5},{id:2,name:"华为技术",category:"硬件设备",contact:"李经理",phone:"138-0002-0002",rating:4.8,status:"active",contractAmount:2e5}]),J=[{title:"预算类别",dataIndex:"category",key:"category"},{title:"预算总额",dataIndex:"budget",key:"budget",customRender:({text:n})=>`¥${n.toLocaleString()}`},{title:"已使用",dataIndex:"used",key:"used",customRender:({text:n})=>`¥${n.toLocaleString()}`},{title:"剩余",dataIndex:"remaining",key:"remaining",customRender:({text:n})=>`¥${n.toLocaleString()}`},{title:"执行进度",key:"progress"},{title:"状态",key:"status"},{title:"操作",key:"action"}],H=[{title:"设备名称",dataIndex:"name",key:"name"},{title:"类型",dataIndex:"type",key:"type"},{title:"型号",dataIndex:"model",key:"model"},{title:"状态",key:"status"},{title:"使用人",key:"assignee"},{title:"位置",dataIndex:"location",key:"location"},{title:"操作",key:"action"}],Q=[{title:"软件名称",dataIndex:"name",key:"name"},{title:"版本",dataIndex:"version",key:"version"},{title:"使用情况",key:"usage"},{title:"到期时间",key:"expiry"},{title:"年费用",dataIndex:"cost",key:"cost",customRender:({text:n})=>`¥${n.toLocaleString()}`},{title:"操作",key:"action"}],W=[{title:"供应商名称",dataIndex:"name",key:"name"},{title:"类别",dataIndex:"category",key:"category"},{title:"联系人",dataIndex:"contact",key:"contact"},{title:"联系电话",dataIndex:"phone",key:"phone"},{title:"评级",key:"rating"},{title:"状态",key:"status"},{title:"操作",key:"action"}],Z=L({current:1,pageSize:10,total:K.value.length,showSizeChanger:!0,showQuickJumper:!0}),G=()=>{const n=_.usedBudget/_.totalBudget;return n>.9?"#ff4d4f":n>.7?"#faad14":"#52c41a"},X=n=>n>.9?"#ff4d4f":n>.7?"#faad14":"#52c41a",Y=n=>({normal:"green",warning:"orange",danger:"red"})[n]||"default",h=n=>({normal:"正常",warning:"预警",danger:"超支"})[n]||"未知",tt=n=>({available:"green",in_use:"blue",maintenance:"orange",decommissioned:"red"})[n]||"default",et=n=>({available:"可用",in_use:"使用中",maintenance:"维护中",decommissioned:"已停用"})[n]||"未知",at=n=>({active:"green",inactive:"red",pending:"orange"})[n]||"default",nt=n=>({active:"合作中",inactive:"已停止",pending:"待签约"})[n]||"未知",st=n=>{const S=new Date(n)-new Date;return Math.ceil(S/(1e3*60*60*24))<=30},ot=n=>{$.value=n},lt=()=>{u.info("添加预算项功能")},it=n=>{u.info(`编辑预算项: ${n.category}`)},ut=n=>{u.info(`查看预算详情: ${n.category}`)},dt=()=>{u.info("导出预算数据")},rt=()=>{u.info("搜索设备")},ct=()=>{Object.assign(v,{name:"",type:void 0,status:void 0})},_t=()=>{u.info("添加设备")},pt=n=>{u.info(`编辑设备: ${n.name}`)},ft=n=>{u.info(`分配设备: ${n.name}`)},mt=n=>{u.info(`设备维护: ${n.name}`)},yt=n=>{u.info(`设备停用: ${n.name}`)},gt=()=>{if($.value.length===0){u.warning("请选择要操作的设备");return}u.info(`批量操作 ${$.value.length} 台设备`)},vt=()=>{u.info("添加软件")},kt=n=>{u.info(`分配软件: ${n.name}`)},xt=n=>{u.info(`续费软件: ${n.name}`)},Ct=()=>{u.info("续费提醒")},bt=()=>{u.info("添加供应商")},wt=n=>{u.info(`编辑供应商: ${n.name}`)},St=n=>{u.info(`查看供应商详情: ${n.name}`)},$t=n=>{u.info(`签约供应商: ${n.name}`)},It=()=>{u.info("供应商评估")},qt=async()=>{if(await Pt(),E.value){const n=U(E.value),a={title:{text:"月度预算执行情况"},xAxis:{type:"category",data:["1月","2月","3月","4月","5月","6月"]},yAxis:{type:"value"},series:[{data:[5e4,8e4,12e4,18e4,25e4,32e4],type:"line",smooth:!0,areaStyle:{}}]};n.setOption(a)}if(O.value){const n=U(O.value),a={title:{text:"支出构成"},series:[{type:"pie",data:[{value:18e4,name:"人力成本"},{value:12e4,name:"设备采购"},{value:2e4,name:"软件许可"}]}]};n.setOption(a)}};return Kt(()=>{qt()}),(n,a)=>{const w=i("a-statistic"),S=i("a-progress"),p=i("a-card"),b=i("a-col"),P=i("a-row"),d=i("a-button"),k=i("a-space"),A=i("a-tag"),I=i("a-table"),q=i("a-tab-pane"),Bt=i("a-input"),B=i("a-form-item"),C=i("a-select-option"),T=i("a-select"),zt=i("a-form"),Dt=i("a-avatar"),M=i("a-menu-item"),Et=i("a-menu"),Ot=i("a-dropdown"),At=i("a-rate"),Lt=i("a-tabs");return c(),R("div",Ht,[a[33]||(a[33]=r("div",{class:"page-header"},[r("h1",null,"资源配置管理"),r("p",{class:"subtitle"},"项目资源统筹管理与优化配置")],-1)),r("div",Qt,[t(P,{gutter:24},{default:e(()=>[t(b,{span:6},{default:e(()=>[t(p,{class:"overview-card budget-card"},{default:e(()=>[t(w,{title:"项目预算",value:_.totalBudget,prefix:"¥"},null,8,["value"]),r("div",Wt,[r("span",Zt,"已使用: ¥"+m(_.usedBudget.toLocaleString()),1),t(S,{percent:Math.round(_.usedBudget/_.totalBudget*100),size:"small","stroke-color":G()},null,8,["percent","stroke-color"])])]),_:1})]),_:1}),t(b,{span:6},{default:e(()=>[t(p,{class:"overview-card equipment-card"},{default:e(()=>[t(w,{title:"设备资源",value:_.equipmentCount,suffix:"台"},null,8,["value"]),r("div",Gt,[r("span",Xt,"使用中: "+m(_.equipmentInUse)+"台",1)])]),_:1})]),_:1}),t(b,{span:6},{default:e(()=>[t(p,{class:"overview-card software-card"},{default:e(()=>[t(w,{title:"软件许可",value:_.softwareCount,suffix:"个"},null,8,["value"]),r("div",Yt,[r("span",ht,"已分配: "+m(_.softwareAssigned)+"个",1)])]),_:1})]),_:1}),t(b,{span:6},{default:e(()=>[t(p,{class:"overview-card vendor-card"},{default:e(()=>[t(w,{title:"外部供应商",value:_.vendorCount,suffix:"家"},null,8,["value"]),r("div",te,[r("span",ee,"合作中: "+m(_.vendorActive)+"家",1)])]),_:1})]),_:1})]),_:1})]),r("div",ae,[t(Lt,{activeKey:V.value,"onUpdate:activeKey":a[3]||(a[3]=l=>V.value=l),type:"card"},{default:e(()=>[t(q,{key:"budget",tab:"📊 预算管理"},{default:e(()=>[r("div",ne,[t(P,{gutter:24},{default:e(()=>[t(b,{span:16},{default:e(()=>[t(p,{title:"预算执行分析",class:"chart-card"},{default:e(()=>[r("div",{ref_key:"budgetChartRef",ref:E,style:{height:"300px"}},null,512)]),_:1})]),_:1}),t(b,{span:8},{default:e(()=>[t(p,{title:"支出分类",class:"chart-card"},{default:e(()=>[r("div",{ref_key:"expenseChartRef",ref:O,style:{height:"300px"}},null,512)]),_:1})]),_:1})]),_:1}),t(p,{title:"预算明细",class:"table-card"},{extra:e(()=>[t(k,null,{default:e(()=>[t(d,{type:"primary",onClick:lt},{default:e(()=>[t(g(D)),a[4]||(a[4]=s(" 新增预算项 ",-1))]),_:1,__:[4]}),t(d,{onClick:dt},{default:e(()=>[t(g(Tt)),a[5]||(a[5]=s(" 导出预算 ",-1))]),_:1,__:[5]})]),_:1})]),default:e(()=>[t(I,{dataSource:F.value,columns:J,pagination:!1,rowKey:"id"},{bodyCell:e(({column:l,record:o,index:f})=>[l.key==="progress"?(c(),y(S,{key:0,percent:Math.round(o.used/o.budget*100),size:"small","stroke-color":X(o.used/o.budget)},null,8,["percent","stroke-color"])):l.key==="status"?(c(),y(A,{key:1,color:Y(o.status)},{default:e(()=>[s(m(h(o.status)),1)]),_:2},1032,["color"])):l.key==="action"?(c(),y(k,{key:2},{default:e(()=>[t(d,{type:"link",size:"small",onClick:Rt=>it(o)},{default:e(()=>a[6]||(a[6]=[s("编辑",-1)])),_:2,__:[6]},1032,["onClick"]),t(d,{type:"link",size:"small",onClick:Rt=>ut(o)},{default:e(()=>a[7]||(a[7]=[s("详情",-1)])),_:2,__:[7]},1032,["onClick"])]),_:2},1024)):z("",!0)]),_:1},8,["dataSource"])]),_:1})])]),_:1}),t(q,{key:"equipment",tab:"🖥️ 设备管理"},{default:e(()=>[r("div",se,[t(p,{class:"filter-card"},{default:e(()=>[t(zt,{layout:"inline",model:v},{default:e(()=>[t(B,{label:"设备名称"},{default:e(()=>[t(Bt,{value:v.name,"onUpdate:value":a[0]||(a[0]=l=>v.name=l),placeholder:"请输入设备名称"},null,8,["value"])]),_:1}),t(B,{label:"设备类型"},{default:e(()=>[t(T,{value:v.type,"onUpdate:value":a[1]||(a[1]=l=>v.type=l),placeholder:"请选择类型",style:{width:"150px"}},{default:e(()=>[t(C,{value:"computer"},{default:e(()=>a[8]||(a[8]=[s("计算机",-1)])),_:1,__:[8]}),t(C,{value:"server"},{default:e(()=>a[9]||(a[9]=[s("服务器",-1)])),_:1,__:[9]}),t(C,{value:"network"},{default:e(()=>a[10]||(a[10]=[s("网络设备",-1)])),_:1,__:[10]}),t(C,{value:"storage"},{default:e(()=>a[11]||(a[11]=[s("存储设备",-1)])),_:1,__:[11]})]),_:1},8,["value"])]),_:1}),t(B,{label:"使用状态"},{default:e(()=>[t(T,{value:v.status,"onUpdate:value":a[2]||(a[2]=l=>v.status=l),placeholder:"请选择状态",style:{width:"120px"}},{default:e(()=>[t(C,{value:"available"},{default:e(()=>a[12]||(a[12]=[s("可用",-1)])),_:1,__:[12]}),t(C,{value:"in_use"},{default:e(()=>a[13]||(a[13]=[s("使用中",-1)])),_:1,__:[13]}),t(C,{value:"maintenance"},{default:e(()=>a[14]||(a[14]=[s("维护中",-1)])),_:1,__:[14]})]),_:1},8,["value"])]),_:1}),t(B,null,{default:e(()=>[t(d,{type:"primary",onClick:rt},{default:e(()=>a[15]||(a[15]=[s("搜索",-1)])),_:1,__:[15]}),t(d,{style:{"margin-left":"8px"},onClick:ct},{default:e(()=>a[16]||(a[16]=[s("重置",-1)])),_:1,__:[16]})]),_:1})]),_:1},8,["model"])]),_:1}),t(p,{title:"设备列表",class:"table-card"},{extra:e(()=>[t(k,null,{default:e(()=>[t(d,{type:"primary",onClick:_t},{default:e(()=>[t(g(D)),a[17]||(a[17]=s(" 添加设备 ",-1))]),_:1,__:[17]}),t(d,{onClick:gt},{default:e(()=>[t(g(Nt)),a[18]||(a[18]=s(" 批量操作 ",-1))]),_:1,__:[18]})]),_:1})]),default:e(()=>[t(I,{dataSource:K.value,columns:H,pagination:Z,rowKey:"id","row-selection":{selectedRowKeys:$.value,onChange:ot}},{bodyCell:e(({column:l,record:o})=>[l.key==="status"?(c(),y(A,{key:0,color:tt(o.status)},{default:e(()=>[s(m(et(o.status)),1)]),_:2},1032,["color"])):l.key==="assignee"?(c(),R(Mt,{key:1},[t(Dt,{size:"small",style:{"margin-right":"8px"}},{default:e(()=>{var f;return[s(m((f=o.assignee)==null?void 0:f.substring(0,1)),1)]}),_:2},1024),s(" "+m(o.assignee||"未分配"),1)],64)):l.key==="action"?(c(),y(k,{key:2},{default:e(()=>[t(d,{type:"link",size:"small",onClick:f=>ft(o)},{default:e(()=>a[19]||(a[19]=[s("分配",-1)])),_:2,__:[19]},1032,["onClick"]),t(d,{type:"link",size:"small",onClick:f=>pt(o)},{default:e(()=>a[20]||(a[20]=[s("编辑",-1)])),_:2,__:[20]},1032,["onClick"]),t(Ot,null,{overlay:e(()=>[t(Et,null,{default:e(()=>[t(M,{onClick:f=>mt(o)},{default:e(()=>a[22]||(a[22]=[s("维护",-1)])),_:2,__:[22]},1032,["onClick"]),t(M,{onClick:f=>yt(o)},{default:e(()=>a[23]||(a[23]=[s("停用",-1)])),_:2,__:[23]},1032,["onClick"])]),_:2},1024)]),default:e(()=>[t(d,{type:"link",size:"small"},{default:e(()=>[a[21]||(a[21]=s(" 更多 ",-1)),t(g(Ut))]),_:1,__:[21]})]),_:2},1024)]),_:2},1024)):z("",!0)]),_:1},8,["dataSource","pagination","row-selection"])]),_:1})])]),_:1}),t(q,{key:"software",tab:"💽 软件管理"},{default:e(()=>[r("div",oe,[t(p,{title:"软件许可管理",class:"table-card"},{extra:e(()=>[t(k,null,{default:e(()=>[t(d,{type:"primary",onClick:vt},{default:e(()=>[t(g(D)),a[24]||(a[24]=s(" 添加软件 ",-1))]),_:1,__:[24]}),t(d,{onClick:Ct},{default:e(()=>[t(g(jt)),a[25]||(a[25]=s(" 续费提醒 ",-1))]),_:1,__:[25]})]),_:1})]),default:e(()=>[t(I,{dataSource:N.value,columns:Q,pagination:!1,rowKey:"id"},{bodyCell:e(({column:l,record:o})=>[l.key==="usage"?(c(),y(S,{key:0,percent:Math.round(o.used/o.total*100),size:"small",format:()=>`${o.used}/${o.total}`},null,8,["percent","format"])):l.key==="expiry"?(c(),R("span",{key:1,class:Ft({"expiry-warning":st(o.expiry)})},m(o.expiry),3)):l.key==="action"?(c(),y(k,{key:2},{default:e(()=>[t(d,{type:"link",size:"small",onClick:f=>kt(o)},{default:e(()=>a[26]||(a[26]=[s("分配",-1)])),_:2,__:[26]},1032,["onClick"]),t(d,{type:"link",size:"small",onClick:f=>xt(o)},{default:e(()=>a[27]||(a[27]=[s("续费",-1)])),_:2,__:[27]},1032,["onClick"])]),_:2},1024)):z("",!0)]),_:1},8,["dataSource"])]),_:1})])]),_:1}),t(q,{key:"vendor",tab:"🤝 供应商管理"},{default:e(()=>[r("div",le,[t(p,{title:"供应商列表",class:"table-card"},{extra:e(()=>[t(k,null,{default:e(()=>[t(d,{type:"primary",onClick:bt},{default:e(()=>[t(g(D)),a[28]||(a[28]=s(" 添加供应商 ",-1))]),_:1,__:[28]}),t(d,{onClick:It},{default:e(()=>[t(g(Jt)),a[29]||(a[29]=s(" 供应商评估 ",-1))]),_:1,__:[29]})]),_:1})]),default:e(()=>[t(I,{dataSource:j.value,columns:W,pagination:!1,rowKey:"id"},{bodyCell:e(({column:l,record:o})=>[l.key==="rating"?(c(),y(At,{key:0,value:o.rating,"allow-half":!0,disabled:""},null,8,["value"])):l.key==="status"?(c(),y(A,{key:1,color:at(o.status)},{default:e(()=>[s(m(nt(o.status)),1)]),_:2},1032,["color"])):l.key==="action"?(c(),y(k,{key:2},{default:e(()=>[t(d,{type:"link",size:"small",onClick:f=>St(o)},{default:e(()=>a[30]||(a[30]=[s("详情",-1)])),_:2,__:[30]},1032,["onClick"]),t(d,{type:"link",size:"small",onClick:f=>wt(o)},{default:e(()=>a[31]||(a[31]=[s("编辑",-1)])),_:2,__:[31]},1032,["onClick"]),t(d,{type:"link",size:"small",onClick:f=>$t(o)},{default:e(()=>a[32]||(a[32]=[s("签约",-1)])),_:2,__:[32]},1032,["onClick"])]),_:2},1024)):z("",!0)]),_:1},8,["dataSource"])]),_:1})])]),_:1})]),_:1},8,["activeKey"])])])}}},fe=Vt(ie,[["__scopeId","data-v-ea6b42b3"]]);export{fe as default};
