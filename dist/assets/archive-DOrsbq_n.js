import{P as re}from"./PageContainer-Do4hllCM.js";import{j as n,I as me,_ as pe,h as M,d as _e,i as ve,k as r,w as a,l as m,o,a as t,c as v,b as f,p as c,x as p,S as he,F as P,s as D,t as i,n as C,B as V,L as $,a9 as R,E as ge,f as b}from"./index-CLrs7Nd9.js";import{R as fe}from"./RocketOutlined-Cm_STHdO.js";import{P as ye}from"./PieChartOutlined-yJ1iVs9T.js";import{E as ke}from"./ExportOutlined-LRXLcLxh.js";/* empty css                                                                      */var Ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 160h-92v-40c0-4.4-3.6-8-8-8H256c-4.4 0-8 3.6-8 8v40h-92a44 44 0 00-44 44v148c0 81.7 60 149.6 138.2 162C265.7 630.2 359 721.7 476 734.5v105.2H280c-17.7 0-32 14.3-32 32V904c0 4.4 3.6 8 8 8h512c4.4 0 8-3.6 8-8v-32.3c0-17.7-14.3-32-32-32H548V734.5C665 721.7 758.3 630.2 773.8 514 852 501.6 912 433.7 912 352V204a44 44 0 00-44-44zM184 352V232h64v207.6a91.99 91.99 0 01-64-87.6zm520 128c0 49.1-19.1 95.4-53.9 130.1-34.8 34.8-81 53.9-130.1 53.9h-16c-49.1 0-95.4-19.1-130.1-53.9-34.8-34.8-53.9-81-53.9-130.1V184h384v296zm136-128c0 41-26.9 75.8-64 87.6V232h64v120z"}}]},name:"trophy",theme:"outlined"};function H(y){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},k=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(k=k.concat(Object.getOwnPropertySymbols(h).filter(function(d){return Object.getOwnPropertyDescriptor(h,d).enumerable}))),k.forEach(function(d){be(y,d,h[d])})}return y}function be(y,u,h){return u in y?Object.defineProperty(y,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):y[u]=h,y}var A=function(u,h){var k=H({},u,h.attrs);return n(me,H({},k,{icon:Ce}),null)};A.displayName="TrophyOutlined";A.inheritAttrs=!1;const we={class:"query-section"},Me={class:"archive-list"},ze={class:"project-header"},xe={class:"project-basic"},Oe={class:"project-main-info"},Pe={class:"project-name"},De={class:"project-meta"},$e={class:"project-leader"},Te={class:"project-duration"},Be={class:"project-status"},Se={class:"project-quick-stats"},Ne={class:"stat-item"},Ve={class:"stat-value"},Re={class:"stat-item"},Ae={class:"stat-value"},Le={class:"stat-item"},Ee={class:"stat-value"},He={class:"project-phases"},Fe={class:"phases-container"},Ie={class:"phase-icon"},Ue={class:"phase-content"},qe={class:"phase-time"},Je={class:"phase-meeting"},Qe={class:"phase-conclusion"},Ge={class:"phase-actions"},We={class:"phase-icon"},Xe={class:"phase-content"},Ye={class:"phase-time"},Ze={class:"phase-meeting"},Ke={class:"phase-conclusion"},je={class:"phase-actions"},et={class:"phase-icon"},tt={class:"phase-content"},st={class:"phase-time"},nt={class:"phase-meeting"},at={class:"phase-conclusion"},it={class:"phase-actions"},lt={class:"phase-icon"},ot={class:"phase-content"},ct={class:"phase-time"},dt={class:"achievements-list"},ut={key:0,class:"achievement-summary"},rt={key:0,class:"more-achievements"},mt={key:1,class:"no-achievements"},pt={class:"phase-actions"},_t={key:0,class:"empty-state"},vt={key:0,class:"phase-detail"},ht={class:"detail-section"},gt={key:0,class:"detail-section"},ft={class:"material-item"},yt={class:"material-info"},kt={class:"material-name"},Ct={class:"material-size"},bt={class:"material-actions"},wt={key:1,class:"detail-section"},Mt={class:"review-list"},zt={class:"review-header"},xt={class:"reviewer-name"},Ot={class:"review-time"},Pt={class:"review-content"},Dt={class:"review-score"},$t={class:"score-text"},Tt={key:2,class:"detail-section"},Bt={class:"meeting-minutes"},St={class:"minutes-header"},Nt={class:"minutes-info"},Vt={class:"info-item"},Rt={class:"info-item"},At={class:"info-item"},Lt={class:"minutes-content"},Et={class:"content-section"},Ht={class:"attendees"},Ft={class:"content-section"},It={class:"meeting-content"},Ut={class:"content-section"},qt={class:"meeting-conclusion"},Jt={__name:"archive",setup(y){const u=M({projectName:"",status:void 0,dateRange:void 0}),h=M([{id:1,name:"智慧城市大数据平台建设项目",code:"PROJ-2024-001",leader:"张三",startDate:"2023-06-01",endDate:"2024-05-31",currentStatus:"acceptance",phases:{opening:{status:"completed",time:"2023-06-15",startTime:"2023-06-01",endTime:"2023-06-20",meetingDate:"2023-06-15 14:00",meetingLocation:"会议室A-301",meetingHost:"李主任",conclusion:"开题通过，同意按计划实施",attendees:["张三","李四","王五","赵六"],meetingMinutes:"经过专家组评审，项目开题报告内容详实，技术路线清晰，预期目标明确，同意按计划实施。",materials:[{id:1,name:"开题报告.pdf",size:"2.5MB"},{id:2,name:"技术方案.docx",size:"1.8MB"}],reviews:[{id:1,reviewer:"专家A",time:"2023-06-15",content:"项目技术路线合理，目标明确，建议按计划实施。",score:85}]},midterm:{status:"completed",time:"2023-12-10",startTime:"2023-12-01",endTime:"2023-12-15",meetingDate:"2023-12-10 09:00",meetingLocation:"会议室B-201",meetingHost:"王主任",conclusion:"中期检查通过，项目进展良好",attendees:["张三","李四","专家B","专家C"],meetingMinutes:"项目按计划推进，阶段性成果显著，技术指标达到预期，建议继续实施。",materials:[{id:3,name:"中期报告.pdf",size:"3.2MB"},{id:4,name:"阶段成果.zip",size:"15.6MB"}],reviews:[{id:2,reviewer:"专家B",time:"2023-12-10",content:"项目进展顺利，阶段性成果良好，建议继续实施。",score:88}]},acceptance:{status:"in_progress",time:"2024-01-15",startTime:"2024-01-15",endTime:null,meetingDate:"2024-01-25 14:00",meetingLocation:"会议室A-201",conclusion:null,materials:[{id:5,name:"验收报告.pdf",size:"4.1MB"},{id:6,name:"项目总结.pdf",size:"2.8MB"}]}},stats:{duration:12,budget:500,achievements:15},achievements:[{title:"智慧城市数据分析平台V1.0",type:"软件著作权"},{title:"基于大数据的城市治理方法研究",type:"论文"},{title:"城市数据安全防护技术专利",type:"发明专利"},{title:"大数据平台架构设计报告",type:"技术报告"},{title:"智慧城市建设标准规范",type:"标准规范"}]},{id:2,name:"区块链供应链金融平台",code:"PROJ-2024-002",leader:"李四",startDate:"2023-08-01",endDate:"2024-07-31",currentStatus:"midterm",phases:{opening:{status:"completed",time:"2023-08-15",meetingDate:"2023-08-15 10:00",conclusion:"开题通过"},midterm:{status:"in_progress",time:"2024-01-20",meetingDate:null,conclusion:null},acceptance:{status:"pending",time:null,meetingDate:null,conclusion:null}},stats:{duration:12,budget:300,achievements:8},achievements:[{title:"区块链供应链管理系统V1.0",type:"软件著作权"},{title:"供应链金融风险评估模型",type:"论文"},{title:"区块链数据存储优化方法",type:"发明专利"}]}]),k=M(!1),d=M(null),L=M(""),E=_e(()=>{let l=h.value;return u.value.projectName&&(l=l.filter(e=>e.name.includes(u.value.projectName)||e.code.includes(u.value.projectName))),u.value.status&&(l=l.filter(e=>e.currentStatus===u.value.status)),l}),F=l=>({opening:"blue",midterm:"orange",acceptance:"purple",completed:"green"})[l]||"default",I=l=>({opening:"开题阶段",midterm:"中期阶段",acceptance:"验收阶段",completed:"已完成"})[l]||"未知",T=(l,e)=>{if(!e)return"phase-pending";switch(e.status){case"completed":return"phase-completed";case"in_progress":return"phase-active";case"pending":return"phase-pending";default:return"phase-pending"}},U=l=>l.achievements&&l.achievements.length>0?"phase-completed":"phase-pending",B=l=>({opening:"项目开题",midterm:"项目中期",acceptance:"项目验收"})[l]||"未知阶段",q=l=>({completed:"green",in_progress:"blue",pending:"default"})[l]||"default",J=l=>({completed:"已完成",in_progress:"进行中",pending:"待开始"})[l]||"未知",Q=()=>{b.success("档案导出功能")},G=()=>{b.info("查询完成")},W=()=>{u.value={projectName:"",status:void 0,dateRange:void 0}},S=(l,e)=>{const _=l.phases[e];d.value={..._,type:e,projectName:l.name},L.value=`${l.name} - ${B(e)}`,k.value=!0},N=(l,e)=>{b.success(`下载${B(e)}材料`)},X=l=>{b.info(`预览材料：${l.name}`)},Y=l=>{b.success(`下载材料：${l.name}`)},Z=l=>{b.info(`查看${l.name}的相关成果`)},K=l=>{b.success(`导出${l.name}的成果清单`)};return ve(()=>{}),(l,e)=>{const _=m("a-button"),j=m("a-input"),z=m("a-form-item"),x=m("a-select-option"),ee=m("a-select"),te=m("a-range-picker"),se=m("a-space"),ne=m("a-form"),O=m("a-tag"),ae=m("a-empty"),w=m("a-descriptions-item"),ie=m("a-descriptions"),le=m("a-list-item"),oe=m("a-list"),ce=m("a-rate"),de=m("a-modal");return o(),r(re,{title:"项目历史档案",description:"查看项目从开题到验收的完整历史记录"},{actions:a(()=>[n(_,{onClick:Q},{default:a(()=>[n(p(ke)),e[4]||(e[4]=c(" 导出档案 ",-1))]),_:1,__:[4]})]),default:a(()=>[t("div",we,[n(ne,{layout:"inline",model:u.value,onFinish:G},{default:a(()=>[n(z,{label:"项目名称",name:"projectName"},{default:a(()=>[n(j,{value:u.value.projectName,"onUpdate:value":e[0]||(e[0]=s=>u.value.projectName=s),placeholder:"请输入项目名称","allow-clear":"",style:{width:"200px"}},null,8,["value"])]),_:1}),n(z,{label:"项目状态",name:"status"},{default:a(()=>[n(ee,{value:u.value.status,"onUpdate:value":e[1]||(e[1]=s=>u.value.status=s),placeholder:"请选择状态","allow-clear":"",style:{width:"150px"}},{default:a(()=>[n(x,{value:"opening"},{default:a(()=>e[5]||(e[5]=[c("开题阶段",-1)])),_:1,__:[5]}),n(x,{value:"midterm"},{default:a(()=>e[6]||(e[6]=[c("中期阶段",-1)])),_:1,__:[6]}),n(x,{value:"acceptance"},{default:a(()=>e[7]||(e[7]=[c("验收阶段",-1)])),_:1,__:[7]}),n(x,{value:"completed"},{default:a(()=>e[8]||(e[8]=[c("已完成",-1)])),_:1,__:[8]})]),_:1},8,["value"])]),_:1}),n(z,{label:"时间范围",name:"dateRange"},{default:a(()=>[n(te,{value:u.value.dateRange,"onUpdate:value":e[2]||(e[2]=s=>u.value.dateRange=s),style:{width:"240px"}},null,8,["value"])]),_:1}),n(z,null,{default:a(()=>[n(se,null,{default:a(()=>[n(_,{type:"primary","html-type":"submit"},{default:a(()=>[n(p(he)),e[9]||(e[9]=c(" 查询 ",-1))]),_:1,__:[9]}),n(_,{onClick:W},{default:a(()=>e[10]||(e[10]=[c(" 重置 ",-1)])),_:1,__:[10]})]),_:1})]),_:1})]),_:1},8,["model"])]),t("div",Me,[(o(!0),v(P,null,D(E.value,s=>(o(),v("div",{key:s.id,class:"archive-item"},[t("div",ze,[t("div",xe,[t("div",Oe,[t("h3",Pe,i(s.name),1),t("div",De,[n(O,{color:"blue"},{default:a(()=>[c(i(s.code),1)]),_:2},1024),t("span",$e,i(s.leader),1),t("span",Te,i(s.startDate)+" ~ "+i(s.endDate),1)])]),t("div",Be,[n(O,{color:F(s.currentStatus),size:"large"},{default:a(()=>[c(i(I(s.currentStatus)),1)]),_:2},1032,["color"])])]),t("div",Se,[t("div",Ne,[t("span",Ve,i(s.stats.duration),1),e[11]||(e[11]=t("span",{class:"stat-label"},"月",-1))]),t("div",Re,[t("span",Ae,i(s.stats.budget),1),e[12]||(e[12]=t("span",{class:"stat-label"},"万元",-1))]),t("div",Le,[t("span",Ee,i(s.stats.achievements),1),e[13]||(e[13]=t("span",{class:"stat-label"},"成果",-1))])])]),t("div",He,[t("div",Fe,[t("div",{class:C(["phase-card",T("opening",s.phases.opening)])},[t("div",Ie,[s.phases.opening.status==="completed"?(o(),r(p(fe),{key:0})):s.phases.opening.status==="in_progress"?(o(),r(p(V),{key:1})):(o(),r(p($),{key:2}))]),t("div",Ue,[e[14]||(e[14]=t("div",{class:"phase-title"},"项目开题",-1)),t("div",qe,i(s.phases.opening.time||"未开始"),1),t("div",Je," 会议："+i(s.phases.opening.meetingDate||"未安排"),1),t("div",Qe,i(s.phases.opening.conclusion||"待定"),1)]),t("div",Ge,[n(_,{type:"link",size:"small",onClick:g=>S(s,"opening")},{default:a(()=>e[15]||(e[15]=[c(" 详情 ",-1)])),_:2,__:[15]},1032,["onClick"]),s.phases.opening.materials?(o(),r(_,{key:0,type:"link",size:"small",onClick:g=>N(s,"opening")},{default:a(()=>e[16]||(e[16]=[c(" 材料 ",-1)])),_:2,__:[16]},1032,["onClick"])):f("",!0)])],2),t("div",{class:C(["phase-connector",{active:s.phases.opening.status==="completed"}])},[e[17]||(e[17]=t("div",{class:"connector-line"},null,-1)),n(p(R),{class:"connector-arrow"})],2),t("div",{class:C(["phase-card",T("midterm",s.phases.midterm)])},[t("div",We,[s.phases.midterm.status==="completed"?(o(),r(p(ye),{key:0})):s.phases.midterm.status==="in_progress"?(o(),r(p(V),{key:1})):(o(),r(p($),{key:2}))]),t("div",Xe,[e[18]||(e[18]=t("div",{class:"phase-title"},"项目中期",-1)),t("div",Ye,i(s.phases.midterm.time||"未开始"),1),t("div",Ze," 会议："+i(s.phases.midterm.meetingDate||"未安排"),1),t("div",Ke,i(s.phases.midterm.conclusion||"待定"),1)]),t("div",je,[n(_,{type:"link",size:"small",onClick:g=>S(s,"midterm")},{default:a(()=>e[19]||(e[19]=[c(" 详情 ",-1)])),_:2,__:[19]},1032,["onClick"]),s.phases.midterm.materials?(o(),r(_,{key:0,type:"link",size:"small",onClick:g=>N(s,"midterm")},{default:a(()=>e[20]||(e[20]=[c(" 材料 ",-1)])),_:2,__:[20]},1032,["onClick"])):f("",!0)])],2),t("div",{class:C(["phase-connector",{active:s.phases.midterm.status==="completed"}])},[e[21]||(e[21]=t("div",{class:"connector-line"},null,-1)),n(p(R),{class:"connector-arrow"})],2),t("div",{class:C(["phase-card",T("acceptance",s.phases.acceptance)])},[t("div",et,[s.phases.acceptance.status==="completed"?(o(),r(p(ge),{key:0})):s.phases.acceptance.status==="in_progress"?(o(),r(p(V),{key:1})):(o(),r(p($),{key:2}))]),t("div",tt,[e[22]||(e[22]=t("div",{class:"phase-title"},"项目验收",-1)),t("div",st,i(s.phases.acceptance.time||"未开始"),1),t("div",nt," 会议："+i(s.phases.acceptance.meetingDate||"未安排"),1),t("div",at,i(s.phases.acceptance.conclusion||"待定"),1)]),t("div",it,[n(_,{type:"link",size:"small",onClick:g=>S(s,"acceptance")},{default:a(()=>e[23]||(e[23]=[c(" 详情 ",-1)])),_:2,__:[23]},1032,["onClick"]),s.phases.acceptance.materials?(o(),r(_,{key:0,type:"link",size:"small",onClick:g=>N(s,"acceptance")},{default:a(()=>e[24]||(e[24]=[c(" 材料 ",-1)])),_:2,__:[24]},1032,["onClick"])):f("",!0)])],2),t("div",{class:C(["phase-connector",{active:s.phases.acceptance.status==="completed"}])},[e[25]||(e[25]=t("div",{class:"connector-line"},null,-1)),n(p(R),{class:"connector-arrow"})],2),t("div",{class:C(["phase-card achievements-card",U(s)])},[t("div",lt,[s.achievements&&s.achievements.length>0?(o(),r(p(A),{key:0})):(o(),r(p($),{key:1}))]),t("div",ot,[e[26]||(e[26]=t("div",{class:"phase-title"},"相关成果",-1)),t("div",ct,i(s.achievements?s.achievements.length:0)+" 项成果 ",1),t("div",dt,[s.achievements&&s.achievements.length>0?(o(),v("div",ut,[(o(!0),v(P,null,D(s.achievements.slice(0,2),(g,ue)=>(o(),v("div",{key:ue,class:"achievement-item"},i(g.title),1))),128)),s.achievements.length>2?(o(),v("div",rt," 还有 "+i(s.achievements.length-2)+" 项成果... ",1)):f("",!0)])):(o(),v("div",mt," 暂无绑定成果 "))])]),t("div",pt,[n(_,{type:"link",size:"small",onClick:g=>Z(s)},{default:a(()=>e[27]||(e[27]=[c(" 查看 ",-1)])),_:2,__:[27]},1032,["onClick"]),s.achievements&&s.achievements.length>0?(o(),r(_,{key:0,type:"link",size:"small",onClick:g=>K(s)},{default:a(()=>e[28]||(e[28]=[c(" 导出 ",-1)])),_:2,__:[28]},1032,["onClick"])):f("",!0)])],2)])])]))),128))]),E.value.length===0?(o(),v("div",_t,[n(ae,{description:"暂无项目档案数据"})])):f("",!0),n(de,{open:k.value,"onUpdate:open":e[3]||(e[3]=s=>k.value=s),title:L.value,width:"900px",footer:null},{default:a(()=>[d.value?(o(),v("div",vt,[t("div",ht,[e[29]||(e[29]=t("h4",null,"基本信息",-1)),n(ie,{column:2,bordered:""},{default:a(()=>[n(w,{label:"阶段名称"},{default:a(()=>[c(i(B(d.value.type)),1)]),_:1}),n(w,{label:"当前状态"},{default:a(()=>[n(O,{color:q(d.value.status)},{default:a(()=>[c(i(J(d.value.status)),1)]),_:1},8,["color"])]),_:1}),n(w,{label:"开始时间"},{default:a(()=>[c(i(d.value.startTime),1)]),_:1}),n(w,{label:"完成时间"},{default:a(()=>[c(i(d.value.endTime||"进行中"),1)]),_:1}),n(w,{label:"会议时间"},{default:a(()=>[c(i(d.value.meetingDate||"未安排"),1)]),_:1}),n(w,{label:"会议地点"},{default:a(()=>[c(i(d.value.meetingLocation||"未定"),1)]),_:1})]),_:1})]),d.value.materials?(o(),v("div",gt,[e[32]||(e[32]=t("h4",null,"提交材料",-1)),n(oe,{"data-source":d.value.materials,size:"small"},{renderItem:a(({item:s})=>[n(le,null,{default:a(()=>[t("div",ft,[t("div",yt,[t("span",kt,i(s.name),1),t("span",Ct,i(s.size),1)]),t("div",bt,[n(_,{type:"link",size:"small",onClick:g=>X(s)},{default:a(()=>e[30]||(e[30]=[c(" 预览 ",-1)])),_:2,__:[30]},1032,["onClick"]),n(_,{type:"link",size:"small",onClick:g=>Y(s)},{default:a(()=>e[31]||(e[31]=[c(" 下载 ",-1)])),_:2,__:[31]},1032,["onClick"])])])]),_:2},1024)]),_:1},8,["data-source"])])):f("",!0),d.value.reviews?(o(),v("div",wt,[e[34]||(e[34]=t("h4",null,"专家评审意见",-1)),t("div",Mt,[(o(!0),v(P,null,D(d.value.reviews,s=>(o(),v("div",{key:s.id,class:"review-item"},[t("div",zt,[t("span",xt,i(s.reviewer),1),t("span",Ot,i(s.time),1)]),t("div",Pt,i(s.content),1),t("div",Dt,[e[33]||(e[33]=c(" 评分：",-1)),n(ce,{value:s.score/2,disabled:"","allow-half":""},null,8,["value"]),t("span",$t,i(s.score)+"分",1)])]))),128))])])):f("",!0),d.value.meetingMinutes?(o(),v("div",Tt,[e[38]||(e[38]=t("h4",null,"会议纪要",-1)),t("div",Bt,[t("div",St,[t("div",Nt,[t("span",Vt,"会议时间："+i(d.value.meetingDate),1),t("span",Rt,"会议地点："+i(d.value.meetingLocation),1),t("span",At,"主持人："+i(d.value.meetingHost),1)])]),t("div",Lt,[t("div",Et,[e[35]||(e[35]=t("h5",null,"参会人员",-1)),t("div",Ht,[(o(!0),v(P,null,D(d.value.attendees,s=>(o(),r(O,{key:s},{default:a(()=>[c(i(s),1)]),_:2},1024))),128))])]),t("div",Ft,[e[36]||(e[36]=t("h5",null,"会议内容",-1)),t("div",It,i(d.value.meetingMinutes),1)]),t("div",Ut,[e[37]||(e[37]=t("h5",null,"会议结论",-1)),t("div",qt,i(d.value.conclusion),1)])])])])):f("",!0)])):f("",!0)]),_:1},8,["open","title"])]),_:1})}}},Kt=pe(Jt,[["__scopeId","data-v-d7bb6076"]]);export{Kt as default};
