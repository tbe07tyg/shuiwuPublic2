import{j as e,I as ge,_ as he,h as z,e as R,i as ye,c as U,a as u,p as l,x as _,l as o,w as t,o as S,S as be,R as E,D as F,k as A,b as L,t as d,O as ke,Z as Se,z as G,y as we,f as g}from"./index-CLrs7Nd9.js";import{D as Q}from"./DatabaseOutlined-C5diyI65.js";var xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"};function Z(f){for(var r=1;r<arguments.length;r++){var c=arguments[r]!=null?Object(arguments[r]):{},n=Object.keys(c);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(c).filter(function(i){return Object.getOwnPropertyDescriptor(c,i).enumerable}))),n.forEach(function(i){De(f,i,c[i])})}return f}function De(f,r,c){return r in f?Object.defineProperty(f,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):f[r]=c,f}var I=function(r,c){var n=Z({},r,c.attrs);return e(ge,Z({},n,{icon:xe}),null)};I.displayName="ShareAltOutlined";I.inheritAttrs=!1;const Ce={class:"project-archive-completed"},Oe={class:"page-header"},ze={class:"archive-info"},Ae={class:"search-section"},$e={class:"actions-section"},Pe={class:"stats-section"},je={class:"archive-list-section"},Re={key:0,class:"archive-detail"},Ie={class:"project-summary"},Me={__name:"completed",setup(f){const r=z(!1),c=z(!1),n=z(null),i=R({name:"",completionDate:null,archiveStatus:""}),w=R({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0,showTotal:(s,a)=>`共 ${s} 条记录，当前显示 ${a[0]}-${a[1]} 条`}),x=R({totalArchived:25,pendingArchive:3,totalDocuments:156,storageSize:15.6}),M=z([{id:1,name:"智能科研管理系统开发",code:"PRJ-2024-001",manager:"张经理",startDate:"2024-01-15",completionDate:"2024-06-30",archiveDate:"2024-07-05",duration:167,progress:100,archiveStatus:"archived",documents:25,deliverables:5,fileSize:1250,description:"开发一套智能化的科研管理系统，提升科研项目管理效率",achievements:"完成系统设计、开发、测试、部署全流程，交付可用的科研管理平台",lessons:"项目管理流程规范化，团队协作效率高，技术架构设计合理"},{id:2,name:"移动端应用开发",code:"PRJ-2023-003",manager:"王经理",startDate:"2023-10-01",completionDate:"2024-01-31",archiveDate:"2024-02-15",duration:123,progress:100,archiveStatus:"archived",documents:18,deliverables:3,fileSize:850,description:"基于React Native的移动端应用开发",achievements:"完成iOS和Android双端应用开发，用户体验良好",lessons:"移动端开发需要更多关注用户体验和性能优化"},{id:3,name:"数据分析平台建设",code:"PRJ-2024-002",manager:"李经理",startDate:"2024-02-01",completionDate:"2024-08-31",archiveDate:null,duration:213,progress:100,archiveStatus:"pending",documents:22,deliverables:4,fileSize:1100,description:"构建企业级数据分析平台，支持大数据处理和分析",achievements:"完成数据仓库建设、分析工具开发、可视化报表系统",lessons:"大数据项目需要充分的前期规划和架构设计"}]),q=[{title:"项目名称",dataIndex:"name",key:"name",width:200,fixed:"left"},{title:"项目编号",dataIndex:"code",key:"code",width:120},{title:"项目经理",dataIndex:"manager",key:"manager",width:100},{title:"完成时间",dataIndex:"completionDate",key:"completionDate",width:120},{title:"归档时间",dataIndex:"archiveDate",key:"archiveDate",width:120},{title:"归档状态",key:"archiveStatus",width:100},{title:"项目周期",dataIndex:"duration",key:"duration",width:100,customRender:({text:s})=>`${s}天`},{title:"成果统计",key:"achievements",width:180},{title:"操作",key:"action",width:200,fixed:"right"}],B=s=>({archived:"green",pending:"orange",reviewing:"blue"})[s]||"default",N=s=>({archived:"已归档",pending:"待归档",reviewing:"审核中"})[s]||"未知",H=()=>{g.info("搜索功能")},W=()=>{i.name="",i.completionDate=null,i.archiveStatus="",g.success("已重置搜索条件")},X=s=>{w.current=s.current,w.pageSize=s.pageSize},Y=s=>{n.value=s,c.value=!0},K=s=>{g.success(`正在下载项目 "${s.name}" 的归档文件`)},ee=s=>{g.info(`查看项目 "${s.name}" 的项目报告`)},te=s=>{g.info(`查看项目 "${s.name}" 的相关文档`)},ae=s=>{g.info(`分享项目 "${s.name}"`)},le=()=>{g.success("正在导出归档列表")},ne=()=>{g.info("批量归档功能")},oe=()=>{r.value=!0,setTimeout(()=>{r.value=!1,g.success("数据已刷新")},1e3)};return ye(()=>{w.total=M.value.length}),(s,a)=>{var J;const se=o("a-alert"),ie=o("a-input"),D=o("a-form-item"),ue=o("a-range-picker"),$=o("a-select-option"),re=o("a-select"),h=o("a-button"),de=o("a-form"),m=o("a-card"),P=o("a-space"),b=o("a-statistic"),k=o("a-col"),T=o("a-row"),C=o("a-tag"),ce=o("a-progress"),j=o("a-menu-item"),_e=o("a-menu"),ve=o("a-dropdown"),pe=o("a-table"),y=o("a-descriptions-item"),fe=o("a-descriptions"),V=o("a-divider"),me=o("a-modal");return S(),U("div",Ce,[u("div",Oe,[u("h1",null,[e(_(Q)),a[4]||(a[4]=l(" 已完成项目归档 ",-1))]),a[5]||(a[5]=u("p",{class:"subtitle"},"查看和管理已完成的项目归档信息",-1))]),u("div",ze,[e(se,{message:"项目归档说明",description:"已完成的项目将自动进入归档状态，包含项目基本信息、执行过程文档、成果文件等完整记录。归档项目可用于经验总结、成果复用和绩效评估。",type:"info","show-icon":"",style:{"margin-bottom":"24px"}})]),u("div",Ae,[e(m,{class:"search-card"},{default:t(()=>[e(de,{layout:"inline",model:i},{default:t(()=>[e(D,{label:"项目名称"},{default:t(()=>[e(ie,{value:i.name,"onUpdate:value":a[0]||(a[0]=v=>i.name=v),placeholder:"请输入项目名称","allow-clear":"",style:{width:"200px"}},null,8,["value"])]),_:1}),e(D,{label:"完成时间"},{default:t(()=>[e(ue,{value:i.completionDate,"onUpdate:value":a[1]||(a[1]=v=>i.completionDate=v),placeholder:"['开始时间', '结束时间']",style:{width:"300px"}},null,8,["value"])]),_:1}),e(D,{label:"归档状态"},{default:t(()=>[e(re,{value:i.archiveStatus,"onUpdate:value":a[2]||(a[2]=v=>i.archiveStatus=v),placeholder:"请选择归档状态","allow-clear":"",style:{width:"150px"}},{default:t(()=>[e($,{value:"archived"},{default:t(()=>a[6]||(a[6]=[l("已归档",-1)])),_:1,__:[6]}),e($,{value:"pending"},{default:t(()=>a[7]||(a[7]=[l("待归档",-1)])),_:1,__:[7]}),e($,{value:"reviewing"},{default:t(()=>a[8]||(a[8]=[l("归档审核中",-1)])),_:1,__:[8]})]),_:1},8,["value"])]),_:1}),e(D,null,{default:t(()=>[e(h,{type:"primary",onClick:H},{default:t(()=>[e(_(be)),a[9]||(a[9]=l(" 搜索 ",-1))]),_:1,__:[9]}),e(h,{style:{"margin-left":"8px"},onClick:W},{default:t(()=>[e(_(E)),a[10]||(a[10]=l(" 重置 ",-1))]),_:1,__:[10]})]),_:1})]),_:1},8,["model"])]),_:1})]),u("div",$e,[e(P,null,{default:t(()=>[e(h,{onClick:le},{default:t(()=>[e(_(F)),a[11]||(a[11]=l(" 导出归档列表 ",-1))]),_:1,__:[11]}),e(h,{onClick:ne},{default:t(()=>[e(_(Q)),a[12]||(a[12]=l(" 批量归档 ",-1))]),_:1,__:[12]}),e(h,{onClick:oe},{default:t(()=>[e(_(E)),a[13]||(a[13]=l(" 刷新 ",-1))]),_:1,__:[13]})]),_:1})]),u("div",Pe,[e(T,{gutter:[16,16]},{default:t(()=>[e(k,{span:6},{default:t(()=>[e(m,{class:"stat-card"},{default:t(()=>[e(b,{title:"已归档项目",value:x.totalArchived,"value-style":{color:"#52c41a"},suffix:"个"},null,8,["value"])]),_:1})]),_:1}),e(k,{span:6},{default:t(()=>[e(m,{class:"stat-card"},{default:t(()=>[e(b,{title:"待归档项目",value:x.pendingArchive,"value-style":{color:"#fa8c16"},suffix:"个"},null,8,["value"])]),_:1})]),_:1}),e(k,{span:6},{default:t(()=>[e(m,{class:"stat-card"},{default:t(()=>[e(b,{title:"归档文档",value:x.totalDocuments,"value-style":{color:"#1890ff"},suffix:"份"},null,8,["value"])]),_:1})]),_:1}),e(k,{span:6},{default:t(()=>[e(m,{class:"stat-card"},{default:t(()=>[e(b,{title:"存储容量",value:x.storageSize,"value-style":{color:"#722ed1"},suffix:"GB"},null,8,["value"])]),_:1})]),_:1})]),_:1})]),u("div",je,[e(m,{class:"list-card"},{title:t(()=>[e(_(G)),a[14]||(a[14]=l(" 归档项目列表 ",-1))]),default:t(()=>[e(pe,{dataSource:M.value,columns:q,loading:r.value,pagination:w,rowKey:"id",onChange:X},{bodyCell:t(({column:v,record:p})=>[v.key==="archiveStatus"?(S(),A(C,{key:0,color:B(p.archiveStatus)},{default:t(()=>[l(d(N(p.archiveStatus)),1)]),_:2},1032,["color"])):v.key==="progress"?(S(),A(ce,{key:1,percent:p.progress,size:"small"},null,8,["percent"])):v.key==="achievements"?(S(),A(P,{key:2},{default:t(()=>[e(C,{color:"blue"},{default:t(()=>[l(d(p.documents)+"份文档",1)]),_:2},1024),e(C,{color:"green"},{default:t(()=>[l(d(p.deliverables)+"个交付物",1)]),_:2},1024)]),_:2},1024)):v.key==="action"?(S(),A(P,{key:3},{default:t(()=>[e(h,{type:"link",onClick:O=>Y(p)},{default:t(()=>[e(_(ke)),a[15]||(a[15]=l(" 查看详情 ",-1))]),_:2,__:[15]},1032,["onClick"]),e(h,{type:"link",onClick:O=>K(p)},{default:t(()=>[e(_(F)),a[16]||(a[16]=l(" 下载归档 ",-1))]),_:2,__:[16]},1032,["onClick"]),e(ve,null,{overlay:t(()=>[e(_e,null,{default:t(()=>[e(j,{onClick:O=>ee(p)},{default:t(()=>[e(_(G)),a[17]||(a[17]=l(" 项目报告 ",-1))]),_:2,__:[17]},1032,["onClick"]),e(j,{onClick:O=>te(p)},{default:t(()=>[e(_(we)),a[18]||(a[18]=l(" 查看文档 ",-1))]),_:2,__:[18]},1032,["onClick"]),e(j,{onClick:O=>ae(p)},{default:t(()=>[e(_(I)),a[19]||(a[19]=l(" 分享项目 ",-1))]),_:2,__:[19]},1032,["onClick"])]),_:2},1024)]),default:t(()=>[e(h,{type:"link"},{default:t(()=>[a[20]||(a[20]=l(" 更多 ",-1)),e(_(Se))]),_:1,__:[20]})]),_:2},1024)]),_:2},1024)):L("",!0)]),_:1},8,["dataSource","loading","pagination"])]),_:1})]),e(me,{open:c.value,"onUpdate:open":a[3]||(a[3]=v=>c.value=v),title:`归档项目详情 - ${((J=n.value)==null?void 0:J.name)||""}`,width:"1000px",footer:null},{default:t(()=>[n.value?(S(),U("div",Re,[e(fe,{title:"项目基本信息",bordered:"",column:2},{default:t(()=>[e(y,{label:"项目名称"},{default:t(()=>[l(d(n.value.name),1)]),_:1}),e(y,{label:"项目编号"},{default:t(()=>[l(d(n.value.code),1)]),_:1}),e(y,{label:"项目经理"},{default:t(()=>[l(d(n.value.manager),1)]),_:1}),e(y,{label:"归档状态"},{default:t(()=>[e(C,{color:B(n.value.archiveStatus)},{default:t(()=>[l(d(N(n.value.archiveStatus)),1)]),_:1},8,["color"])]),_:1}),e(y,{label:"开始时间"},{default:t(()=>[l(d(n.value.startDate),1)]),_:1}),e(y,{label:"完成时间"},{default:t(()=>[l(d(n.value.completionDate),1)]),_:1}),e(y,{label:"归档时间"},{default:t(()=>[l(d(n.value.archiveDate),1)]),_:1}),e(y,{label:"项目周期"},{default:t(()=>[l(d(n.value.duration)+"天",1)]),_:1})]),_:1}),e(V,null,{default:t(()=>a[21]||(a[21]=[l("项目成果",-1)])),_:1,__:[21]}),e(T,{gutter:[16,16]},{default:t(()=>[e(k,{span:8},{default:t(()=>[e(m,{size:"small"},{default:t(()=>[e(b,{title:"文档数量",value:n.value.documents,suffix:"份","value-style":{color:"#1890ff"}},null,8,["value"])]),_:1})]),_:1}),e(k,{span:8},{default:t(()=>[e(m,{size:"small"},{default:t(()=>[e(b,{title:"交付物",value:n.value.deliverables,suffix:"个","value-style":{color:"#52c41a"}},null,8,["value"])]),_:1})]),_:1}),e(k,{span:8},{default:t(()=>[e(m,{size:"small"},{default:t(()=>[e(b,{title:"文件大小",value:n.value.fileSize,suffix:"MB","value-style":{color:"#722ed1"}},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(V,null,{default:t(()=>a[22]||(a[22]=[l("项目总结",-1)])),_:1,__:[22]}),u("div",Ie,[u("p",null,[a[23]||(a[23]=u("strong",null,"项目描述：",-1)),l(d(n.value.description),1)]),u("p",null,[a[24]||(a[24]=u("strong",null,"主要成果：",-1)),l(d(n.value.achievements),1)]),u("p",null,[a[25]||(a[25]=u("strong",null,"经验总结：",-1)),l(d(n.value.lessons),1)])])])):L("",!0)]),_:1},8,["open","title"])])}}},Te=he(Me,[["__scopeId","data-v-5f6075cc"]]);export{Te as default};
