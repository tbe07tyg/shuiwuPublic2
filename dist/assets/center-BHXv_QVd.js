import{_ as Mt,h as x,d as oe,i as Ft,c as S,a as l,j as t,p as o,x as m,w as s,l as k,H as Tt,J as Ot,m as $t,o as p,z as qt,t as u,C as fe,B as _e,E as ue,G as Ut,k as R,b as f,F as Z,s as de,O as ee,D as te,n as re,Q as O,L as Dt,K as Bt,M as he,f as g}from"./index-CLrs7Nd9.js";import{U as Et,F as Vt}from"./FilePreview-Hu7J3wGz.js";import{A as Lt}from"./AppstoreOutlined-B0Pu4Cbr.js";import{B as je}from"./BulbOutlined-DVcxs1at.js";import{A as ge}from"./AuditOutlined-BJO04ZR6.js";import{U as Ie}from"./UploadOutlined-U6qGJXGO.js";import{F as Pt}from"./FileSearchOutlined-BPJO4S_E.js";/* empty css                                                                    */import"./ExportOutlined-LRXLcLxh.js";const At={class:"approval-management-center"},Ht={class:"page-header"},Jt={class:"header-content"},Wt={class:"page-title"},Yt={class:"title-icon"},Kt={class:"header-actions"},Qt={class:"stats-overview"},Gt={class:"stat-icon"},Nt={class:"stat-content"},Xt={class:"stat-number"},Zt={class:"stat-icon"},el={class:"stat-content"},tl={class:"stat-number"},ll={class:"stat-icon"},sl={class:"stat-content"},al={class:"stat-number"},il={class:"stat-icon"},nl={class:"stat-content"},ol={class:"stat-number"},ul={class:"stat-icon"},dl={class:"stat-content"},rl={class:"stat-number"},vl={class:"stat-icon"},pl={class:"stat-content"},ml={class:"stat-number"},cl={class:"content-card flow-description"},fl={class:"card-header"},_l={class:"flow-content"},gl={class:"step-description"},wl={class:"step-status-tags"},yl={class:"step-description"},bl={class:"step-status-tags"},kl={class:"step-description"},Sl={class:"step-status-tags"},xl={class:"content-card"},Cl={class:"card-header"},Rl={class:"header-filters"},zl={class:"project-review-list"},hl={key:1,class:"text-muted"},jl={key:0,class:"review-modal"},Il={class:"project-basic-info"},Ml={class:"material-review-section"},Fl={class:"section-header"},Tl={class:"batch-actions"},Ol={class:"material-list"},$l={class:"material-info"},ql={class:"material-name"},Ul={class:"material-type"},Dl={class:"material-actions"},Bl={class:"material-review-controls"},El={class:"review-status-display"},Vl=["onClick"],Ll={class:"status-icon"},Pl=["onClick"],Al={class:"status-icon"},Hl={class:"status-icon"},Jl={key:0,class:"edit-opinion-btn"},Wl={key:0,class:"rejection-reason"},Yl={class:"reason-content"},Kl={class:"review-comments-section"},Ql={class:"section-header"},Gl={class:"comments-tip"},Nl={class:"review-result-section"},Xl={class:"auto-result-display"},Zl={key:0,class:"rejection-details"},es={class:"modal-footer"},ts={key:0,class:"rejection-form"},ls={class:"material-info"},ss={class:"material-type"},as={key:0,class:"meeting-modal"},is={class:"meeting-materials"},ns={key:0,class:"materials-list"},os={class:"file-name"},us={class:"file-size"},ds={key:0,class:"result-modal"},rs={class:"project-meeting-info"},vs={class:"conclusion-files"},ps={key:0,class:"files-list"},ms={class:"file-name"},cs={class:"file-size"},fs={key:0,class:"improvement-review-modal"},_s={class:"project-basic-info"},gs={key:0,class:"original-requirements"},ws={class:"requirements-content"},ys={class:"improvement-materials"},bs={class:"improvement-materials-list"},ks={class:"material-item improvement-material"},Ss={class:"material-info"},xs={class:"material-name"},Cs={class:"material-meta"},Rs={class:"material-time"},zs={class:"material-actions"},hs={class:"material-item improvement-material"},js={class:"material-info"},Is={class:"material-name"},Ms={class:"material-meta"},Fs={class:"material-time"},Ts={class:"material-actions"},Os={class:"material-item improvement-material"},$s={class:"material-info"},qs={class:"material-name"},Us={class:"material-meta"},Ds={class:"material-time"},Bs={class:"material-actions"},Es={class:"improvement-description"},Vs={class:"description-content"},Ls={class:"improvement-content"},Ps={class:"improvement-details"},As={class:"improvement-submit-info"},Hs={class:"review-result-section"},Js={key:0,class:"detail-modal"},Ws={class:"detail-section"},Ys={class:"detail-section"},Ks={class:"material-list"},Qs={class:"material-info"},Gs={class:"material-name"},Ns={class:"material-meta"},Xs={class:"material-type"},Zs={class:"material-actions"},ea={key:0,class:"detail-section"},ta={key:1,class:"detail-section"},la={class:"requirements-text"},sa={key:2,class:"detail-section"},aa={class:"improvement-text"},ia={class:"detail-section"},na={class:"timeline-content"},oa={class:"timeline-time"},ua={class:"timeline-content"},da={class:"timeline-time"},ra={class:"timeline-content"},va={class:"timeline-time"},pa={class:"timeline-content"},ma={class:"timeline-title"},ca={class:"timeline-time"},fa={class:"timeline-content"},_a={class:"timeline-time"},ga={__name:"center",setup(wa){$t();const v=x([{id:1,name:"æ™ºæ…§åŸŽå¸‚å¤§æ•°æ®å¹³å°å»ºè®¾é¡¹ç›®",code:"PROJ-2024-001",year:"2024",applicant:"çŽ‹äº”",department:"æŠ€æœ¯éƒ¨",duration:18,budget:200,currentStatus:"material_reviewing",materialStatus:"reviewing",meetingStatus:"pending",finalResult:null,submitTime:"2024-01-15",meetingScheduled:!1,materials:[{id:1,name:"é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",type:"éªŒæ”¶æŠ¥å‘Š",size:25e5,url:"/api/files/download/é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",reviewStatus:"pending"},{id:2,name:"é¡¹ç›®æ€»ç»“æŠ¥å‘Š.docx",type:"æ€»ç»“æŠ¥å‘Š",size:12e5,url:"/api/files/download/é¡¹ç›®æ€»ç»“æŠ¥å‘Š.docx",reviewStatus:"pending"},{id:3,name:"æˆæžœæ±‡æ€»ææ–™.zip",type:"æˆæžœææ–™",size:85e5,url:"/api/files/download/æˆæžœæ±‡æ€»ææ–™.zip",reviewStatus:"pending"}]},{id:2,name:"åŒºå—é“¾ä¾›åº”é“¾é‡‘èžå¹³å°",code:"PROJ-2024-002",year:"2024",applicant:"èµµå…­",department:"å·¥ç¨‹éƒ¨",duration:12,budget:150,currentStatus:"meeting_preparing",materialStatus:"approved",meetingStatus:"preparing",finalResult:null,submitTime:"2024-01-20",meetingScheduled:!1,materials:[{id:4,name:"é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",type:"éªŒæ”¶æŠ¥å‘Š",size:18e5,url:"/api/files/download/é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",reviewStatus:"approved"},{id:5,name:"è´¢åŠ¡å†³ç®—æŠ¥å‘Š.xlsx",type:"è´¢åŠ¡æŠ¥å‘Š",size:5e5,url:"/api/files/download/è´¢åŠ¡å†³ç®—æŠ¥å‘Š.xlsx",reviewStatus:"approved"}]},{id:3,name:"ç‰©è”ç½‘çŽ¯å¢ƒç›‘æµ‹ç³»ç»Ÿ",code:"PROJ-2024-003",year:"2024",applicant:"æŽæ˜Ž",department:"è‡ªåŠ¨åŒ–éƒ¨",duration:24,budget:180,currentStatus:"meeting_scheduled",materialStatus:"approved",meetingStatus:"scheduled",finalResult:null,submitTime:"2024-01-12",meetingScheduled:!0,meetingInfo:{time:"2024-01-25 14:00",location:"ä¼šè®®å®¤A301",type:"offline",description:"é¡¹ç›®éªŒæ”¶ä¼šè®®ï¼Œé‡ç‚¹è¯„å®¡çŽ¯å¢ƒç›‘æµ‹ç³»ç»Ÿçš„æŠ€æœ¯å®žçŽ°"},materials:[{id:6,name:"é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",type:"éªŒæ”¶æŠ¥å‘Š",size:25e5,url:"/api/files/download/é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",reviewStatus:"approved"},{id:7,name:"ç³»ç»Ÿæµ‹è¯•æŠ¥å‘Š.pdf",type:"æµ‹è¯•æŠ¥å‘Š",size:15e5,url:"/api/files/download/ç³»ç»Ÿæµ‹è¯•æŠ¥å‘Š.pdf",reviewStatus:"approved"}]},{id:4,name:"ç”µå­å•†åŠ¡æ•°æ®åˆ†æžç³»ç»Ÿ",code:"PROJ-2024-004",year:"2024",applicant:"çŽ‹å¼º",department:"ä¿¡æ¯éƒ¨",duration:15,budget:220,currentStatus:"approval_passed",materialStatus:"approved",meetingStatus:"completed",finalResult:"passed",submitTime:"2024-01-08",meetingScheduled:!0,meetingInfo:{time:"2024-01-22 09:00",location:"ä¼šè®®å®¤B205",type:"offline",description:"é¡¹ç›®éªŒæ”¶ä¼šè®®ï¼Œé‚€è¯·ç›¸å…³ä¸“å®¶è¿›è¡Œè¯„å®¡"},materials:[{id:8,name:"é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",type:"éªŒæ”¶æŠ¥å‘Š",size:25e5,url:"/api/files/download/é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",reviewStatus:"approved"}],conclusion:{result:"passed",score:92,time:"2024-01-22",description:"é¡¹ç›®éªŒæ”¶é€šè¿‡ï¼Œç³»ç»ŸåŠŸèƒ½å®Œæ•´ï¼ŒæŠ€æœ¯æŒ‡æ ‡è¾¾æ ‡ã€‚"}},{id:5,name:"åœ¨çº¿æ•™è‚²ç®¡ç†å¹³å°",code:"PROJ-2024-005",year:"2024",applicant:"å¼ åŽ",department:"æ•™è‚²éƒ¨",duration:20,budget:160,currentStatus:"approval_conditional",materialStatus:"approved",meetingStatus:"completed",finalResult:"conditional_passed",submitTime:"2024-01-03",meetingScheduled:!0,meetingInfo:{time:"2024-01-21 14:30",location:"ä¼šè®®å®¤C102",type:"hybrid",description:"é¡¹ç›®éªŒæ”¶ä¼šè®®ï¼Œé‡‡ç”¨çº¿ä¸Šçº¿ä¸‹ç»“åˆçš„æ–¹å¼è¿›è¡Œ"},materials:[{id:9,name:"é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",type:"éªŒæ”¶æŠ¥å‘Š",size:25e5,url:"/api/files/download/é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",reviewStatus:"approved"},{id:10,name:"ç”¨æˆ·æ“ä½œæ‰‹å†Œ.pdf",type:"ç”¨æˆ·æ‰‹å†Œ",size:8e5,url:"/api/files/download/ç”¨æˆ·æ“ä½œæ‰‹å†Œ.pdf",reviewStatus:"approved"},{id:11,name:"æ•°æ®å¤‡ä»½æœºåˆ¶è¯´æ˜Ž.pdf",type:"æ•´æ”¹ææ–™",size:6e5,url:"/api/files/download/æ•°æ®å¤‡ä»½æœºåˆ¶è¯´æ˜Ž.pdf",reviewStatus:"pending"},{id:12,name:"ç³»ç»Ÿç•Œé¢ä¼˜åŒ–æŠ¥å‘Š.docx",type:"æ•´æ”¹ææ–™",size:12e5,url:"/api/files/download/ç³»ç»Ÿç•Œé¢ä¼˜åŒ–æŠ¥å‘Š.docx",reviewStatus:"pending"},{id:13,name:"æŠ€æœ¯æ–‡æ¡£è¡¥å…….zip",type:"æ•´æ”¹ææ–™",size:5e6,url:"/api/files/download/æŠ€æœ¯æ–‡æ¡£è¡¥å…….zip",reviewStatus:"pending"}],conclusion:{result:"conditional_passed",score:82,time:"2024-01-21",description:"é¡¹ç›®åŸºæœ¬è¾¾åˆ°éªŒæ”¶è¦æ±‚ï¼Œæœ‰æ¡ä»¶é€šè¿‡éªŒæ”¶ã€‚",requirements:"1. å®Œå–„æ•°æ®å¤‡ä»½æœºåˆ¶ï¼›2. ä¼˜åŒ–ç³»ç»Ÿç•Œé¢å¸ƒå±€ï¼›3. 30å¤©å†…æäº¤æ•´æ”¹ç¡®è®¤ã€‚"},improvementSubmitted:!0,improvementSubmitTime:"2024-01-28",improvementDescription:`é’ˆå¯¹éªŒæ”¶ä¼šè®®æå‡ºçš„æ•´æ”¹è¦æ±‚ï¼Œæˆ‘ä»¬å·²å®Œæˆä»¥ä¸‹å·¥ä½œï¼š
1. å®Œå–„äº†æ•°æ®å¤‡ä»½æœºåˆ¶ï¼Œå¢žåŠ äº†è‡ªåŠ¨å¤‡ä»½å’Œæ‰‹åŠ¨å¤‡ä»½åŠŸèƒ½
2. ä¼˜åŒ–äº†ç³»ç»Ÿç•Œé¢å¸ƒå±€ï¼Œæå‡ç”¨æˆ·äº¤äº’ä½“éªŒ
3. è¡¥å……äº†ç›¸å…³æŠ€æœ¯æ–‡æ¡£å’Œç”¨æˆ·æ‰‹å†Œ
è¯·å®¡æ ¸ç›¸å…³ææ–™ï¼Œå¦‚æœ‰é—®é¢˜è¯·åŠæ—¶åé¦ˆã€‚`},{id:6,name:"ç§»åŠ¨åŠžå…¬åº”ç”¨ç³»ç»Ÿ",code:"PROJ-2024-006",year:"2024",applicant:"åˆ˜æ¶›",department:"ç§»åŠ¨éƒ¨",duration:14,budget:130,currentStatus:"approval_failed",materialStatus:"approved",meetingStatus:"completed",finalResult:"failed",submitTime:"2024-01-05",meetingScheduled:!0,meetingInfo:{time:"2024-01-20 10:00",location:"ä¼šè®®å®¤A108",type:"offline",description:"é¡¹ç›®éªŒæ”¶ä¼šè®®ï¼Œé‡ç‚¹å…³æ³¨ç³»ç»Ÿç¨³å®šæ€§å’ŒåŠŸèƒ½å®Œæ•´æ€§"},materials:[{id:14,name:"é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",type:"éªŒæ”¶æŠ¥å‘Š",size:25e5,url:"/api/files/download/é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",reviewStatus:"approved"}],conclusion:{result:"failed",score:68,time:"2024-01-20",description:"é¡¹ç›®éªŒæ”¶æœªé€šè¿‡ï¼Œç³»ç»Ÿç¨³å®šæ€§æœ‰å¾…æå‡ï¼Œéœ€è¦å®Œå–„ç›¸å…³åŠŸèƒ½ã€‚",requirements:"1. ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½ï¼›2. å®Œå–„ç”¨æˆ·ç•Œé¢ï¼›3. è¡¥å……æµ‹è¯•æ–‡æ¡£ã€‚"}}]),E=oe(()=>{const a=v.value.filter(w=>w.currentStatus==="material_reviewing").length,e=v.value.filter(w=>w.currentStatus==="meeting_preparing").length,d=v.value.filter(w=>w.currentStatus==="meeting_scheduled").length,r=v.value.filter(w=>w.currentStatus==="approval_passed").length,C=v.value.filter(w=>w.currentStatus==="approval_conditional").length,z=v.value.filter(w=>w.currentStatus==="approval_failed").length;return{materialReviewing:a,meetingPreparing:e,meetingScheduled:d,approvalPassed:r,approvalConditional:C,approvalFailed:z}}),M=x({status:"",keyword:""}),le=x(!1);x([{id:1,name:"å¼ æ•™æŽˆ",title:"é«˜çº§å·¥ç¨‹å¸ˆ"},{id:2,name:"æŽåšå£«",title:"æŠ€æœ¯ä¸“å®¶"},{id:3,name:"çŽ‹ä¸»ä»»",title:"é¡¹ç›®ç®¡ç†ä¸“å®¶"}]);const Me=x([{value:"å¼ æ•™æŽˆ",label:"å¼ æ•™æŽˆ"},{value:"æŽåšå£«",label:"æŽåšå£«"},{value:"çŽ‹ä¸»ä»»",label:"çŽ‹ä¸»ä»»"},{value:"é™ˆé™¢é•¿",label:"é™ˆé™¢é•¿"},{value:"åˆ˜å¤„é•¿",label:"åˆ˜å¤„é•¿"}]),Fe=x([{value:"å¼ æ•™æŽˆ",label:"å¼ æ•™æŽˆ"},{value:"æŽåšå£«",label:"æŽåšå£«"},{value:"çŽ‹ä¸»ä»»",label:"çŽ‹ä¸»ä»»"},{value:"é™ˆé™¢é•¿",label:"é™ˆé™¢é•¿"},{value:"åˆ˜å¤„é•¿",label:"åˆ˜å¤„é•¿"},{value:"èµµä¸“å®¶",label:"èµµä¸“å®¶"},{value:"é’±ä¸“å®¶",label:"é’±ä¸“å®¶"},{value:"å­™ä¸“å®¶",label:"å­™ä¸“å®¶"},{value:"æŽä¸“å®¶",label:"æŽä¸“å®¶"}]),Te=[{title:"å¹´åº¦",dataIndex:"year",key:"year",width:80},{title:"ç«‹é¡¹åç§°",dataIndex:"name",key:"name",width:200},{title:"ç”³è¯·äºº",dataIndex:"applicant",key:"applicant",width:100},{title:"ç”³è¯·å•ä½",dataIndex:"department",key:"department",width:120},{title:"é¡¹ç›®å‘¨æœŸ(æœˆ)",dataIndex:"duration",key:"duration",width:100},{title:"é¢„ç®—(ä¸‡å…ƒ)",dataIndex:"budget",key:"budget",width:100},{title:"çŠ¶æ€",key:"currentStatus",width:120},{title:"ç«‹é¡¹ç»“è®º",key:"finalResult",width:120},{title:"ç”³è¯·æ—¶é—´",dataIndex:"submitTime",width:120},{title:"æ“ä½œ",key:"actions",width:200,fixed:"right"}],we=x({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0,showTotal:a=>`å…± ${a} æ¡è®°å½•`}),V=x(!1),W=x(!1),Y=x(!1),K=x(!1),se=x(!1),n=x(null),j=x({comments:"",result:"approved",rejectionReason:""}),ae=x(new Map),Q=x(!1),L=x(!1),F=x(null),$=x({reason:""}),b=x({datetime:void 0,location:"",type:"offline",hosts:[],experts:[],materials:[],description:""}),y=x({conclusion:"passed",score:85,description:"",requirements:"",conclusionFiles:[]}),T=x({result:"approved",comments:"",requirements:""}),ve=x(!1),ye=x({}),Oe=oe(()=>{let a=v.value;return M.value.status&&(a=a.filter(e=>e.currentStatus===M.value.status)),M.value.keyword&&(a=a.filter(e=>e.name.includes(M.value.keyword)||e.code.includes(M.value.keyword))),we.value.total=a.length,a}),$e=oe(()=>{var a;return(a=n.value)!=null&&a.materials?n.value.materials.some(e=>e.reviewStatus&&e.reviewStatus!=="pending"):!1}),ie=oe(()=>{var e,d;return(d=(e=n.value)==null?void 0:e.materials)!=null&&d.length&&n.value.materials.some(r=>r.reviewStatus==="rejected")?"rejected":"approved"}),qe=a=>({passed:"green",conditional_passed:"orange",failed:"red"})[a]||"default",Ue=a=>({passed:"ç«‹é¡¹é€šè¿‡",conditional_passed:"æœ‰æ¡ä»¶é€šè¿‡",failed:"ç«‹é¡¹æœªé€šè¿‡"})[a]||"å¾…å®š",be=a=>({material_reviewing:"orange",meeting_preparing:"blue",meeting_scheduled:"cyan",approval_passed:"green",approval_conditional:"orange",approval_failed:"red"})[a]||"default",ke=a=>({material_reviewing:"ææ–™å®¡æ ¸ä¸­",meeting_preparing:"ä¼šè®®å¾…ç»„ç»‡",meeting_scheduled:"ä¼šè®®å·²å®‰æŽ’",approval_passed:"ç«‹é¡¹é€šè¿‡",approval_conditional:"æœ‰æ¡ä»¶é€šè¿‡",approval_failed:"ç«‹é¡¹æœªé€šè¿‡"})[a]||"æœªçŸ¥çŠ¶æ€",De=()=>{g.info("æ‰¹é‡å®¡æ ¸åŠŸèƒ½")},Be=()=>{},Ee=()=>{},Ve=a=>{n.value=a,ae.value.clear(),Q.value=!1,a.materials&&a.materials.forEach(e=>{ae.value.set(e.id,{reviewStatus:e.reviewStatus||"pending",rejectionReason:e.rejectionReason||"",showFullReason:e.showFullReason||!1}),e.reviewStatus||(e.reviewStatus="pending"),e.rejectionReason||(e.rejectionReason="")}),j.value={comments:"",result:ie.value,rejectionReason:""},A(),V.value=!0},Le=a=>{n.value=a,b.value={datetime:void 0,location:"",type:"offline",experts:[],description:""},W.value=!0},Pe=a=>{n.value=a,y.value={conclusion:"passed",score:85,description:"",requirements:"",conclusionFiles:[]},Y.value=!0},Ae=a=>{n.value=a,se.value=!0},He=()=>{se.value=!1},Je=()=>{N()?he.confirm({title:"ç¡®è®¤æ”¾å¼ƒå®¡æ ¸ï¼Ÿ",content:"æ‚¨å·²å¯¹ææ–™è¿›è¡Œäº†å®¡æ ¸æ“ä½œï¼Œæ˜¯å¦ç¡®å®šæ”¾å¼ƒæœ¬æ¬¡å®¡æ ¸å¹¶æ¢å¤åˆ°å®¡æ ¸å‰çŠ¶æ€ï¼Ÿ",okText:"ç¡®å®šæ”¾å¼ƒ",cancelText:"ç»§ç»­å®¡æ ¸",okType:"danger",onOk(){mt(),V.value=!1,g.info("å·²æ¢å¤åˆ°å®¡æ ¸å‰çŠ¶æ€")},onCancel(){}}):V.value=!1},We=()=>{var e,d;if(!j.value.comments.trim()){g.error("è¯·å¡«å†™å®¡æ ¸æ„è§");return}const a=((d=(e=n.value)==null?void 0:e.materials)==null?void 0:d.filter(r=>r.reviewStatus==="rejected"))||[];if(a.length>0&&!a.every(C=>{var z;return(z=C.rejectionReason)==null?void 0:z.trim()})){g.error("å­˜åœ¨è¢«é©³å›žçš„ææ–™ä½†æœªå¡«å†™é©³å›žåŽŸå› ï¼Œè¯·å®Œå–„åŽæäº¤");return}if(j.value.result=ie.value,g.success("ææ–™å®¡æ ¸å®Œæˆ"),V.value=!1,n.value){const r=v.value.findIndex(C=>C.id===n.value.id);if(r!==-1){const C=new Date().toISOString().split("T")[0];j.value.result==="approved"?(v.value[r].currentStatus="meeting_preparing",v.value[r].materialStatus="approved",v.value[r].meetingStatus="preparing",v.value[r].reviewHistory=v.value[r].reviewHistory||[],v.value[r].reviewHistory.push({type:"material_review",result:"approved",comments:j.value.comments,time:C,reviewer:"å½“å‰ç®¡ç†å‘˜"}),g.success("ææ–™å®¡æ ¸é€šè¿‡ï¼Œé¡¹ç›®è¿›å…¥ä¼šè®®ç»„ç»‡é˜¶æ®µ")):(v.value[r].currentStatus="material_reviewing",v.value[r].materialStatus="rejected",v.value[r].materialRejected=!0,v.value[r].rejectionInfo={time:C,reviewer:"å½“å‰ç®¡ç†å‘˜",comments:j.value.comments,rejectionReason:j.value.comments},v.value[r].reviewHistory=v.value[r].reviewHistory||[],v.value[r].reviewHistory.push({type:"material_review",result:"rejected",comments:j.value.comments,rejectionReason:j.value.comments,time:C,reviewer:"å½“å‰ç®¡ç†å‘˜"}),g.warning("ææ–™å®¡æ ¸ä¸é€šè¿‡ï¼Œå·²é€šçŸ¥ç”³è¯·äººæ ¹æ®æ„è§é‡æ–°æäº¤ææ–™")),v.value[r].materials&&v.value[r].materials.forEach(z=>{z.reviewStatus&&z.reviewStatus!=="pending"&&(z.reviewTime=C,z.reviewer="å½“å‰ç®¡ç†å‘˜")})}}},Ye=()=>{var a;if(g.success("ä¼šè®®å®‰æŽ’å®Œæˆ"),W.value=!1,n.value){const e=v.value.findIndex(d=>d.id===n.value.id);e!==-1&&(v.value[e].currentStatus="meeting_scheduled",v.value[e].meetingStatus="scheduled",v.value[e].meetingScheduled=!0,v.value[e].meetingInfo={time:(a=b.value.datetime)==null?void 0:a.format("YYYY-MM-DD HH:mm"),location:b.value.location,type:b.value.type,experts:b.value.experts,description:b.value.description})}},Ke=()=>{W.value=!1},Qe=(a,e)=>e.label.toLowerCase().indexOf(a.toLowerCase())>=0,Ge=(a,e)=>e.label.toLowerCase().indexOf(a.toLowerCase())>=0,Ne=a=>["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-rar-compressed"].includes(a.type)?(a.size/1024/1024<50||g.error("æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡50MBï¼"),!1):(g.error("è¯·ä¸Šä¼ PDFã€Wordã€PPTã€Excelæˆ–åŽ‹ç¼©åŒ…æ ¼å¼çš„æ–‡ä»¶ï¼"),!1),Xe=a=>{const e=b.value.materials.findIndex(d=>d.uid===a.uid);e>-1&&b.value.materials.splice(e,1)},Ze=a=>{b.value.materials.splice(a,1)},Se=a=>a<1024?a+" B":a<1024*1024?Math.round(a/1024)+" KB":Math.round(a/(1024*1024))+" MB",et=a=>a.size/1024/1024<20?!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(a.type)&&!a.name.match(/\.(pdf|doc|docx|xls|xlsx)$/i)?(g.error("åªæ”¯æŒPDFã€Wordã€Excelæ ¼å¼!"),!1):(y.value.conclusionFiles.push(a),g.success(`æ–‡ä»¶ ${a.name} æ·»åŠ æˆåŠŸ`),!1):(g.error("æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡20MB!"),!1),tt=a=>{const e=y.value.conclusionFiles.findIndex(d=>d.uid===a.uid);e>-1&&y.value.conclusionFiles.splice(e,1)},lt=a=>{y.value.conclusionFiles.splice(a,1),g.success("æ–‡ä»¶åˆ é™¤æˆåŠŸ")},st=()=>{if(!y.value.conclusion){g.error("è¯·é€‰æ‹©éªŒæ”¶ç»“è®º");return}if(!y.value.description){g.error("è¯·å¡«å†™ç»“è®ºè¯´æ˜Ž");return}if(y.value.conclusion!=="passed"&&!y.value.requirements){g.error("è¯·å¡«å†™æ•´æ”¹è¦æ±‚");return}if(g.success("éªŒæ”¶ç»“è®ºå½•å…¥å®Œæˆ"),Y.value=!1,n.value){const a=v.value.findIndex(e=>e.id===n.value.id);if(a!==-1){switch(v.value[a].finalResult=y.value.conclusion,v.value[a].meetingStatus="completed",y.value.conclusion){case"passed":v.value[a].currentStatus="approval_passed",xe(v.value[a]);break;case"conditional_passed":v.value[a].currentStatus="approval_conditional";break;case"failed":v.value[a].currentStatus="approval_failed";break}v.value[a].conclusion={result:y.value.conclusion,score:y.value.score,description:y.value.description,requirements:y.value.requirements,conclusionFiles:y.value.conclusionFiles,time:new Date().toISOString().split("T")[0]}}}},xe=async a=>{try{const e={name:a.title,description:a.description||"æ¥è‡ªç«‹é¡¹è‡ªåŠ¨åˆ›å»ºçš„é¡¹ç›®",budget:a.budget,duration:a.duration,manager:a.applicant,managerId:a.applicantId||a.id,status:"active",createTime:new Date().toISOString().split("T")[0],approvalTime:new Date().toISOString().split("T")[0],approvalId:a.id,approvalStatus:"passed",department:a.department,year:a.year,priority:"medium",template:"standard",autoAssignTeam:!0};g.success({content:`é¡¹ç›®"${a.title}"ç«‹é¡¹é€šè¿‡ï¼é¡¹ç›®å·²è‡ªåŠ¨æ·»åŠ åˆ°é¡¹ç›®ç»ç†åŽå°ï¼Œå¯åœ¨é¡¹ç›®è¯¦æƒ…ç®¡ç†ä¸­è¿›è¡Œé…ç½®`,duration:6})}catch(e){console.error("è‡ªåŠ¨åˆ›å»ºé¡¹ç›®å¤±è´¥:",e),g.error("é¡¹ç›®ç«‹é¡¹é€šè¿‡ï¼Œä½†è‡ªåŠ¨åˆ›å»ºé¡¹ç›®å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨åœ¨é¡¹ç›®ç»ç†åŽå°åˆ›å»º")}},at=()=>{Y.value=!1},it=()=>{const a=T.value.result,e=T.value.comments.trim(),d=T.value.requirements.trim();if(!e){g.error("è¯·å¡«å†™å®¡æ ¸æ„è§");return}if(a==="rejected"&&!d){g.error("å®¡æ ¸ä¸é€šè¿‡æ—¶ï¼Œè¯·å¡«å†™æ–°çš„æ•´æ”¹è¦æ±‚");return}if(n.value){const r=v.value.findIndex(C=>C.id===n.value.id);if(r!==-1){const C=new Date().toISOString().split("T")[0];a==="approved"?(v.value[r].currentStatus="approval_passed",v.value[r].finalResult="passed",v.value[r].conclusion={...v.value[r].conclusion,result:"passed",rectificationConfirmed:!0,rectificationTime:C,rectificationComments:e,rectificationRejected:!1},v.value[r].improvementSubmitted=!0,g.success("æ•´æ”¹ææ–™å®¡æ ¸é€šè¿‡ï¼Œé¡¹ç›®éªŒæ”¶å®Œæˆï¼"),xe(v.value[r])):(v.value[r].conclusion={...v.value[r].conclusion,rectificationRejected:!0,rectificationRejectTime:C,rectificationRejectComments:e,newRequirements:d,result:"conditional_passed"},g.warning("æ•´æ”¹ææ–™å®¡æ ¸ä¸é€šè¿‡ï¼Œå·²è®°å½•æ–°çš„æ•´æ”¹è¦æ±‚ï¼Œç”³è¯·äººéœ€è¦é‡æ–°æäº¤æ•´æ”¹ææ–™"))}}K.value=!1},nt=()=>{K.value=!1},G=a=>{ye.value={id:a.id,name:a.name,type:a.type,size:a.size||ut(a.name),url:Ce(a.name),uploadTime:a.uploadTime||"2024-01-15 10:30"},ve.value=!0},P=a=>{const e=document.createElement("a");e.href=Ce(a.name),e.download=a.name,e.click(),g.success(`æ­£åœ¨ä¸‹è½½ï¼š${a.name}`)},ot=a=>{P(a)},ut=a=>a.includes(".pdf")?2.5*1024*1024:a.includes(".docx")?1.2*1024*1024:a.includes(".pptx")?3.8*1024*1024:a.includes(".zip")?8.5*1024*1024:1.5*1024*1024,Ce=a=>`/api/files/download/${encodeURIComponent(a)}`,dt=a=>{a.reviewStatus="approved",a.rejectionReason="",N(),A(),g.success(`ææ–™ "${a.name}" å®¡æ ¸é€šè¿‡`)},rt=a=>{F.value=a,$.value.reason=a.rejectionReason||"",L.value=!0},vt=a=>{F.value=a,$.value.reason=a.rejectionReason||"",L.value=!0},pt=a=>{a.showFullReason=!a.showFullReason},N=()=>{var a;if(!((a=n.value)!=null&&a.materials))return Q.value=!1,!1;for(const e of n.value.materials){const d=ae.value.get(e.id);if(d&&(e.reviewStatus!==d.reviewStatus||e.rejectionReason!==d.rejectionReason))return Q.value=!0,!0}return Q.value=!1,!1},mt=()=>{var a;(a=n.value)!=null&&a.materials&&(n.value.materials.forEach(e=>{const d=ae.value.get(e.id);d&&(e.reviewStatus=d.reviewStatus,e.rejectionReason=d.rejectionReason,e.showFullReason=d.showFullReason)}),Q.value=!1)},ct=()=>{if(!$.value.reason.trim()){g.error("è¯·å¡«å†™é©³å›žåŽŸå› ");return}F.value&&(F.value.reviewStatus="rejected",F.value.rejectionReason=$.value.reason,N(),A(),g.success(`ææ–™ "${F.value.name}" å·²é©³å›ž`)),L.value=!1,F.value=null,$.value.reason=""},ft=()=>{L.value=!1,F.value=null,$.value.reason=""},_t=()=>{var a,e;(e=(a=n.value)==null?void 0:a.materials)!=null&&e.length&&(n.value.materials.forEach(d=>{d.reviewStatus="approved",d.rejectionReason=""}),N(),A(),g.success("å·²å°†æ‰€æœ‰ææ–™è®¾ä¸ºé€šè¿‡"))},gt=()=>{var a,e;(e=(a=n.value)==null?void 0:a.materials)!=null&&e.length&&(n.value.materials.forEach(d=>{d.reviewStatus="rejected",d.rejectionReason||(d.rejectionReason="è¯·å‚è€ƒæ•´ä½“å®¡æ ¸æ„è§è¿›è¡Œä¿®æ”¹")}),N(),A(),g.warning("å·²å°†æ‰€æœ‰ææ–™è®¾ä¸ºé©³å›žï¼Œè¯·åœ¨å®¡æ ¸æ„è§ä¸­è¡¥å……è¯¦ç»†çš„é©³å›žåŽŸå› "))},wt=()=>{A(),g.success("å®¡æ ¸æ„è§å·²é‡æ–°ç”Ÿæˆ")},A=()=>{var e,d;if(!((d=(e=n.value)==null?void 0:e.materials)!=null&&d.length))return;const a=[];if(n.value.materials.forEach(r=>{r.reviewStatus==="approved"?a.push(`${r.name} - å®¡æ ¸é€šè¿‡`):r.reviewStatus==="rejected"&&r.rejectionReason&&a.push(`${r.name} - é©³å›žåŽŸå› ï¼š${r.rejectionReason}`)}),a.length>0){const r=j.value.comments,C=a.join(`
`);if(!r.includes(C)){const z=r.split(`
`).filter(w=>!w.includes(" - å®¡æ ¸é€šè¿‡")&&!w.includes(" - é©³å›žåŽŸå› ï¼š")).join(`
`).trim();j.value.comments=C+(z?`

`+z:"")}}},yt=a=>{n.value=a,T.value={result:"approved",comments:"",requirements:""},K.value=!0},bt=a=>{n.value=a,he.confirm({title:"é‡æ–°å®¡æ ¸",content:`ç¡®è®¤å¯¹é¡¹ç›®"${a.name}"è¿›è¡Œé‡æ–°å®¡æ ¸ï¼Ÿè¿™å°†é‡ç½®é¡¹ç›®çŠ¶æ€åˆ°ææ–™å®¡æ ¸é˜¶æ®µã€‚`,okText:"ç¡®è®¤é‡å®¡",cancelText:"å–æ¶ˆ",onOk(){const e=v.value.findIndex(d=>d.id===a.id);e!==-1&&(v.value[e].currentStatus="material_reviewing",v.value[e].materialStatus="reviewing",v.value[e].meetingStatus="pending",v.value[e].finalResult=null,delete v.value[e].conclusion,g.success("é¡¹ç›®å·²é‡ç½®ä¸ºææ–™å®¡æ ¸é˜¶æ®µï¼Œå¯é‡æ–°å¼€å§‹å®¡æ ¸æµç¨‹"))}})},kt=()=>{le.value=!le.value},H=a=>{M.value.keyword="",M.value.status=a};return Ft(()=>{}),(a,e)=>{const d=k("a-button"),r=k("a-col"),C=k("a-row"),z=k("a-step"),w=k("a-tag"),St=k("a-steps"),D=k("a-select-option"),pe=k("a-select"),xt=k("a-input-search"),me=k("a-space"),Ct=k("a-table"),_=k("a-descriptions-item"),B=k("a-descriptions"),q=k("a-textarea"),Re=k("a-alert"),h=k("a-form-item"),J=k("a-modal"),ne=k("a-form"),Rt=k("a-date-picker"),zt=k("a-input"),U=k("a-radio"),ce=k("a-radio-group"),ze=k("a-upload"),ht=k("a-input-number"),jt=k("a-card"),X=k("a-timeline-item"),It=k("a-timeline");return p(),S("div",At,[l("div",Ht,[l("div",Jt,[l("h1",Wt,[l("span",Yt,[t(m(Lt))]),e[39]||(e[39]=o(" ç«‹é¡¹ç®¡ç†ä¸­å¿ƒ ",-1))]),e[40]||(e[40]=l("p",{class:"page-description"}," å®¡æ ¸ç«‹é¡¹ææ–™ï¼Œç»„ç»‡ç«‹é¡¹ä¼šè®®ï¼Œç®¡ç†ç«‹é¡¹æµç¨‹ ",-1))]),l("div",Kt,[t(d,{type:"primary",onClick:De},{default:s(()=>[t(m(ge)),e[41]||(e[41]=o(" æ‰¹é‡å®¡æ ¸ ",-1))]),_:1,__:[41]})])]),l("div",Qt,[t(C,{gutter:16},{default:s(()=>[t(r,{xs:12,sm:8,md:6,lg:4,xl:4},{default:s(()=>[l("div",{class:"stat-card pending",onClick:e[0]||(e[0]=i=>H("material_reviewing"))},[l("div",Gt,[t(m(qt))]),l("div",Nt,[l("div",Xt,u(E.value.materialReviewing),1),e[42]||(e[42]=l("div",{class:"stat-label"},"ææ–™å®¡æ ¸ä¸­",-1))])])]),_:1}),t(r,{xs:12,sm:8,md:6,lg:4,xl:4},{default:s(()=>[l("div",{class:"stat-card reviewing",onClick:e[1]||(e[1]=i=>H("meeting_preparing"))},[l("div",Zt,[t(m(fe))]),l("div",el,[l("div",tl,u(E.value.meetingPreparing),1),e[43]||(e[43]=l("div",{class:"stat-label"},"ä¼šè®®å¾…ç»„ç»‡",-1))])])]),_:1}),t(r,{xs:12,sm:8,md:6,lg:4,xl:4},{default:s(()=>[l("div",{class:"stat-card scheduled",onClick:e[2]||(e[2]=i=>H("meeting_scheduled"))},[l("div",ll,[t(m(_e))]),l("div",sl,[l("div",al,u(E.value.meetingScheduled),1),e[44]||(e[44]=l("div",{class:"stat-label"},"ä¼šè®®å·²å®‰æŽ’",-1))])])]),_:1}),t(r,{xs:12,sm:8,md:6,lg:4,xl:4},{default:s(()=>[l("div",{class:"stat-card completed",onClick:e[3]||(e[3]=i=>H("approval_passed"))},[l("div",il,[t(m(ue))]),l("div",nl,[l("div",ol,u(E.value.approvalPassed),1),e[45]||(e[45]=l("div",{class:"stat-label"},"ç«‹é¡¹é€šè¿‡",-1))])])]),_:1}),t(r,{xs:12,sm:8,md:6,lg:4,xl:4},{default:s(()=>[l("div",{class:"stat-card conditional",onClick:e[4]||(e[4]=i=>H("approval_conditional"))},[l("div",ul,[t(m(je))]),l("div",dl,[l("div",rl,u(E.value.approvalConditional),1),e[46]||(e[46]=l("div",{class:"stat-label"},"æœ‰æ¡ä»¶é€šè¿‡",-1))])])]),_:1}),t(r,{xs:12,sm:8,md:6,lg:4,xl:4},{default:s(()=>[l("div",{class:"stat-card rejected",onClick:e[5]||(e[5]=i=>H("approval_failed"))},[l("div",vl,[t(m(Ut))]),l("div",pl,[l("div",ml,u(E.value.approvalFailed),1),e[47]||(e[47]=l("div",{class:"stat-label"},"ç«‹é¡¹æœªé€šè¿‡",-1))])])]),_:1})]),_:1})]),l("div",cl,[l("div",fl,[l("h3",null,[t(m(je)),e[48]||(e[48]=o(" ç«‹é¡¹æµç¨‹è¯´æ˜Ž ",-1))]),t(d,{type:"link",size:"small",onClick:kt},{default:s(()=>[o(u(le.value?"æ”¶èµ·":"å±•å¼€"),1)]),_:1})]),Tt(l("div",_l,[t(St,{current:3,size:"small",direction:"horizontal",status:"finish"},{default:s(()=>[t(z,{title:"ç”³è¯·æäº¤",description:"ç”³æŠ¥å•ä½æäº¤ç«‹é¡¹ç”³è¯·",status:"finish"}),t(z,{title:"ææ–™å®¡æ ¸",status:"finish"},{description:s(()=>[l("div",gl,[e[50]||(e[50]=o(" å®¡æ ¸ç«‹é¡¹ææ–™ï¼Œå†³å®šé€šè¿‡æˆ–é©³å›ž ",-1)),l("div",wl,[t(w,{color:"orange",size:"small"},{default:s(()=>e[49]||(e[49]=[o("ææ–™å®¡æ ¸ä¸­",-1)])),_:1,__:[49]})])])]),_:1}),t(z,{title:"ç»„ç»‡ä¼šè®®",status:"finish"},{description:s(()=>[l("div",yl,[e[53]||(e[53]=o(" å®‰æŽ’ç«‹é¡¹ä¼šè®®å¹¶ç»„ç»‡ä¸“å®¶è¯„å®¡ ",-1)),l("div",bl,[t(w,{color:"blue",size:"small"},{default:s(()=>e[51]||(e[51]=[o("ä¼šè®®å¾…ç»„ç»‡",-1)])),_:1,__:[51]}),t(w,{color:"cyan",size:"small"},{default:s(()=>e[52]||(e[52]=[o("ä¼šè®®å·²å®‰æŽ’",-1)])),_:1,__:[52]})])])]),_:1}),t(z,{title:"ç»“è®ºå½•å…¥",status:"finish"},{description:s(()=>[l("div",kl,[e[57]||(e[57]=o(" æ ¹æ®ä¼šè®®ç»“æžœå½•å…¥æœ€ç»ˆç«‹é¡¹ç»“è®º ",-1)),l("div",Sl,[t(w,{color:"green",size:"small"},{default:s(()=>e[54]||(e[54]=[o("ç«‹é¡¹é€šè¿‡",-1)])),_:1,__:[54]}),t(w,{color:"orange",size:"small"},{default:s(()=>e[55]||(e[55]=[o("æœ‰æ¡ä»¶é€šè¿‡",-1)])),_:1,__:[55]}),t(w,{color:"red",size:"small"},{default:s(()=>e[56]||(e[56]=[o("ç«‹é¡¹æœªé€šè¿‡",-1)])),_:1,__:[56]})])])]),_:1})]),_:1})],512),[[Ot,le.value]])]),l("div",xl,[l("div",Cl,[l("h3",null,[t(m(Et)),e[58]||(e[58]=o(" é¡¹ç›®å®¡æ ¸ç®¡ç† ",-1))]),l("div",Rl,[t(pe,{value:M.value.status,"onUpdate:value":e[6]||(e[6]=i=>M.value.status=i),placeholder:"ç­›é€‰çŠ¶æ€",style:{width:"150px"},onChange:Be},{default:s(()=>[t(D,{value:""},{default:s(()=>e[59]||(e[59]=[o("å…¨éƒ¨çŠ¶æ€",-1)])),_:1,__:[59]}),t(D,{value:"material_reviewing"},{default:s(()=>e[60]||(e[60]=[o("ææ–™å®¡æ ¸ä¸­",-1)])),_:1,__:[60]}),t(D,{value:"meeting_preparing"},{default:s(()=>e[61]||(e[61]=[o("ä¼šè®®å¾…ç»„ç»‡",-1)])),_:1,__:[61]}),t(D,{value:"meeting_scheduled"},{default:s(()=>e[62]||(e[62]=[o("ä¼šè®®å·²å®‰æŽ’",-1)])),_:1,__:[62]}),t(D,{value:"approval_passed"},{default:s(()=>e[63]||(e[63]=[o("ç«‹é¡¹é€šè¿‡",-1)])),_:1,__:[63]}),t(D,{value:"approval_conditional"},{default:s(()=>e[64]||(e[64]=[o("æœ‰æ¡ä»¶é€šè¿‡",-1)])),_:1,__:[64]}),t(D,{value:"approval_failed"},{default:s(()=>e[65]||(e[65]=[o("ç«‹é¡¹æœªé€šè¿‡",-1)])),_:1,__:[65]})]),_:1},8,["value"]),t(xt,{value:M.value.keyword,"onUpdate:value":e[7]||(e[7]=i=>M.value.keyword=i),placeholder:"æœç´¢é¡¹ç›®",style:{width:"200px"},onSearch:Ee},null,8,["value"])])]),l("div",zl,[t(Ct,{columns:Te,"data-source":Oe.value,pagination:we.value,"row-key":"id",size:"middle"},{bodyCell:s(({column:i,record:c})=>[i.key==="currentStatus"?(p(),R(w,{key:0,color:be(c.currentStatus)},{default:s(()=>[o(u(ke(c.currentStatus)),1)]),_:2},1032,["color"])):i.key==="finalResult"?(p(),S(Z,{key:1},[c.finalResult?(p(),R(w,{key:0,color:qe(c.finalResult)},{default:s(()=>[o(u(Ue(c.finalResult)),1)]),_:2},1032,["color"])):(p(),S("span",hl,"å¾…å®š"))],64)):i.key==="actions"?(p(),R(me,{key:2},{default:s(()=>[c.currentStatus==="material_reviewing"?(p(),R(d,{key:0,type:"primary",size:"small",onClick:I=>Ve(c)},{default:s(()=>e[66]||(e[66]=[o(" å®¡æ ¸ææ–™ ",-1)])),_:2,__:[66]},1032,["onClick"])):f("",!0),c.currentStatus==="meeting_preparing"?(p(),R(d,{key:1,type:"primary",size:"small",onClick:I=>Le(c)},{default:s(()=>e[67]||(e[67]=[o(" ç»„ç»‡ä¼šè®® ",-1)])),_:2,__:[67]},1032,["onClick"])):f("",!0),c.currentStatus==="meeting_scheduled"?(p(),R(d,{key:2,type:"primary",size:"small",onClick:I=>Pe(c)},{default:s(()=>e[68]||(e[68]=[o(" å½•å…¥ç»“è®º ",-1)])),_:2,__:[68]},1032,["onClick"])):f("",!0),c.currentStatus==="approval_conditional"?(p(),R(d,{key:3,type:"primary",size:"small",onClick:I=>yt(c)},{default:s(()=>e[69]||(e[69]=[o(" å®¡æ ¸æ•´æ”¹ææ–™ ",-1)])),_:2,__:[69]},1032,["onClick"])):f("",!0),c.currentStatus==="approval_failed"?(p(),R(d,{key:4,type:"default",size:"small",onClick:I=>bt(c)},{default:s(()=>e[70]||(e[70]=[o(" é‡æ–°å®¡æ ¸ ",-1)])),_:2,__:[70]},1032,["onClick"])):f("",!0),t(d,{type:"link",size:"small",onClick:I=>Ae(c)},{default:s(()=>e[71]||(e[71]=[o(" æŸ¥çœ‹è¯¦æƒ… ",-1)])),_:2,__:[71]},1032,["onClick"])]),_:2},1024)):f("",!0)]),_:1},8,["data-source","pagination"])])]),t(J,{open:V.value,"onUpdate:open":e[10]||(e[10]=i=>V.value=i),title:"ææ–™å®¡æ ¸",width:"800px",closable:!1,footer:null},{default:s(()=>[n.value?(p(),S("div",jl,[l("div",Il,[e[72]||(e[72]=l("h4",null,"é¡¹ç›®åŸºæœ¬ä¿¡æ¯",-1)),t(B,{column:2,bordered:"",size:"small"},{default:s(()=>[t(_,{label:"é¡¹ç›®åç§°",span:2},{default:s(()=>[o(u(n.value.name),1)]),_:1}),t(_,{label:"é¡¹ç›®ç¼–å·"},{default:s(()=>[o(u(n.value.code),1)]),_:1}),t(_,{label:"ç”³è¯·æ—¶é—´"},{default:s(()=>[o(u(n.value.submitTime),1)]),_:1})]),_:1})]),l("div",Ml,[l("div",Fl,[e[75]||(e[75]=l("h4",null,"ææ–™å®¡æ ¸",-1)),l("div",Tl,[t(me,null,{default:s(()=>{var i,c;return[t(d,{type:"primary",size:"small",onClick:_t,disabled:!((i=n.value.materials)!=null&&i.length)},{default:s(()=>e[73]||(e[73]=[o(" ðŸš€ ä¸€é”®é€šè¿‡å…¨éƒ¨ ",-1)])),_:1,__:[73]},8,["disabled"]),t(d,{danger:"",size:"small",onClick:gt,disabled:!((c=n.value.materials)!=null&&c.length)},{default:s(()=>e[74]||(e[74]=[o(" ðŸš« ä¸€é”®é©³å›žå…¨éƒ¨ ",-1)])),_:1,__:[74]},8,["disabled"])]}),_:1})])]),l("div",Ol,[(p(!0),S(Z,null,de(n.value.materials,i=>(p(),S("div",{key:i.id,class:"material-item"},[l("div",$l,[l("div",ql,u(i.name),1),l("div",Ul,u(i.type),1)]),l("div",Dl,[t(d,{type:"link",size:"small",onClick:c=>G(i)},{default:s(()=>[t(m(ee)),e[76]||(e[76]=o(" é¢„è§ˆ ",-1))]),_:2,__:[76]},1032,["onClick"]),t(d,{type:"link",size:"small",onClick:c=>P(i)},{default:s(()=>[t(m(te)),e[77]||(e[77]=o(" ä¸‹è½½ ",-1))]),_:2,__:[77]},1032,["onClick"])]),l("div",Bl,[l("div",El,[l("div",{class:re(["status-option",{"status-active":i.reviewStatus==="approved","status-approved":i.reviewStatus==="approved"}]),onClick:c=>dt(i)},[l("div",Ll,u(i.reviewStatus==="approved"?"âœ…":"âšª"),1),e[78]||(e[78]=l("div",{class:"status-text"},"é€šè¿‡",-1))],10,Vl),l("div",{class:re(["status-option",{"status-active":i.reviewStatus==="rejected","status-rejected":i.reviewStatus==="rejected"}]),onClick:c=>rt(i)},[l("div",Al,u(i.reviewStatus==="rejected"?"âŒ":"âšª"),1),e[79]||(e[79]=l("div",{class:"status-text"},"é©³å›ž",-1))],10,Pl),l("div",{class:re(["status-option",{"status-active":!i.reviewStatus||i.reviewStatus==="pending","status-pending":!i.reviewStatus||i.reviewStatus==="pending"}])},[l("div",Hl,u(!i.reviewStatus||i.reviewStatus==="pending"?"â³":"âšª"),1),e[80]||(e[80]=l("div",{class:"status-text"},"å¾…å®¡",-1))],2)]),i.rejectionReason?(p(),S("div",Jl,[t(d,{size:"small",type:"dashed",onClick:c=>vt(i)},{default:s(()=>e[81]||(e[81]=[o(" ðŸ“ ç¼–è¾‘æ„è§ ",-1)])),_:2,__:[81]},1032,["onClick"])])):f("",!0)]),i.rejectionReason?(p(),S("div",Wl,[e[82]||(e[82]=l("div",{class:"reason-label"},"é©³å›žæ„è§ï¼š",-1)),l("div",Yl,[l("div",{class:re(["reason-text",{"reason-expanded":i.showFullReason}])},u(i.rejectionReason),3),i.rejectionReason.length>50?(p(),R(d,{key:0,type:"link",size:"small",onClick:c=>pt(i),class:"toggle-reason-btn"},{default:s(()=>[o(u(i.showFullReason?"æ”¶èµ·":"å±•å¼€"),1)]),_:2},1032,["onClick"])):f("",!0)])])):f("",!0)]))),128))])]),l("div",Kl,[l("div",Ql,[e[84]||(e[84]=l("h4",null,"å®¡æ ¸æ„è§",-1)),t(d,{size:"small",type:"link",onClick:wt,disabled:!$e.value},{default:s(()=>e[83]||(e[83]=[o(" ðŸ”„ é‡æ–°ç”Ÿæˆ ",-1)])),_:1,__:[83]},8,["disabled"])]),t(q,{value:j.value.comments,"onUpdate:value":e[8]||(e[8]=i=>j.value.comments=i),placeholder:"å®¡æ ¸æ„è§å°†æ ¹æ®ææ–™å®¡æ ¸ç»“æžœè‡ªåŠ¨ç”Ÿæˆï¼Œæ‚¨ä¹Ÿå¯ä»¥æ‰‹åŠ¨ç¼–è¾‘è¡¥å……...",rows:8,"show-count":"",maxlength:1e3,class:"review-comments-textarea"},null,8,["value"]),l("div",Gl,[t(Re,{message:"æç¤º",description:"å®¡æ ¸æ„è§ä¼šè‡ªåŠ¨æ ¹æ®å„ææ–™çš„å®¡æ ¸ç»“æžœç”Ÿæˆï¼Œæ‚¨å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šè¡¥å……æ•´ä½“æ„è§ã€‚",type:"info","show-icon":"",closable:!1})])]),l("div",Nl,[e[86]||(e[86]=l("h4",null,"å®¡æ ¸ç»“æžœ",-1)),l("div",Xl,[t(w,{color:ie.value==="approved"?"green":"red",size:"large"},{default:s(()=>[o(u(ie.value==="approved"?"ææ–™å®¡æ ¸é€šè¿‡":"ææ–™å®¡æ ¸ä¸é€šè¿‡"),1)]),_:1},8,["color"]),e[85]||(e[85]=l("span",{class:"result-tip"}," ï¼ˆæ ¹æ®ææ–™å®¡æ ¸çŠ¶æ€è‡ªåŠ¨ç¡®å®šï¼‰ ",-1))])]),j.value.result==="rejected"?(p(),S("div",Zl,[t(h,{label:"ä¸é€šè¿‡åŽŸå› ",required:""},{default:s(()=>[t(q,{value:j.value.rejectionReason,"onUpdate:value":e[9]||(e[9]=i=>j.value.rejectionReason=i),placeholder:"è¯·è¯¦ç»†è¯´æ˜Žææ–™ä¸é€šè¿‡çš„å…·ä½“åŽŸå› ï¼ŒæŒ‡å‡ºéœ€è¦è¡¥å……æˆ–ä¿®æ”¹çš„å†…å®¹...",rows:4,"show-count":"",maxlength:500},null,8,["value"])]),_:1})])):f("",!0),l("div",es,[t(me,null,{default:s(()=>[t(d,{onClick:Je},{default:s(()=>e[87]||(e[87]=[o(" å–æ¶ˆ ",-1)])),_:1,__:[87]}),t(d,{type:"primary",onClick:We},{default:s(()=>e[88]||(e[88]=[o(" æäº¤å®¡æ ¸ ",-1)])),_:1,__:[88]})]),_:1})])])):f("",!0)]),_:1},8,["open"]),t(J,{open:L.value,"onUpdate:open":e[12]||(e[12]=i=>L.value=i),title:"å¡«å†™é©³å›žæ„è§",width:"500px",onOk:ct,onCancel:ft},{default:s(()=>[F.value?(p(),S("div",ts,[l("div",ls,[l("h4",null,u(F.value.name),1),l("p",ss,u(F.value.type),1)]),t(ne,{layout:"vertical"},{default:s(()=>[t(h,{label:"é©³å›žåŽŸå› ",required:""},{default:s(()=>[t(q,{value:$.value.reason,"onUpdate:value":e[11]||(e[11]=i=>$.value.reason=i),placeholder:"è¯·è¯¦ç»†è¯´æ˜Žè¯¥ææ–™çš„é—®é¢˜å’Œæ”¹è¿›è¦æ±‚...",rows:4,"show-count":"",maxlength:200},null,8,["value"])]),_:1})]),_:1})])):f("",!0)]),_:1},8,["open"]),t(J,{open:W.value,"onUpdate:open":e[20]||(e[20]=i=>W.value=i),title:"å®‰æŽ’éªŒæ”¶ä¼šè®®",width:"700px",onOk:Ye,onCancel:Ke},{default:s(()=>[n.value?(p(),S("div",as,[t(ne,{model:b.value,layout:"vertical"},{default:s(()=>[t(C,{gutter:24},{default:s(()=>[t(r,{span:12},{default:s(()=>[t(h,{label:"ä¼šè®®æ—¶é—´",required:""},{default:s(()=>[t(Rt,{value:b.value.datetime,"onUpdate:value":e[13]||(e[13]=i=>b.value.datetime=i),"show-time":"",placeholder:"é€‰æ‹©ä¼šè®®æ—¶é—´",style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1}),t(r,{span:12},{default:s(()=>[t(h,{label:"ä¼šè®®åœ°ç‚¹",required:""},{default:s(()=>[t(zt,{value:b.value.location,"onUpdate:value":e[14]||(e[14]=i=>b.value.location=i),placeholder:"è¯·è¾“å…¥ä¼šè®®åœ°ç‚¹"},null,8,["value"])]),_:1})]),_:1})]),_:1}),t(h,{label:"ä¼šè®®å½¢å¼",required:""},{default:s(()=>[t(ce,{value:b.value.type,"onUpdate:value":e[15]||(e[15]=i=>b.value.type=i)},{default:s(()=>[t(U,{value:"offline"},{default:s(()=>e[89]||(e[89]=[o("çŽ°åœºä¼šè®®",-1)])),_:1,__:[89]}),t(U,{value:"online"},{default:s(()=>e[90]||(e[90]=[o("çº¿ä¸Šä¼šè®®",-1)])),_:1,__:[90]}),t(U,{value:"hybrid"},{default:s(()=>e[91]||(e[91]=[o("æ··åˆä¼šè®®",-1)])),_:1,__:[91]})]),_:1},8,["value"])]),_:1}),t(h,{label:"ä¼šè®®ä¸»æŒäºº",required:""},{default:s(()=>[t(pe,{value:b.value.hosts,"onUpdate:value":e[16]||(e[16]=i=>b.value.hosts=i),mode:"tags",placeholder:"é€‰æ‹©æˆ–è¾“å…¥ä¸»æŒäººï¼ˆå¯é€‰æ‹©å¤šä¸ªæˆ–æ‰‹åŠ¨è¾“å…¥ï¼‰",style:{width:"100%"},options:Me.value,"filter-option":Qe},{tagRender:s(({label:i,onClose:c})=>[t(w,{color:"blue",closable:"",onClose:c,style:{"margin-right":"4px","margin-bottom":"4px"}},{default:s(()=>[o(u(i),1)]),_:2},1032,["onClose"])]),_:1},8,["value","options"]),e[92]||(e[92]=l("div",{class:"form-tip"},"å¯ä»Žä¸‹æ‹‰åˆ—è¡¨é€‰æ‹©æˆ–ç›´æŽ¥è¾“å…¥å§“åï¼Œæ”¯æŒå¤šä¸ªä¸»æŒäºº",-1))]),_:1,__:[92]}),t(h,{label:"å‚ä¼šä¸“å®¶",required:""},{default:s(()=>[t(pe,{value:b.value.experts,"onUpdate:value":e[17]||(e[17]=i=>b.value.experts=i),mode:"tags",placeholder:"é€‰æ‹©æˆ–è¾“å…¥å‚ä¼šä¸“å®¶ï¼ˆå¯é€‰æ‹©å¤šä¸ªæˆ–æ‰‹åŠ¨è¾“å…¥ï¼‰",style:{width:"100%"},options:Fe.value,"filter-option":Ge},{tagRender:s(({label:i,onClose:c})=>[t(w,{color:"green",closable:"",onClose:c,style:{"margin-right":"4px","margin-bottom":"4px"}},{default:s(()=>[o(u(i),1)]),_:2},1032,["onClose"])]),_:1},8,["value","options"]),e[93]||(e[93]=l("div",{class:"form-tip"},"å¯ä»Žä¸‹æ‹‰åˆ—è¡¨é€‰æ‹©æˆ–ç›´æŽ¥è¾“å…¥ä¸“å®¶å§“åï¼Œæ”¯æŒå¤šä¸ªä¸“å®¶",-1))]),_:1,__:[93]}),t(h,{label:"ä¼šè®®èµ„æ–™"},{default:s(()=>[l("div",is,[t(ze,{"file-list":b.value.materials,"onUpdate:fileList":e[18]||(e[18]=i=>b.value.materials=i),"before-upload":Ne,"on-remove":Xe,multiple:"",accept:".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.zip,.rar"},{default:s(()=>[t(d,null,{default:s(()=>[t(m(Ie)),e[94]||(e[94]=o(" ä¸Šä¼ ä¼šè®®èµ„æ–™ ",-1))]),_:1,__:[94]})]),_:1},8,["file-list"]),e[96]||(e[96]=l("div",{class:"upload-tip"}," æ”¯æŒä¸Šä¼ PDFã€Wordã€PPTã€Excelã€åŽ‹ç¼©åŒ…ç­‰æ ¼å¼ï¼Œå•ä¸ªæ–‡ä»¶ä¸è¶…è¿‡50MB ",-1)),b.value.materials&&b.value.materials.length>0?(p(),S("div",ns,[(p(!0),S(Z,null,de(b.value.materials,(i,c)=>(p(),S("div",{key:c,class:"material-item"},[t(m(O),{class:"file-icon"}),l("span",os,u(i.name),1),l("span",us,u(Se(i.size)),1),t(d,{type:"link",danger:"",size:"small",onClick:I=>Ze(c)},{default:s(()=>e[95]||(e[95]=[o(" åˆ é™¤ ",-1)])),_:2,__:[95]},1032,["onClick"])]))),128))])):f("",!0)])]),_:1}),t(h,{label:"ä¼šè®®è¯´æ˜Ž"},{default:s(()=>[t(q,{value:b.value.description,"onUpdate:value":e[19]||(e[19]=i=>b.value.description=i),placeholder:"è¯·å¡«å†™ä¼šè®®è¯´æ˜Ž...",rows:3,"show-count":"",maxlength:200},null,8,["value"])]),_:1})]),_:1},8,["model"])])):f("",!0)]),_:1},8,["open"]),t(J,{open:Y.value,"onUpdate:open":e[26]||(e[26]=i=>Y.value=i),title:"å½•å…¥éªŒæ”¶ç»“è®º",width:"800px",onOk:st,onCancel:at},{default:s(()=>[n.value?(p(),S("div",ds,[l("div",rs,[e[97]||(e[97]=l("h4",null,"ä¼šè®®ä¿¡æ¯",-1)),t(B,{column:2,bordered:"",size:"small"},{default:s(()=>{var i,c;return[t(_,{label:"é¡¹ç›®åç§°",span:2},{default:s(()=>[o(u(n.value.name),1)]),_:1}),t(_,{label:"ä¼šè®®æ—¶é—´"},{default:s(()=>{var I;return[o(u(((I=n.value.meetingInfo)==null?void 0:I.time)||"ä¼šè®®æ—¶é—´å¾…ç¡®å®š"),1)]}),_:1}),t(_,{label:"ä¼šè®®åœ°ç‚¹"},{default:s(()=>{var I;return[o(u(((I=n.value.meetingInfo)==null?void 0:I.location)||"ä¼šè®®åœ°ç‚¹å¾…ç¡®å®š"),1)]}),_:1}),(i=n.value.meetingInfo)!=null&&i.type?(p(),R(_,{key:0,label:"ä¼šè®®å½¢å¼"},{default:s(()=>[o(u(n.value.meetingInfo.type==="offline"?"çŽ°åœºä¼šè®®":n.value.meetingInfo.type==="online"?"çº¿ä¸Šä¼šè®®":"æ··åˆä¼šè®®"),1)]),_:1})):f("",!0),(c=n.value.meetingInfo)!=null&&c.description?(p(),R(_,{key:1,label:"ä¼šè®®è¯´æ˜Ž",span:2},{default:s(()=>[o(u(n.value.meetingInfo.description),1)]),_:1})):f("",!0)]}),_:1})]),t(ne,{model:y.value,layout:"vertical"},{default:s(()=>[t(h,{label:"éªŒæ”¶ç»“è®º",required:""},{default:s(()=>[t(ce,{value:y.value.conclusion,"onUpdate:value":e[21]||(e[21]=i=>y.value.conclusion=i)},{default:s(()=>[t(U,{value:"passed"},{default:s(()=>e[98]||(e[98]=[o("éªŒæ”¶é€šè¿‡",-1)])),_:1,__:[98]}),t(U,{value:"conditional_passed"},{default:s(()=>e[99]||(e[99]=[o("æœ‰æ¡ä»¶é€šè¿‡",-1)])),_:1,__:[99]}),t(U,{value:"failed"},{default:s(()=>e[100]||(e[100]=[o("éªŒæ”¶ä¸é€šè¿‡",-1)])),_:1,__:[100]})]),_:1},8,["value"])]),_:1}),t(h,{label:"éªŒæ”¶è¯„åˆ†"},{default:s(()=>[t(ht,{value:y.value.score,"onUpdate:value":e[22]||(e[22]=i=>y.value.score=i),min:0,max:100,placeholder:"è¯·è¾“å…¥è¯„åˆ†",style:{width:"200px"}},null,8,["value"]),e[101]||(e[101]=l("span",{style:{"margin-left":"8px"}},"åˆ†",-1))]),_:1,__:[101]}),t(h,{label:"ç»“è®ºè¯´æ˜Ž",required:""},{default:s(()=>[t(q,{value:y.value.description,"onUpdate:value":e[23]||(e[23]=i=>y.value.description=i),placeholder:"è¯·è¯¦ç»†è¯´æ˜ŽéªŒæ”¶ç»“è®º...",rows:4,"show-count":"",maxlength:500},null,8,["value"])]),_:1}),y.value.conclusion!=="passed"?(p(),R(h,{key:0,label:"æ•´æ”¹è¦æ±‚"},{default:s(()=>[t(q,{value:y.value.requirements,"onUpdate:value":e[24]||(e[24]=i=>y.value.requirements=i),placeholder:"è¯·å¡«å†™æ•´æ”¹è¦æ±‚...",rows:3,"show-count":"",maxlength:300},null,8,["value"])]),_:1})):f("",!0),t(h,{label:"ç»“è®ºç›¸å…³æ–‡ä»¶"},{default:s(()=>[l("div",vs,[t(ze,{"file-list":y.value.conclusionFiles,"onUpdate:fileList":e[25]||(e[25]=i=>y.value.conclusionFiles=i),"before-upload":et,"on-remove":tt,multiple:"",accept:".pdf,.doc,.docx,.xls,.xlsx"},{default:s(()=>[t(d,null,{default:s(()=>[t(m(Ie)),e[102]||(e[102]=o(" ä¸Šä¼ ç»“è®ºæ–‡ä»¶ ",-1))]),_:1,__:[102]})]),_:1},8,["file-list"]),y.value.conclusionFiles.length>0?(p(),S("div",ps,[(p(!0),S(Z,null,de(y.value.conclusionFiles,(i,c)=>(p(),S("div",{key:c,class:"file-item"},[t(m(O),{class:"file-icon"}),l("span",ms,u(i.name),1),l("span",cs,u(Se(i.size)),1),t(d,{type:"link",danger:"",size:"small",onClick:I=>lt(c)},{default:s(()=>e[103]||(e[103]=[o(" åˆ é™¤ ",-1)])),_:2,__:[103]},1032,["onClick"])]))),128))])):f("",!0),e[104]||(e[104]=l("div",{class:"upload-tip"},[l("small",{style:{color:"#999"}}," æ”¯æŒä¸Šä¼  PDFã€Wordã€Excel æ–‡ä»¶ï¼Œå•ä¸ªæ–‡ä»¶å¤§å°ä¸è¶…è¿‡ 20MB ")],-1))])]),_:1})]),_:1},8,["model"])])):f("",!0)]),_:1},8,["open"]),t(J,{open:K.value,"onUpdate:open":e[36]||(e[36]=i=>K.value=i),title:"å®¡æ ¸æ•´æ”¹ææ–™",width:"900px",onOk:it,onCancel:nt},{default:s(()=>[n.value?(p(),S("div",fs,[l("div",_s,[e[105]||(e[105]=l("h4",null,"é¡¹ç›®åŸºæœ¬ä¿¡æ¯",-1)),t(B,{column:2,bordered:"",size:"small"},{default:s(()=>[t(_,{label:"é¡¹ç›®åç§°",span:2},{default:s(()=>[o(u(n.value.name),1)]),_:1}),t(_,{label:"é¡¹ç›®ç¼–å·"},{default:s(()=>[o(u(n.value.code),1)]),_:1}),t(_,{label:"æäº¤æ—¶é—´"},{default:s(()=>[o(u(n.value.submitTime),1)]),_:1})]),_:1})]),n.value.conclusion&&n.value.conclusion.requirements?(p(),S("div",gs,[e[106]||(e[106]=l("h4",null,"åŽŸå§‹æ•´æ”¹è¦æ±‚",-1)),l("div",ws,[t(Re,{type:"warning","show-icon":"",message:n.value.conclusion.requirements},null,8,["message"])])])):f("",!0),l("div",ys,[e[122]||(e[122]=l("h4",null,"ç”³è¯·äººæäº¤çš„æ•´æ”¹ææ–™",-1)),l("div",bs,[l("div",ks,[l("div",Ss,[l("div",xs,[t(m(O)),e[107]||(e[107]=o(" æ•°æ®å¤‡ä»½æœºåˆ¶è¯´æ˜Ž.pdf ",-1))]),l("div",Cs,[e[108]||(e[108]=l("span",{class:"material-type"},"æ•´æ”¹ææ–™",-1)),e[109]||(e[109]=l("span",{class:"material-size"},"2.3MB",-1)),l("span",Rs,u(n.value.improvementSubmitTime||"2024-01-28 14:30"),1)])]),l("div",zs,[t(d,{type:"link",size:"small",onClick:e[27]||(e[27]=i=>G({name:"æ•°æ®å¤‡ä»½æœºåˆ¶è¯´æ˜Ž.pdf"}))},{default:s(()=>[t(m(ee)),e[110]||(e[110]=o(" é¢„è§ˆ ",-1))]),_:1,__:[110]}),t(d,{type:"link",size:"small",onClick:e[28]||(e[28]=i=>P({name:"æ•°æ®å¤‡ä»½æœºåˆ¶è¯´æ˜Ž.pdf"}))},{default:s(()=>[t(m(te)),e[111]||(e[111]=o(" ä¸‹è½½ ",-1))]),_:1,__:[111]})])]),l("div",hs,[l("div",js,[l("div",Is,[t(m(O)),e[112]||(e[112]=o(" ç³»ç»Ÿç•Œé¢ä¼˜åŒ–æŠ¥å‘Š.pdf ",-1))]),l("div",Ms,[e[113]||(e[113]=l("span",{class:"material-type"},"æ•´æ”¹ææ–™",-1)),e[114]||(e[114]=l("span",{class:"material-size"},"1.8MB",-1)),l("span",Fs,u(n.value.improvementSubmitTime||"2024-01-28 14:30"),1)])]),l("div",Ts,[t(d,{type:"link",size:"small",onClick:e[29]||(e[29]=i=>G({name:"ç³»ç»Ÿç•Œé¢ä¼˜åŒ–æŠ¥å‘Š.pdf"}))},{default:s(()=>[t(m(ee)),e[115]||(e[115]=o(" é¢„è§ˆ ",-1))]),_:1,__:[115]}),t(d,{type:"link",size:"small",onClick:e[30]||(e[30]=i=>P({name:"ç³»ç»Ÿç•Œé¢ä¼˜åŒ–æŠ¥å‘Š.pdf"}))},{default:s(()=>[t(m(te)),e[116]||(e[116]=o(" ä¸‹è½½ ",-1))]),_:1,__:[116]})])]),l("div",Os,[l("div",$s,[l("div",qs,[t(m(O)),e[117]||(e[117]=o(" ç³»ç»Ÿæ“ä½œè¯´æ˜Žæ–‡æ¡£.docx ",-1))]),l("div",Us,[e[118]||(e[118]=l("span",{class:"material-type"},"æ•´æ”¹ææ–™",-1)),e[119]||(e[119]=l("span",{class:"material-size"},"1.2MB",-1)),l("span",Ds,u(n.value.improvementSubmitTime||"2024-01-28 14:30"),1)])]),l("div",Bs,[t(d,{type:"link",size:"small",onClick:e[31]||(e[31]=i=>G({name:"ç³»ç»Ÿæ“ä½œè¯´æ˜Žæ–‡æ¡£.docx"}))},{default:s(()=>[t(m(ee)),e[120]||(e[120]=o(" é¢„è§ˆ ",-1))]),_:1,__:[120]}),t(d,{type:"link",size:"small",onClick:e[32]||(e[32]=i=>P({name:"ç³»ç»Ÿæ“ä½œè¯´æ˜Žæ–‡æ¡£.docx"}))},{default:s(()=>[t(m(te)),e[121]||(e[121]=o(" ä¸‹è½½ ",-1))]),_:1,__:[121]})])])])]),l("div",Es,[e[126]||(e[126]=l("h4",null,"ç”³è¯·äººæ•´æ”¹è¯´æ˜Ž",-1)),l("div",Vs,[t(jt,{size:"small",class:"improvement-description-card"},{default:s(()=>[l("div",Ls,[e[125]||(e[125]=l("p",null,[l("strong",null,"æ•´æ”¹å®Œæˆæƒ…å†µï¼š")],-1)),l("div",Ps,[l("p",null,u(n.value.improvementDescription||"1. å·²å®Œå–„æ•°æ®å¤‡ä»½æœºåˆ¶ï¼Œå»ºç«‹äº†è‡ªåŠ¨å¤‡ä»½å’Œæ‰‹åŠ¨å¤‡ä»½åŒé‡ä¿éšœä½“ç³»ï¼›"),1),e[123]||(e[123]=l("p",null,u("2. ä¼˜åŒ–äº†ç³»ç»Ÿç•Œé¢å¸ƒå±€ï¼Œæå‡ç”¨æˆ·äº¤äº’ä½“éªŒï¼›"),-1)),e[124]||(e[124]=l("p",null,u("3. ç¼–å†™äº†è¯¦ç»†çš„æ“ä½œè¯´æ˜Žæ–‡æ¡£ï¼Œä¾¿äºŽç”¨æˆ·ä½¿ç”¨ã€‚"),-1))]),l("div",As,[t(m(_e)),l("span",null,"æäº¤æ—¶é—´ï¼š"+u(n.value.improvementSubmitTime||"2024-01-28 14:30"),1)])])]),_:1})])]),l("div",Hs,[e[129]||(e[129]=l("h4",null,"å®¡æ ¸ç»“æžœ",-1)),t(ne,{layout:"vertical"},{default:s(()=>[t(h,{label:"å®¡æ ¸ç»“è®º",required:""},{default:s(()=>[t(ce,{value:T.value.result,"onUpdate:value":e[33]||(e[33]=i=>T.value.result=i),class:"review-result-group"},{default:s(()=>[t(U,{value:"approved",class:"review-option"},{default:s(()=>[t(m(ue),{style:{color:"#52c41a","margin-right":"8px"}}),e[127]||(e[127]=o(" æ•´æ”¹å®Œæˆï¼Œç«‹é¡¹é€šè¿‡ ",-1))]),_:1,__:[127]}),t(U,{value:"rejected",class:"review-option"},{default:s(()=>[t(m(Dt),{style:{color:"#faad14","margin-right":"8px"}}),e[128]||(e[128]=o(" æ•´æ”¹ä¸æ»¡è¶³è¦æ±‚ï¼Œéœ€è¦ç»§ç»­æ•´æ”¹ ",-1))]),_:1,__:[128]})]),_:1},8,["value"])]),_:1}),t(h,{label:"å®¡æ ¸æ„è§",required:""},{default:s(()=>[t(q,{value:T.value.comments,"onUpdate:value":e[34]||(e[34]=i=>T.value.comments=i),placeholder:"è¯·å¡«å†™è¯¦ç»†çš„å®¡æ ¸æ„è§...",rows:4,"show-count":"",maxlength:500},null,8,["value"])]),_:1}),T.value.result==="rejected"?(p(),R(h,{key:0,label:"æ–°çš„æ•´æ”¹è¦æ±‚",required:""},{default:s(()=>[t(q,{value:T.value.requirements,"onUpdate:value":e[35]||(e[35]=i=>T.value.requirements=i),placeholder:"è¯·æ˜Žç¡®æŒ‡å‡ºéœ€è¦ç»§ç»­æ•´æ”¹çš„å…·ä½“å†…å®¹å’Œè¦æ±‚...",rows:3,"show-count":"",maxlength:300},null,8,["value"])]),_:1})):f("",!0)]),_:1})])])):f("",!0)]),_:1},8,["open"]),t(J,{open:se.value,"onUpdate:open":e[37]||(e[37]=i=>se.value=i),title:"é¡¹ç›®è¯¦æƒ…",width:"1000px",footer:null,onCancel:He},{default:s(()=>[n.value?(p(),S("div",Js,[l("div",Ws,[l("h4",null,[t(m(Pt)),e[130]||(e[130]=o(" é¡¹ç›®åŸºæœ¬ä¿¡æ¯",-1))]),t(B,{column:2,bordered:"",size:"small"},{default:s(()=>[t(_,{label:"å¹´åº¦"},{default:s(()=>[o(u(n.value.year),1)]),_:1}),t(_,{label:"é¡¹ç›®ç¼–å·"},{default:s(()=>[o(u(n.value.code),1)]),_:1}),t(_,{label:"ç«‹é¡¹åç§°",span:2},{default:s(()=>[o(u(n.value.name),1)]),_:1}),t(_,{label:"ç”³è¯·äºº"},{default:s(()=>[o(u(n.value.applicant),1)]),_:1}),t(_,{label:"ç”³è¯·å•ä½"},{default:s(()=>[o(u(n.value.department),1)]),_:1}),t(_,{label:"é¡¹ç›®å‘¨æœŸ(æœˆ)"},{default:s(()=>[o(u(n.value.duration)+"ä¸ªæœˆ ",1)]),_:1}),t(_,{label:"é¢„ç®—(ä¸‡å…ƒ)"},{default:s(()=>[o(u(n.value.budget)+"ä¸‡å…ƒ ",1)]),_:1}),t(_,{label:"ç”³è¯·æ—¶é—´"},{default:s(()=>[o(u(n.value.submitTime),1)]),_:1}),t(_,{label:"å½“å‰çŠ¶æ€"},{default:s(()=>[t(w,{color:be(n.value.currentStatus)},{default:s(()=>[o(u(ke(n.value.currentStatus)),1)]),_:1},8,["color"])]),_:1}),n.value.finalResult?(p(),R(_,{key:0,label:"æœ€ç»ˆç»“æžœ"},{default:s(()=>[t(w,{color:n.value.finalResult==="passed"?"green":n.value.finalResult==="failed"?"red":"orange"},{default:s(()=>[o(u(n.value.finalResult==="passed"?"ç«‹é¡¹é€šè¿‡":n.value.finalResult==="failed"?"ç«‹é¡¹æœªé€šè¿‡":"æœ‰æ¡ä»¶é€šè¿‡"),1)]),_:1},8,["color"])]),_:1})):f("",!0)]),_:1})]),l("div",Ys,[l("h4",null,[t(m(O)),e[131]||(e[131]=o(" éªŒæ”¶ææ–™",-1))]),l("div",Ks,[(p(!0),S(Z,null,de(n.value.materials,i=>(p(),S("div",{key:i.id,class:"material-item"},[l("div",Qs,[l("div",Gs,[t(m(O)),o(" "+u(i.name),1)]),l("div",Ns,[l("span",Xs,u(i.type),1),t(w,{color:i.reviewStatus==="approved"?"green":i.reviewStatus==="rejected"?"red":"orange",size:"small"},{default:s(()=>[o(u(i.reviewStatus==="approved"?"å·²é€šè¿‡":i.reviewStatus==="rejected"?"å·²é©³å›ž":"å¾…å®¡æ ¸"),1)]),_:2},1032,["color"])])]),l("div",Zs,[t(d,{type:"link",size:"small",onClick:c=>G(i)},{default:s(()=>[t(m(ee)),e[132]||(e[132]=o(" é¢„è§ˆ ",-1))]),_:2,__:[132]},1032,["onClick"]),t(d,{type:"link",size:"small",onClick:c=>P(i)},{default:s(()=>[t(m(te)),e[133]||(e[133]=o(" ä¸‹è½½ ",-1))]),_:2,__:[133]},1032,["onClick"])])]))),128))])]),n.value.meetingInfo?(p(),S("div",ea,[l("h4",null,[t(m(fe)),e[134]||(e[134]=o(" ä¼šè®®ä¿¡æ¯",-1))]),t(B,{column:2,bordered:"",size:"small"},{default:s(()=>[t(_,{label:"ä¼šè®®æ—¶é—´"},{default:s(()=>[o(u(n.value.meetingInfo.time),1)]),_:1}),t(_,{label:"ä¼šè®®åœ°ç‚¹"},{default:s(()=>[o(u(n.value.meetingInfo.location),1)]),_:1}),t(_,{label:"ä¼šè®®å½¢å¼",span:2},{default:s(()=>[o(u(n.value.meetingInfo.type==="offline"?"çŽ°åœºä¼šè®®":n.value.meetingInfo.type==="online"?"çº¿ä¸Šä¼šè®®":"æ··åˆä¼šè®®"),1)]),_:1}),n.value.meetingInfo.description?(p(),R(_,{key:0,label:"ä¼šè®®è¯´æ˜Ž",span:2},{default:s(()=>[o(u(n.value.meetingInfo.description),1)]),_:1})):f("",!0)]),_:1})])):f("",!0),n.value.conclusion?(p(),S("div",ta,[l("h4",null,[t(m(ge)),e[135]||(e[135]=o(" éªŒæ”¶ç»“è®º",-1))]),t(B,{column:2,bordered:"",size:"small"},{default:s(()=>[t(_,{label:"éªŒæ”¶ç»“æžœ"},{default:s(()=>[t(w,{color:n.value.conclusion.result==="passed"?"green":n.value.conclusion.result==="failed"?"red":"orange"},{default:s(()=>[o(u(n.value.conclusion.result==="passed"?"éªŒæ”¶é€šè¿‡":n.value.conclusion.result==="failed"?"éªŒæ”¶ä¸é€šè¿‡":"æœ‰æ¡ä»¶é€šè¿‡"),1)]),_:1},8,["color"])]),_:1}),t(_,{label:"éªŒæ”¶æ—¶é—´"},{default:s(()=>[o(u(n.value.conclusion.time),1)]),_:1}),n.value.conclusion.score?(p(),R(_,{key:0,label:"éªŒæ”¶è¯„åˆ†"},{default:s(()=>[l("span",{style:Bt({color:n.value.conclusion.score>=90?"#52c41a":n.value.conclusion.score>=80?"#fa8c16":"#ff4d4f"})},u(n.value.conclusion.score)+"åˆ† ",5)]),_:1})):f("",!0),t(_,{label:"éªŒæ”¶è¯´æ˜Ž",span:2},{default:s(()=>[o(u(n.value.conclusion.description),1)]),_:1}),n.value.conclusion.requirements?(p(),R(_,{key:1,label:"æ•´æ”¹è¦æ±‚",span:2},{default:s(()=>[l("div",la,u(n.value.conclusion.requirements),1)]),_:1})):f("",!0)]),_:1})])):f("",!0),n.value.improvementSubmitted?(p(),S("div",sa,[l("h4",null,[t(m(ue)),e[136]||(e[136]=o(" æ•´æ”¹æƒ…å†µ",-1))]),t(B,{column:2,bordered:"",size:"small"},{default:s(()=>[t(_,{label:"æäº¤çŠ¶æ€"},{default:s(()=>[t(w,{color:"blue"},{default:s(()=>e[137]||(e[137]=[o("å·²æäº¤æ•´æ”¹ææ–™",-1)])),_:1,__:[137]})]),_:1}),t(_,{label:"æäº¤æ—¶é—´"},{default:s(()=>[o(u(n.value.improvementSubmitTime),1)]),_:1}),t(_,{label:"æ•´æ”¹è¯´æ˜Ž",span:2},{default:s(()=>[l("div",aa,u(n.value.improvementDescription),1)]),_:1})]),_:1})])):f("",!0),l("div",ia,[l("h4",null,[t(m(_e)),e[138]||(e[138]=o(" å®¡æ ¸åŽ†å²",-1))]),t(It,null,{default:s(()=>[t(X,{color:"blue"},{dot:s(()=>[t(m(O))]),default:s(()=>[l("div",na,[e[139]||(e[139]=l("div",{class:"timeline-title"},"é¡¹ç›®éªŒæ”¶ç”³è¯·æäº¤",-1)),l("div",oa,u(n.value.submitTime),1)])]),_:1}),n.value.materialStatus==="approved"?(p(),R(X,{key:0,color:"green"},{dot:s(()=>[t(m(ue))]),default:s(()=>[l("div",ua,[e[140]||(e[140]=l("div",{class:"timeline-title"},"ææ–™å®¡æ ¸é€šè¿‡",-1)),l("div",da,u(n.value.materialReviewTime||"2024-01-18"),1)])]),_:1})):f("",!0),n.value.meetingScheduled?(p(),R(X,{key:1,color:"blue"},{dot:s(()=>[t(m(fe))]),default:s(()=>{var i;return[l("div",ra,[e[141]||(e[141]=l("div",{class:"timeline-title"},"éªŒæ”¶ä¼šè®®å®‰æŽ’",-1)),l("div",va,u((i=n.value.meetingInfo)==null?void 0:i.time),1)])]}),_:1})):f("",!0),n.value.conclusion?(p(),R(X,{key:2,color:n.value.conclusion.result==="passed"?"green":n.value.conclusion.result==="failed"?"red":"orange"},{dot:s(()=>[t(m(ge))]),default:s(()=>[l("div",pa,[l("div",ma,u(n.value.conclusion.result==="passed"?"éªŒæ”¶é€šè¿‡":n.value.conclusion.result==="failed"?"éªŒæ”¶ä¸é€šè¿‡":"æœ‰æ¡ä»¶é€šè¿‡"),1),l("div",ca,u(n.value.conclusion.time),1)])]),_:1},8,["color"])):f("",!0),n.value.improvementSubmitted?(p(),R(X,{key:3,color:"blue"},{dot:s(()=>[t(m(O))]),default:s(()=>[l("div",fa,[e[142]||(e[142]=l("div",{class:"timeline-title"},"æ•´æ”¹ææ–™æäº¤",-1)),l("div",_a,u(n.value.improvementSubmitTime),1)])]),_:1})):f("",!0)]),_:1})])])):f("",!0)]),_:1},8,["open"]),t(Vt,{visible:ve.value,"onUpdate:visible":e[38]||(e[38]=i=>ve.value=i),"file-info":ye.value,onDownload:ot},null,8,["visible","file-info"])])}}},ja=Mt(ga,[["__scopeId","data-v-6f123511"]]);export{ja as default};
