import{j as t,I as dt,_ as rt,d as K,u as ct,h as R,e as F,i as ut,c,a as e,w as s,l as u,t as o,f as h,m as _t,o as r,p as l,F as k,s as y,x as C,Q as N,T as mt,k as pt}from"./index-BG3bheTR.js";import{M as vt}from"./MessageOutlined-V_EDABAS.js";import{T as ft}from"./ToolOutlined-CJ9VPiVj.js";import{B as gt}from"./BarChartOutlined-B0qKbAFm.js";var bt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 01-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 00-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 00285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z"}}]},name:"phone",theme:"outlined"};function Q(f){for(var _=1;_<arguments.length;_++){var p=arguments[_]!=null?Object(arguments[_]):{},D=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(D=D.concat(Object.getOwnPropertySymbols(p).filter(function(g){return Object.getOwnPropertyDescriptor(p,g).enumerable}))),D.forEach(function(g){ht(f,g,p[g])})}return f}function ht(f,_,p){return _ in f?Object.defineProperty(f,_,{value:p,enumerable:!0,configurable:!0,writable:!0}):f[_]=p,f}var U=function(_,p){var D=Q({},_,p.attrs);return t(dt,Q({},D,{icon:bt}),null)};U.displayName="PhoneOutlined";U.inheritAttrs=!1;const kt={class:"project-detail-page"},yt={class:"page-header"},Ct={class:"header-content"},Dt={class:"page-title"},Ot={class:"project-meta"},xt={class:"detail-content"},zt={class:"project-description"},jt={class:"task-stats"},Pt={class:"stat-item"},$t={class:"stat-number"},wt={class:"stat-item"},Tt={class:"stat-number"},Mt={class:"stat-item"},Bt={class:"stat-number"},qt={class:"stat-item"},It={class:"stat-number"},St={class:"task-list"},At={class:"task-filters"},Lt={class:"task-items"},Rt=["onClick"],Ft={class:"task-info"},Nt={class:"task-name"},Ut={class:"task-meta"},Et={class:"task-due"},Vt={class:"task-progress"},Kt={class:"documents-section"},Qt={class:"document-categories"},Wt={class:"document-list"},Gt={class:"document-name"},Ht={class:"document-actions"},Jt={class:"document-list"},Xt={class:"document-name"},Yt={class:"document-actions"},Zt={class:"document-list"},te={class:"document-name"},ee={class:"document-actions"},se={class:"team-members"},ae={class:"member-info"},ne={class:"member-name"},oe={class:"member-role"},le={class:"member-status"},ie={class:"member-actions"},de={class:"progress-stats"},re={class:"overall-progress"},ce={class:"phase-progress"},ue={class:"phase-info"},_e={class:"phase-name"},me={class:"phase-percent"},pe={class:"quick-actions"},ve={class:"announcements"},fe={class:"announcement-header"},ge={class:"announcement-title"},be={class:"announcement-time"},he={class:"announcement-content"},ke={class:"announcement-author"},ye={class:"milestones"},Ce={class:"milestone-item"},De={class:"milestone-name"},Oe={class:"milestone-date"},xe={class:"milestone-status"},ze={__name:"detail",setup(f){const _=_t(),p=ct(),D=K(()=>p.params.id||"default"),g=R("all"),E=R("requirements"),i=F({id:"",name:"",type:"",status:"",priority:"",manager:"",myRole:"",startDate:"",endDate:"",budget:0,progress:0,description:"",teamMembers:[],phases:[],announcements:[],milestones:[]}),j=F({total:0,active:0,completed:0,overdue:0}),T=R([]),P=F({requirements:[],design:[],technical:[]}),W=K(()=>g.value==="all"?T.value:T.value.filter(d=>d.status===g.value)),M=d=>({planning:"orange",active:"blue",completed:"green",suspended:"red",pending:"orange"})[d]||"default",B=d=>({planning:"规划中",active:"进行中",completed:"已完成",suspended:"已暂停",pending:"待开始"})[d]||d,q=d=>({low:"blue",medium:"orange",high:"red",urgent:"purple"})[d]||"default",I=d=>({low:"低",medium:"中",high:"高",urgent:"紧急"})[d]||d,G=async()=>{try{Object.assign(i,{id:D.value,name:"智能办公系统开发",type:"研发项目",status:"active",priority:"high",manager:"张三",myRole:"UI设计师",startDate:"2024-01-01",endDate:"2024-12-31",budget:150,progress:65,description:"开发一套智能化的办公管理系统，包括项目管理、任务分配、进度跟踪、团队协作等核心功能模块。",teamMembers:[{id:1,name:"张三",role:"项目经理",status:"在线",avatar:""},{id:2,name:"李四",role:"前端开发",status:"忙碌",avatar:""},{id:3,name:"王五",role:"UI设计师",status:"在线",avatar:""},{id:4,name:"赵六",role:"后端开发",status:"离线",avatar:""},{id:5,name:"钱七",role:"测试工程师",status:"在线",avatar:""}],phases:[{id:1,name:"需求分析",progress:100},{id:2,name:"设计阶段",progress:80},{id:3,name:"开发阶段",progress:60},{id:4,name:"测试阶段",progress:20},{id:5,name:"部署上线",progress:0}],announcements:[{id:1,title:"设计规范更新",content:"请大家关注最新的设计规范文档，确保界面风格一致性。",author:"张三",createdAt:"2024-01-20"},{id:2,title:"周例会调整",content:"本周例会改为周三下午3点，请大家调整时间。",author:"张三",createdAt:"2024-01-18"}],milestones:[{id:1,name:"需求确认",dueDate:"2024-01-15",completed:!0},{id:2,name:"原型设计",dueDate:"2024-02-01",completed:!0},{id:3,name:"核心功能开发",dueDate:"2024-06-30",completed:!1},{id:4,name:"系统测试",dueDate:"2024-10-31",completed:!1},{id:5,name:"正式上线",dueDate:"2024-12-31",completed:!1}]}),Object.assign(j,{total:8,active:3,completed:4,overdue:1}),T.value=[{id:1,name:"用户界面设计优化",status:"active",priority:"high",progress:65,dueDate:"2024-01-25"},{id:2,name:"图标设计",status:"completed",priority:"medium",progress:100,dueDate:"2024-01-20"},{id:3,name:"移动端适配设计",status:"pending",priority:"medium",progress:0,dueDate:"2024-02-05"}],Object.assign(P,{requirements:[{id:1,name:"项目需求规格说明书.docx"},{id:2,name:"用户故事汇总.xlsx"}],design:[{id:3,name:"界面设计规范.pdf"},{id:4,name:"交互设计文档.sketch"}],technical:[{id:5,name:"技术架构设计.pdf"},{id:6,name:"API接口文档.html"}]})}catch(d){console.error("加载项目数据失败:",d),h.error("加载项目数据失败")}},H=d=>{_.push(`/team-member/tasks/${d.id}`)},S=d=>{h.info(`查看文档: ${d.name}`)},A=d=>{h.info(`下载文档: ${d.name}`)},J=d=>{h.info(`联系${d.name}`)},X=()=>{h.info("工作日志功能开发中")},Y=()=>{h.info("资源申请功能开发中")},Z=()=>{h.info("进度汇报功能开发中")},tt=()=>{h.info(`联系项目经理: ${i.manager}`)},et=()=>{_.go(-1)};return ut(()=>{G()}),(d,n)=>{const m=u("a-button"),O=u("a-tag"),v=u("a-descriptions-item"),$=u("a-progress"),st=u("a-descriptions"),b=u("a-card"),z=u("a-col"),V=u("a-row"),w=u("a-radio-button"),at=u("a-radio-group"),L=u("a-tab-pane"),nt=u("a-tabs"),ot=u("a-avatar"),lt=u("a-timeline-item"),it=u("a-timeline");return r(),c("div",kt,[e("div",yt,[t(m,{type:"link",onClick:et},{default:s(()=>n[2]||(n[2]=[l("返回")])),_:1,__:[2]}),e("div",Ct,[e("h1",Dt,o(i.name),1),e("div",Ot,[t(O,{color:M(i.status)},{default:s(()=>[l(o(B(i.status)),1)]),_:1},8,["color"]),t(O,{color:q(i.priority)},{default:s(()=>[l(o(I(i.priority)),1)]),_:1},8,["color"])])])]),e("div",xt,[t(V,{gutter:24},{default:s(()=>[t(z,{span:16},{default:s(()=>[t(b,{title:"项目概览",class:"info-card"},{default:s(()=>[t(st,{column:2,bordered:""},{default:s(()=>[t(v,{label:"项目名称"},{default:s(()=>[l(o(i.name),1)]),_:1}),t(v,{label:"项目类型"},{default:s(()=>[l(o(i.type),1)]),_:1}),t(v,{label:"项目状态"},{default:s(()=>[t(O,{color:M(i.status)},{default:s(()=>[l(o(B(i.status)),1)]),_:1},8,["color"])]),_:1}),t(v,{label:"优先级"},{default:s(()=>[t(O,{color:q(i.priority)},{default:s(()=>[l(o(I(i.priority)),1)]),_:1},8,["color"])]),_:1}),t(v,{label:"项目经理"},{default:s(()=>[l(o(i.manager),1)]),_:1}),t(v,{label:"我的角色"},{default:s(()=>[l(o(i.myRole),1)]),_:1}),t(v,{label:"开始时间"},{default:s(()=>[l(o(i.startDate),1)]),_:1}),t(v,{label:"预计结束"},{default:s(()=>[l(o(i.endDate),1)]),_:1}),t(v,{label:"项目预算"},{default:s(()=>[l(o(i.budget)+"万元",1)]),_:1}),t(v,{label:"当前进度"},{default:s(()=>[t($,{percent:i.progress},null,8,["percent"])]),_:1})]),_:1})]),_:1}),t(b,{title:"项目描述",class:"info-card"},{default:s(()=>[e("div",zt,o(i.description),1)]),_:1}),t(b,{title:"我的任务",class:"info-card"},{default:s(()=>[e("div",jt,[t(V,{gutter:16},{default:s(()=>[t(z,{span:6},{default:s(()=>[e("div",Pt,[e("div",$t,o(j.total),1),n[3]||(n[3]=e("div",{class:"stat-label"},"总任务",-1))])]),_:1}),t(z,{span:6},{default:s(()=>[e("div",wt,[e("div",Tt,o(j.active),1),n[4]||(n[4]=e("div",{class:"stat-label"},"进行中",-1))])]),_:1}),t(z,{span:6},{default:s(()=>[e("div",Mt,[e("div",Bt,o(j.completed),1),n[5]||(n[5]=e("div",{class:"stat-label"},"已完成",-1))])]),_:1}),t(z,{span:6},{default:s(()=>[e("div",qt,[e("div",It,o(j.overdue),1),n[6]||(n[6]=e("div",{class:"stat-label"},"逾期",-1))])]),_:1})]),_:1})]),e("div",St,[e("div",At,[t(at,{value:g.value,"onUpdate:value":n[0]||(n[0]=a=>g.value=a),"button-style":"solid",size:"small"},{default:s(()=>[t(w,{value:"all"},{default:s(()=>n[7]||(n[7]=[l("全部")])),_:1,__:[7]}),t(w,{value:"active"},{default:s(()=>n[8]||(n[8]=[l("进行中")])),_:1,__:[8]}),t(w,{value:"pending"},{default:s(()=>n[9]||(n[9]=[l("待开始")])),_:1,__:[9]}),t(w,{value:"completed"},{default:s(()=>n[10]||(n[10]=[l("已完成")])),_:1,__:[10]})]),_:1},8,["value"])]),e("div",Lt,[(r(!0),c(k,null,y(W.value,a=>(r(),c("div",{key:a.id,class:"task-item",onClick:x=>H(a)},[e("div",Ft,[e("div",Nt,o(a.name),1),e("div",Ut,[t(O,{color:M(a.status),size:"small"},{default:s(()=>[l(o(B(a.status)),1)]),_:2},1032,["color"]),t(O,{color:q(a.priority),size:"small"},{default:s(()=>[l(o(I(a.priority)),1)]),_:2},1032,["color"]),e("span",Et,"截止: "+o(a.dueDate),1)])]),e("div",Vt,[t($,{percent:a.progress,size:"small"},null,8,["percent"])])],8,Rt))),128))])])]),_:1}),t(b,{title:"项目文档",class:"info-card"},{default:s(()=>[e("div",Kt,[e("div",Qt,[t(nt,{activeKey:E.value,"onUpdate:activeKey":n[1]||(n[1]=a=>E.value=a)},{default:s(()=>[t(L,{key:"requirements",tab:"需求文档"},{default:s(()=>[e("div",Wt,[(r(!0),c(k,null,y(P.requirements,a=>(r(),c("div",{key:a.id,class:"document-item"},[t(C(N)),e("span",Gt,o(a.name),1),e("div",Ht,[t(m,{type:"link",size:"small",onClick:x=>S(a)},{default:s(()=>n[11]||(n[11]=[l("查看")])),_:2,__:[11]},1032,["onClick"]),t(m,{type:"link",size:"small",onClick:x=>A(a)},{default:s(()=>n[12]||(n[12]=[l("下载")])),_:2,__:[12]},1032,["onClick"])])]))),128))])]),_:1}),t(L,{key:"design",tab:"设计文档"},{default:s(()=>[e("div",Jt,[(r(!0),c(k,null,y(P.design,a=>(r(),c("div",{key:a.id,class:"document-item"},[t(C(N)),e("span",Xt,o(a.name),1),e("div",Yt,[t(m,{type:"link",size:"small",onClick:x=>S(a)},{default:s(()=>n[13]||(n[13]=[l("查看")])),_:2,__:[13]},1032,["onClick"]),t(m,{type:"link",size:"small",onClick:x=>A(a)},{default:s(()=>n[14]||(n[14]=[l("下载")])),_:2,__:[14]},1032,["onClick"])])]))),128))])]),_:1}),t(L,{key:"technical",tab:"技术文档"},{default:s(()=>[e("div",Zt,[(r(!0),c(k,null,y(P.technical,a=>(r(),c("div",{key:a.id,class:"document-item"},[t(C(N)),e("span",te,o(a.name),1),e("div",ee,[t(m,{type:"link",size:"small",onClick:x=>S(a)},{default:s(()=>n[15]||(n[15]=[l("查看")])),_:2,__:[15]},1032,["onClick"]),t(m,{type:"link",size:"small",onClick:x=>A(a)},{default:s(()=>n[16]||(n[16]=[l("下载")])),_:2,__:[16]},1032,["onClick"])])]))),128))])]),_:1})]),_:1},8,["activeKey"])])])]),_:1})]),_:1}),t(z,{span:8},{default:s(()=>[t(b,{title:"项目团队",class:"team-card"},{default:s(()=>[e("div",se,[(r(!0),c(k,null,y(i.teamMembers,a=>(r(),c("div",{key:a.id,class:"member-item"},[t(ot,{src:a.avatar,size:40},{default:s(()=>[l(o(a.name.charAt(0)),1)]),_:2},1032,["src"]),e("div",ae,[e("div",ne,o(a.name),1),e("div",oe,o(a.role),1),e("div",le,o(a.status),1)]),e("div",ie,[t(m,{type:"link",size:"small",onClick:x=>J(a)},{default:s(()=>[t(C(vt))]),_:2},1032,["onClick"])])]))),128))])]),_:1}),t(b,{title:"进度统计",class:"progress-card"},{default:s(()=>[e("div",de,[e("div",re,[n[17]||(n[17]=e("h4",null,"整体进度",-1)),t($,{type:"circle",percent:i.progress,width:100},null,8,["percent"])]),e("div",ce,[n[18]||(n[18]=e("h4",null,"阶段进度",-1)),(r(!0),c(k,null,y(i.phases,a=>(r(),c("div",{key:a.id,class:"phase-item"},[e("div",ue,[e("span",_e,o(a.name),1),e("span",me,o(a.progress)+"%",1)]),t($,{percent:a.progress,size:"small"},null,8,["percent"])]))),128))])])]),_:1}),t(b,{title:"快速操作",class:"action-card"},{default:s(()=>[e("div",pe,[t(m,{block:"",onClick:X},{default:s(()=>[t(C(mt)),n[19]||(n[19]=l(" 记录工作日志 "))]),_:1,__:[19]}),t(m,{block:"",onClick:Y},{default:s(()=>[t(C(ft)),n[20]||(n[20]=l(" 申请资源 "))]),_:1,__:[20]}),t(m,{block:"",onClick:Z},{default:s(()=>[t(C(gt)),n[21]||(n[21]=l(" 汇报进度 "))]),_:1,__:[21]}),t(m,{block:"",onClick:tt},{default:s(()=>[t(C(U)),n[22]||(n[22]=l(" 联系项目经理 "))]),_:1,__:[22]})])]),_:1}),t(b,{title:"项目公告",class:"announcement-card"},{default:s(()=>[e("div",ve,[(r(!0),c(k,null,y(i.announcements,a=>(r(),c("div",{key:a.id,class:"announcement-item"},[e("div",fe,[e("span",ge,o(a.title),1),e("span",be,o(a.createdAt),1)]),e("div",he,o(a.content),1),e("div",ke,"发布人: "+o(a.author),1)]))),128))])]),_:1}),t(b,{title:"项目里程碑",class:"milestone-card"},{default:s(()=>[e("div",ye,[t(it,null,{default:s(()=>[(r(!0),c(k,null,y(i.milestones,a=>(r(),pt(lt,{key:a.id,color:a.completed?"green":"blue"},{default:s(()=>[e("div",Ce,[e("div",De,o(a.name),1),e("div",Oe,o(a.dueDate),1),e("div",xe,[t(O,{color:a.completed?"green":"orange",size:"small"},{default:s(()=>[l(o(a.completed?"已完成":"进行中"),1)]),_:2},1032,["color"])])])]),_:2},1032,["color"]))),128))]),_:1})])]),_:1})]),_:1})]),_:1})])])}}},Te=rt(ze,[["__scopeId","data-v-f892a2ca"]]);export{Te as default};
