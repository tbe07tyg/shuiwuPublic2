import{j as e,I as ae,_ as Y,e as ne,A as le,l as c,c as f,o as r,w as t,a as s,p as i,x as O,P as W,F as T,s as j,a4 as X,k as V,t as v,f as B,d as te,b as q,n as se,K as oe,h as H,i as ue,O as ie,T as K,aa as re,D as de}from"./index-BG3bheTR.js";import{E as ce}from"./ExportOutlined-SFbvGTwm.js";import{M as pe}from"./MoreOutlined-gm8wqwLf.js";import{S as me}from"./StarOutlined-Dwz-xS9O.js";var _e={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM653.3 424.6l52.2 52.2a8.01 8.01 0 01-4.7 13.6l-179.4 21c-5.1.6-9.5-3.7-8.9-8.9l21-179.4c.8-6.6 8.9-9.4 13.6-4.7l52.4 52.4 256.2-256.2c3.1-3.1 8.2-3.1 11.3 0l42.4 42.4c3.1 3.1 3.1 8.2 0 11.3L653.3 424.6z"}}]},name:"import",theme:"outlined"};function ee(p){for(var _=1;_<arguments.length;_++){var y=arguments[_]!=null?Object(arguments[_]):{},x=Object.keys(y);typeof Object.getOwnPropertySymbols=="function"&&(x=x.concat(Object.getOwnPropertySymbols(y).filter(function(o){return Object.getOwnPropertyDescriptor(y,o).enumerable}))),x.forEach(function(o){ve(p,o,y[o])})}return p}function ve(p,_,y){return _ in p?Object.defineProperty(p,_,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[_]=y,p}var Z=function(_,y){var x=ee({},_,y.attrs);return e(ae,ee({},x,{icon:_e}),null)};Z.displayName="ImportOutlined";Z.inheritAttrs=!1;const fe={class:"template-editor"},ke={class:"section"},ge={class:"section"},ye={class:"section-header"},he={class:"phases-list"},Ce={class:"tasks-section"},be={class:"tasks-header"},$e={class:"tasks-list"},we={class:"section"},Oe={class:"section-header"},Se={class:"milestones-list"},xe={class:"actions"},Ue={__name:"TemplateEditor",props:{template:{type:Object,default:()=>({})}},emits:["save","cancel"],setup(p,{emit:_}){const y=p,x=_,o=ne({id:null,name:"",icon:"📋",description:"",category:"",tags:[],isDefault:!1,structure:{phases:[],milestones:[]}});le(()=>y.template,g=>{var a,$;g&&Object.assign(o,{...g,structure:{phases:((a=g.structure)==null?void 0:a.phases)||[],milestones:(($=g.structure)==null?void 0:$.milestones)||[]}})},{immediate:!0,deep:!0});const S=()=>{o.structure.phases.push({name:"",tasks:[],duration:10})},U=g=>{o.structure.phases.splice(g,1)},h=g=>{o.structure.phases[g].tasks.push("")},z=(g,a)=>{o.structure.phases[g].tasks.splice(a,1)},E=()=>{o.structure.milestones.push({name:"",phase:"",type:"checkpoint"})},P=g=>{o.structure.milestones.splice(g,1)},A=()=>{if(!o.name){B.error("请输入模板名称");return}if(o.structure.phases.length===0){B.error("至少添加一个项目阶段");return}const g=o.structure.phases.reduce((u,k)=>u+k.tasks.length,0),a=o.structure.milestones.length,$={...o,taskCount:g,milestoneCount:a};x("save",$)},M=()=>{x("cancel")};return(g,a)=>{const $=c("a-input"),u=c("a-form-item"),k=c("a-col"),l=c("a-select-option"),n=c("a-select"),C=c("a-row"),D=c("a-textarea"),w=c("a-button"),L=c("a-input-number"),F=c("a-space"),G=c("a-card"),Q=c("a-form");return r(),f("div",fe,[e(Q,{model:o,layout:"vertical"},{default:t(()=>[s("div",ke,[a[13]||(a[13]=s("h3",null,"📋 基本信息",-1)),e(C,{gutter:16},{default:t(()=>[e(k,{span:8},{default:t(()=>[e(u,{label:"模板名称",required:""},{default:t(()=>[e($,{value:o.name,"onUpdate:value":a[0]||(a[0]=d=>o.name=d),placeholder:"请输入模板名称"},null,8,["value"])]),_:1})]),_:1}),e(k,{span:4},{default:t(()=>[e(u,{label:"模板图标"},{default:t(()=>[e(n,{value:o.icon,"onUpdate:value":a[1]||(a[1]=d=>o.icon=d),style:{width:"100%"}},{default:t(()=>[e(l,{value:"📊"},{default:t(()=>a[5]||(a[5]=[i("📊 标准")])),_:1,__:[5]}),e(l,{value:"⚡"},{default:t(()=>a[6]||(a[6]=[i("⚡ 敏捷")])),_:1,__:[6]}),e(l,{value:"🏗️"},{default:t(()=>a[7]||(a[7]=[i("🏗️ 瀑布")])),_:1,__:[7]}),e(l,{value:"🔬"},{default:t(()=>a[8]||(a[8]=[i("🔬 科研")])),_:1,__:[8]}),e(l,{value:"🎯"},{default:t(()=>a[9]||(a[9]=[i("🎯 目标")])),_:1,__:[9]}),e(l,{value:"💼"},{default:t(()=>a[10]||(a[10]=[i("💼 商务")])),_:1,__:[10]}),e(l,{value:"🛠️"},{default:t(()=>a[11]||(a[11]=[i("🛠️ 工程")])),_:1,__:[11]}),e(l,{value:"📈"},{default:t(()=>a[12]||(a[12]=[i("📈 分析")])),_:1,__:[12]})]),_:1},8,["value"])]),_:1})]),_:1}),e(k,{span:12},{default:t(()=>[e(u,{label:"适用类别"},{default:t(()=>[e($,{value:o.category,"onUpdate:value":a[2]||(a[2]=d=>o.category=d),placeholder:"如：软件开发、科研管理等"},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(u,{label:"模板描述"},{default:t(()=>[e(D,{value:o.description,"onUpdate:value":a[3]||(a[3]=d=>o.description=d),rows:3,placeholder:"描述此模板的适用场景和特点"},null,8,["value"])]),_:1}),e(u,{label:"标签"},{default:t(()=>[e(n,{value:o.tags,"onUpdate:value":a[4]||(a[4]=d=>o.tags=d),mode:"tags",style:{width:"100%"},placeholder:"添加标签，便于搜索和分类",tokenSeparators:[","]},null,8,["value"])]),_:1})]),s("div",ge,[s("div",ye,[a[15]||(a[15]=s("h3",null,"🔄 项目阶段",-1)),e(w,{type:"primary",size:"small",onClick:S},{default:t(()=>[e(O(W)),a[14]||(a[14]=i(" 添加阶段 "))]),_:1,__:[14]})]),s("div",he,[(r(!0),f(T,null,j(o.structure.phases,(d,R)=>(r(),f("div",{key:R,class:"phase-item"},[e(G,{size:"small"},{title:t(()=>[e($,{value:d.name,"onUpdate:value":b=>d.name=b,placeholder:"阶段名称",style:{border:"none",background:"transparent","font-weight":"600"}},null,8,["value","onUpdate:value"])]),extra:t(()=>[e(F,null,{default:t(()=>[e(L,{value:d.duration,"onUpdate:value":b=>d.duration=b,min:1,"addon-after":"天",size:"small"},null,8,["value","onUpdate:value"]),e(w,{type:"text",danger:"",size:"small",onClick:b=>U(R)},{default:t(()=>[e(O(X))]),_:2},1032,["onClick"])]),_:2},1024)]),default:t(()=>[s("div",Ce,[s("div",be,[a[17]||(a[17]=s("span",null,"任务列表",-1)),e(w,{type:"link",size:"small",onClick:b=>h(R)},{default:t(()=>[e(O(W)),a[16]||(a[16]=i(" 添加任务 "))]),_:2,__:[16]},1032,["onClick"])]),s("div",$e,[(r(!0),f(T,null,j(d.tasks,(b,I)=>(r(),f("div",{key:I,class:"task-item"},[e($,{value:d.tasks[I],"onUpdate:value":J=>d.tasks[I]=J,size:"small",placeholder:"任务名称"},null,8,["value","onUpdate:value"]),e(w,{type:"text",danger:"",size:"small",onClick:J=>z(R,I)},{default:t(()=>[e(O(X))]),_:2},1032,["onClick"])]))),128))])])]),_:2},1024)]))),128))])]),s("div",we,[s("div",Oe,[a[19]||(a[19]=s("h3",null,"🎯 里程碑节点",-1)),e(w,{type:"primary",size:"small",onClick:E},{default:t(()=>[e(O(W)),a[18]||(a[18]=i(" 添加里程碑 "))]),_:1,__:[18]})]),s("div",Se,[(r(!0),f(T,null,j(o.structure.milestones,(d,R)=>(r(),f("div",{key:R,class:"milestone-item"},[e(C,{gutter:12,align:"middle"},{default:t(()=>[e(k,{span:8},{default:t(()=>[e($,{value:d.name,"onUpdate:value":b=>d.name=b,placeholder:"里程碑名称",size:"small"},null,8,["value","onUpdate:value"])]),_:2},1024),e(k,{span:8},{default:t(()=>[e(n,{value:d.phase,"onUpdate:value":b=>d.phase=b,placeholder:"关联阶段",size:"small",style:{width:"100%"}},{default:t(()=>[(r(!0),f(T,null,j(o.structure.phases,b=>(r(),V(l,{key:b.name,value:b.name},{default:t(()=>[i(v(b.name),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value"])]),_:2},1024),e(k,{span:6},{default:t(()=>[e(n,{value:d.type,"onUpdate:value":b=>d.type=b,placeholder:"里程碑类型",size:"small",style:{width:"100%"}},{default:t(()=>[e(l,{value:"review"},{default:t(()=>a[20]||(a[20]=[i("评审节点")])),_:1,__:[20]}),e(l,{value:"delivery"},{default:t(()=>a[21]||(a[21]=[i("交付节点")])),_:1,__:[21]}),e(l,{value:"checkpoint"},{default:t(()=>a[22]||(a[22]=[i("检查节点")])),_:1,__:[22]}),e(l,{value:"approval"},{default:t(()=>a[23]||(a[23]=[i("审批节点")])),_:1,__:[23]})]),_:2},1032,["value","onUpdate:value"])]),_:2},1024),e(k,{span:2},{default:t(()=>[e(w,{type:"text",danger:"",size:"small",onClick:b=>P(R)},{default:t(()=>[e(O(X))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))])]),s("div",xe,[e(F,null,{default:t(()=>[e(w,{onClick:M},{default:t(()=>a[24]||(a[24]=[i("取消")])),_:1,__:[24]}),e(w,{type:"primary",onClick:A},{default:t(()=>a[25]||(a[25]=[i("保存模板")])),_:1,__:[25]})]),_:1})])]),_:1},8,["model"])])}}},ze=Y(Ue,[["__scopeId","data-v-d054543e"]]),De={class:"template-preview"},Te={key:0,class:"preview-content"},je={class:"template-info"},Ee={class:"template-title"},Pe={class:"template-icon"},Be={class:"template-description"},Me={class:"template-meta"},Le={class:"stats-section"},Re={class:"phases-preview"},Ne={class:"phases-timeline"},Ve={class:"phase-header"},Ae={class:"phase-number"},Ie={class:"phase-info"},Fe={class:"phase-tasks"},Je={class:"tasks-list"},He={key:0,class:"milestones-preview"},qe={class:"milestones-list"},Ge={class:"milestone-number"},Qe={class:"milestone-content"},We={class:"gantt-preview"},Xe={class:"gantt-chart"},Ye={class:"gantt-header"},Ze={class:"gantt-timeline"},Ke={class:"gantt-body"},et={class:"gantt-label"},tt={class:"gantt-bar-container"},st={class:"bar-text"},at={__name:"TemplatePreview",props:{template:{type:Object,default:()=>({})}},setup(p){const _=p,y=te(()=>{var U;return(U=_.template.structure)!=null&&U.phases?_.template.structure.phases.reduce((h,z)=>h+(z.duration||0),0):0}),x=U=>({review:"blue",delivery:"green",checkpoint:"orange",approval:"purple"})[U]||"default",o=U=>({review:"评审节点",delivery:"交付节点",checkpoint:"检查节点",approval:"审批节点"})[U]||U,S=(U,h)=>{var $;const z=["#1890ff","#52c41a","#fa8c16","#eb2f96","#722ed1"],E=z[h%z.length];let P=0;if(($=_.template.structure)!=null&&$.phases)for(let u=0;u<h;u++)P+=_.template.structure.phases[u].duration||0;const A=U.duration||0,M=y.value||1,g=P/M*100,a=A/M*100;return{left:`${g}%`,width:`${a}%`,backgroundColor:E,color:"white"}};return(U,h)=>{var M,g,a,$;const z=c("a-tag"),E=c("a-statistic"),P=c("a-col"),A=c("a-row");return r(),f("div",De,[p.template?(r(),f("div",Te,[s("div",je,[s("div",Ee,[s("span",Pe,v(p.template.icon),1),s("h2",null,v(p.template.name),1)]),s("p",Be,v(p.template.description),1),s("div",Me,[e(z,null,{default:t(()=>[i(v(p.template.category),1)]),_:1}),(r(!0),f(T,null,j(p.template.tags,u=>(r(),V(z,{key:u},{default:t(()=>[i(v(u),1)]),_:2},1024))),128))])]),s("div",Le,[e(A,{gutter:16},{default:t(()=>[e(P,{span:6},{default:t(()=>{var u,k;return[e(E,{title:"项目阶段",value:((k=(u=p.template.structure)==null?void 0:u.phases)==null?void 0:k.length)||0,suffix:"个"},null,8,["value"])]}),_:1}),e(P,{span:6},{default:t(()=>[e(E,{title:"任务节点",value:p.template.taskCount||0,suffix:"个"},null,8,["value"])]),_:1}),e(P,{span:6},{default:t(()=>[e(E,{title:"里程碑",value:p.template.milestoneCount||0,suffix:"个"},null,8,["value"])]),_:1}),e(P,{span:6},{default:t(()=>[e(E,{title:"使用次数",value:p.template.usageCount||0,suffix:"次"},null,8,["value"])]),_:1})]),_:1})]),s("div",Re,[h[1]||(h[1]=s("h3",null,"📋 项目阶段结构",-1)),s("div",Ne,[(r(!0),f(T,null,j(((M=p.template.structure)==null?void 0:M.phases)||[],(u,k)=>(r(),f("div",{key:k,class:"phase-block"},[s("div",Ve,[s("div",Ae,v(k+1),1),s("div",Ie,[s("h4",null,v(u.name),1),s("p",null,"预计工期："+v(u.duration)+" 天",1)])]),s("div",Fe,[h[0]||(h[0]=s("div",{class:"tasks-title"},"主要任务：",-1)),s("div",Je,[(r(!0),f(T,null,j(u.tasks,l=>(r(),V(z,{key:l,size:"small"},{default:t(()=>[i(v(l),1)]),_:2},1024))),128))])])]))),128))])]),(a=(g=p.template.structure)==null?void 0:g.milestones)!=null&&a.length?(r(),f("div",He,[h[2]||(h[2]=s("h3",null,"🎯 里程碑节点",-1)),s("div",qe,[(r(!0),f(T,null,j(p.template.structure.milestones,(u,k)=>(r(),f("div",{key:k,class:"milestone-item"},[s("div",{class:se(["milestone-marker",`type-${u.type}`])},[s("span",Ge,v(k+1),1)],2),s("div",Qe,[s("h4",null,v(u.name),1),s("p",null,"关联阶段："+v(u.phase),1),e(z,{color:x(u.type),size:"small"},{default:t(()=>[i(v(o(u.type)),1)]),_:2},1032,["color"])])]))),128))])])):q("",!0),s("div",We,[h[4]||(h[4]=s("h3",null,"📊 项目时间轴预览",-1)),s("div",Xe,[s("div",Ye,[h[3]||(h[3]=s("div",{class:"gantt-labels"},"阶段",-1)),s("div",Ze,[(r(!0),f(T,null,j(y.value,u=>(r(),f("div",{key:u,class:"day-marker"},v(u),1))),128))])]),s("div",Ke,[(r(!0),f(T,null,j((($=p.template.structure)==null?void 0:$.phases)||[],(u,k)=>(r(),f("div",{key:k,class:"gantt-row"},[s("div",et,v(u.name),1),s("div",tt,[s("div",{class:"gantt-bar",style:oe(S(u,k))},[s("span",st,v(u.duration)+"天",1)],4)])]))),128))])])])])):q("",!0)])}}},nt=Y(at,[["__scopeId","data-v-a42aaaa2"]]),lt={class:"template-management"},ot={class:"toolbar"},ut={class:"template-list"},it={class:"template-header"},rt={class:"template-icon"},dt={class:"template-name"},ct={class:"template-content"},pt={class:"template-description"},mt={class:"template-meta"},_t={class:"meta-item"},vt={class:"meta-value"},ft={class:"meta-item"},kt={class:"meta-value"},gt={class:"meta-item"},yt={class:"meta-value"},ht={class:"meta-item"},Ct={class:"meta-value"},bt={class:"template-tags"},$t={class:"template-actions"},wt={__name:"index",setup(p){const _=H(""),y=H(!1),x=H(!1),o=H(null),S=H([{id:1,name:"标准研发模板",icon:"📊",description:"适用于常规软件开发项目，包含完整的开发生命周期管理",category:"软件开发",taskCount:25,milestoneCount:5,usageCount:156,isDefault:!0,tags:["开发","标准","通用"],structure:{phases:[{name:"需求分析阶段",tasks:["需求收集","需求分析","需求评审"],duration:10},{name:"设计阶段",tasks:["概要设计","详细设计","设计评审"],duration:15},{name:"开发阶段",tasks:["前端开发","后端开发","接口联调"],duration:30},{name:"测试阶段",tasks:["单元测试","集成测试","系统测试"],duration:15},{name:"上线阶段",tasks:["部署准备","生产发布","验证测试"],duration:5}],milestones:[{name:"需求确认",phase:"需求分析阶段"},{name:"设计评审",phase:"设计阶段"},{name:"开发完成",phase:"开发阶段"},{name:"测试通过",phase:"测试阶段"},{name:"项目交付",phase:"上线阶段"}]}},{id:2,name:"敏捷开发模板",icon:"⚡",description:"基于Scrum框架的敏捷开发模板，支持快速迭代和持续交付",category:"敏捷开发",taskCount:18,milestoneCount:4,usageCount:89,isDefault:!1,tags:["敏捷","Scrum","迭代"],structure:{phases:[{name:"Sprint 0 - 项目启动",tasks:["产品愿景","用户故事梳理","团队组建"],duration:5},{name:"Sprint 1",tasks:["Sprint规划","功能开发","Sprint评审"],duration:14},{name:"Sprint 2",tasks:["Sprint规划","功能开发","Sprint评审"],duration:14},{name:"项目收尾",tasks:["最终测试","产品发布","项目回顾"],duration:7}],milestones:[{name:"Product Backlog就绪",phase:"Sprint 0 - 项目启动"},{name:"Sprint 1交付",phase:"Sprint 1"},{name:"Sprint 2交付",phase:"Sprint 2"},{name:"最终发布",phase:"项目收尾"}]}},{id:3,name:"瀑布开发模板",icon:"🏗️",description:"经典的瀑布模型，适合大型系统和复杂项目的严格管理",category:"大型系统",taskCount:35,milestoneCount:7,usageCount:42,isDefault:!1,tags:["瀑布","大型","严格"],structure:{phases:[{name:"项目启动",tasks:["项目章程","干系人分析","初步计划"],duration:7},{name:"需求工程",tasks:["需求获取","需求分析","需求规格","需求验证"],duration:20},{name:"系统设计",tasks:["架构设计","详细设计","接口设计","数据库设计"],duration:25},{name:"编码实现",tasks:["编码规范","模块开发","代码审查","单元测试"],duration:40},{name:"系统集成",tasks:["集成计划","集成测试","性能测试","安全测试"],duration:20},{name:"系统测试",tasks:["测试计划","功能测试","用户验收","缺陷修复"],duration:25},{name:"部署维护",tasks:["部署计划","生产部署","用户培训","维护交接"],duration:10}]}},{id:4,name:"科研项目模板",icon:"🔬",description:"专门为科研项目设计，符合科研管理规范和流程要求",category:"科研管理",taskCount:22,milestoneCount:6,usageCount:78,isDefault:!1,tags:["科研","学术","规范"],structure:{phases:[{name:"立项阶段",tasks:["项目申请","可行性分析","立项评审"],duration:15},{name:"开题阶段",tasks:["文献调研","技术路线","开题报告"],duration:20},{name:"实施阶段",tasks:["实验设计","数据采集","阶段性分析"],duration:180},{name:"中期阶段",tasks:["中期检查","进度汇报","调整方案"],duration:10},{name:"结题阶段",tasks:["成果整理","验收材料","结题答辩"],duration:30},{name:"成果转化",tasks:["论文发表","专利申请","技术转移"],duration:60}],milestones:[{name:"立项通过",phase:"立项阶段"},{name:"开题完成",phase:"开题阶段"},{name:"中期检查",phase:"中期阶段"},{name:"阶段性成果",phase:"实施阶段"},{name:"项目验收",phase:"结题阶段"},{name:"成果发布",phase:"成果转化"}]}}]),U=te(()=>_.value?S.value.filter(l=>l.name.includes(_.value)||l.description.includes(_.value)||l.category.includes(_.value)||l.tags.some(n=>n.includes(_.value))):S.value),h=l=>{console.log("搜索模板:",l)},z=()=>{o.value={id:null,name:"",icon:"📋",description:"",category:"",tags:[],isDefault:!1,structure:{phases:[],milestones:[]}},y.value=!0},E=l=>{o.value={...l},y.value=!0},P=l=>{const n={...l,id:Date.now(),name:`${l.name} (副本)`,isDefault:!1,usageCount:0};S.value.push(n),B.success("模板复制成功")},A=l=>{S.value.forEach(n=>n.isDefault=!1),l.isDefault=!0,B.success(`已将 "${l.name}" 设为默认模板`)},M=l=>{const n=S.value.findIndex(C=>C.id===l.id);n>-1&&(S.value.splice(n,1),B.success("模板删除成功"))},g=l=>{o.value=l,x.value=!0},a=l=>{const n=JSON.stringify(l,null,2),C=new Blob([n],{type:"application/json"}),D=URL.createObjectURL(C),w=document.createElement("a");w.href=D,w.download=`${l.name}.json`,w.click(),URL.revokeObjectURL(D),B.success("模板导出成功")},$=()=>{const l=JSON.stringify(S.value,null,2),n=new Blob([l],{type:"application/json"}),C=URL.createObjectURL(n),D=document.createElement("a");D.href=C,D.download="project-templates.json",D.click(),URL.revokeObjectURL(C),B.success("所有模板导出成功")},u=()=>{const l=document.createElement("input");l.type="file",l.accept=".json",l.onchange=n=>{const C=n.target.files[0];if(C){const D=new FileReader;D.onload=w=>{try{const L=JSON.parse(w.target.result);Array.isArray(L)?S.value.push(...L):(L.id=Date.now(),S.value.push(L)),B.success("模板导入成功")}catch{B.error("模板文件格式错误")}},D.readAsText(C)}},l.click()},k=l=>{if(l.id){const n=S.value.findIndex(C=>C.id===l.id);n>-1&&(S.value[n]=l)}else l.id=Date.now(),l.usageCount=0,S.value.push(l);y.value=!1,B.success("模板保存成功")};return ue(()=>{console.log("项目模板管理页面加载完成")}),(l,n)=>{const C=c("a-button"),D=c("a-space"),w=c("a-col"),L=c("a-input-search"),F=c("a-row"),G=c("a-card"),Q=c("a-tag"),d=c("a-menu-item"),R=c("a-menu-divider"),b=c("a-menu"),I=c("a-dropdown"),J=c("a-modal");return r(),f("div",lt,[n[19]||(n[19]=s("div",{class:"page-header"},[s("h1",null,"📋 项目管理模板"),s("p",null,"设计和管理项目模板，为不同类型的项目提供标准化的管理框架")],-1)),s("div",ot,[e(G,null,{default:t(()=>[e(F,{justify:"space-between",align:"middle"},{default:t(()=>[e(w,null,{default:t(()=>[e(D,null,{default:t(()=>[e(C,{type:"primary",onClick:z},{default:t(()=>[e(O(W)),n[4]||(n[4]=i(" 新建模板 "))]),_:1,__:[4]}),e(C,{onClick:u},{default:t(()=>[e(O(Z)),n[5]||(n[5]=i(" 导入模板 "))]),_:1,__:[5]}),e(C,{onClick:$},{default:t(()=>[e(O(ce)),n[6]||(n[6]=i(" 导出模板 "))]),_:1,__:[6]})]),_:1})]),_:1}),e(w,null,{default:t(()=>[e(L,{value:_.value,"onUpdate:value":n[0]||(n[0]=m=>_.value=m),placeholder:"搜索模板...",style:{width:"300px"},onSearch:h},null,8,["value"])]),_:1})]),_:1})]),_:1})]),s("div",ut,[e(F,{gutter:[24,24]},{default:t(()=>[(r(!0),f(T,null,j(U.value,m=>(r(),V(w,{xs:24,sm:12,lg:8,xl:6,key:m.id},{default:t(()=>[e(G,{class:se(["template-card",{active:m.isDefault}]),hoverable:""},{title:t(()=>[s("div",it,[s("span",rt,v(m.icon),1),s("span",dt,v(m.name),1),m.isDefault?(r(),V(Q,{key:0,color:"blue",size:"small"},{default:t(()=>n[7]||(n[7]=[i("默认")])),_:1,__:[7]})):q("",!0)])]),extra:t(()=>[e(I,null,{overlay:t(()=>[e(b,null,{default:t(()=>[e(d,{onClick:N=>E(m)},{default:t(()=>[e(O(K)),n[8]||(n[8]=i(" 编辑模板 "))]),_:2,__:[8]},1032,["onClick"]),e(d,{onClick:N=>P(m)},{default:t(()=>[e(O(re)),n[9]||(n[9]=i(" 复制模板 "))]),_:2,__:[9]},1032,["onClick"]),m.isDefault?q("",!0):(r(),V(d,{key:0,onClick:N=>A(m)},{default:t(()=>[e(O(me)),n[10]||(n[10]=i(" 设为默认 "))]),_:2,__:[10]},1032,["onClick"])),e(R),e(d,{onClick:N=>a(m)},{default:t(()=>[e(O(de)),n[11]||(n[11]=i(" 导出模板 "))]),_:2,__:[11]},1032,["onClick"]),m.isDefault?q("",!0):(r(),V(d,{key:1,danger:"",onClick:N=>M(m)},{default:t(()=>[e(O(X)),n[12]||(n[12]=i(" 删除模板 "))]),_:2,__:[12]},1032,["onClick"]))]),_:2},1024)]),default:t(()=>[e(C,{type:"text",size:"small"},{default:t(()=>[e(O(pe))]),_:1})]),_:2},1024)]),default:t(()=>[s("div",ct,[s("p",pt,v(m.description),1),s("div",mt,[s("div",_t,[n[13]||(n[13]=s("span",{class:"meta-label"},"适用场景：",-1)),s("span",vt,v(m.category),1)]),s("div",ft,[n[14]||(n[14]=s("span",{class:"meta-label"},"任务节点：",-1)),s("span",kt,v(m.taskCount)+" 个",1)]),s("div",gt,[n[15]||(n[15]=s("span",{class:"meta-label"},"里程碑：",-1)),s("span",yt,v(m.milestoneCount)+" 个",1)]),s("div",ht,[n[16]||(n[16]=s("span",{class:"meta-label"},"使用次数：",-1)),s("span",Ct,v(m.usageCount),1)])]),s("div",bt,[(r(!0),f(T,null,j(m.tags,N=>(r(),V(Q,{key:N,size:"small"},{default:t(()=>[i(v(N),1)]),_:2},1024))),128))])]),s("div",$t,[e(C,{type:"link",size:"small",onClick:N=>g(m)},{default:t(()=>[e(O(ie)),n[17]||(n[17]=i(" 预览结构 "))]),_:2,__:[17]},1032,["onClick"]),e(C,{type:"link",size:"small",onClick:N=>E(m)},{default:t(()=>[e(O(K)),n[18]||(n[18]=i(" 编辑模板 "))]),_:2,__:[18]},1032,["onClick"])])]),_:2},1032,["class"])]),_:2},1024))),128))]),_:1})]),e(J,{open:y.value,"onUpdate:open":n[2]||(n[2]=m=>y.value=m),title:"编辑项目模板",width:"1200px",footer:null,destroyOnClose:!0},{default:t(()=>[e(ze,{template:o.value,onSave:k,onCancel:n[1]||(n[1]=m=>y.value=!1)},null,8,["template"])]),_:1},8,["open"]),e(J,{open:x.value,"onUpdate:open":n[3]||(n[3]=m=>x.value=m),title:"模板结构预览",width:"800px",footer:null},{default:t(()=>[e(nt,{template:o.value},null,8,["template"])]),_:1},8,["open"])])}}},zt=Y(wt,[["__scopeId","data-v-62aa3c2a"]]);export{zt as default};
