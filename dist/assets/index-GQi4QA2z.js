import{u as Q,A as U,T as $}from"./AIChatBox-BcWALqvy.js";import{_ as G,h as v,e as H,i as J,c,a as s,j as o,w as l,l as d,t as a,F as g,s as k,b as A,o as r,x,R as K,p as u,n as W,f as _}from"./index-BG3bheTR.js";import{P as X}from"./ProjectOutlined-pD6foRXv.js";import{T as Y}from"./TeamOutlined-DgIzXDJd.js";import{S as Z}from"./ScheduleOutlined-BFntbbYc.js";import{A as ss}from"./AlertOutlined-C8iFhzzG.js";import"./SettingOutlined-D3etPAoQ.js";import"./UserOutlined-eJbNfDXj.js";import"./RobotOutlined-DRXhK3xd.js";const ts={class:"ai-assistant-page"},es={class:"page-content"},os={class:"chat-section"},as={class:"info-section"},ls={class:"info-card"},ns={class:"card-header"},is={class:"project-stats"},cs={class:"stat-item"},ds={class:"stat-number"},rs={class:"stat-item"},us={class:"stat-number"},_s={class:"stat-item"},ps={class:"stat-number"},vs={class:"stat-item"},ms={class:"stat-number"},fs={class:"info-card"},hs={class:"card-header"},ys={class:"analysis-content"},bs={key:0,class:"loading-analysis"},gs={key:1,class:"analysis-result"},ks={class:"analysis-icon"},js={class:"analysis-text"},ws={class:"analysis-title"},Cs={class:"analysis-desc"},Ps={key:2,class:"no-analysis"},As={class:"info-card"},xs={class:"quick-actions"},Ds={class:"info-card"},Ss={class:"card-header"},Ts={class:"alerts-list"},zs={class:"alert-icon"},Bs={class:"alert-content"},Is={class:"alert-title"},Os={class:"alert-desc"},Ns={class:"alert-time"},Vs={key:0,class:"no-alerts"},Rs={key:0,class:"project-detail"},Ls={class:"project-header"},qs={class:"project-tasks"},Fs={class:"task-assignee"},Es={__name:"index",setup(Ms){const D=Q(),f=v(!1),h=v(null),j=v(!1),n=v(null),m=H({totalProjects:12,activeProjects:8,completedProjects:3,overdueProjects:1}),S=[{key:"create-project",label:"创建项目",icon:X,type:"primary"},{key:"manage-team",label:"团队管理",icon:Y,type:"default"},{key:"schedule-review",label:"进度审查",icon:Z,type:"default"},{key:"risk-assessment",label:"风险评估",icon:ss,type:"default"}],y=v([{id:1,level:"high",icon:"🚨",title:"项目A进度滞后",description:"项目A当前进度为60%，预计无法按时完成",time:new Date(Date.now()-2*60*60*1e3)},{id:2,level:"medium",icon:"⚠️",title:"资源分配不均",description:"团队成员张三工作负载过高，建议重新分配任务",time:new Date(Date.now()-4*60*60*1e3)},{id:3,level:"low",icon:"💡",title:"预算使用提醒",description:"项目B预算使用率达到80%，请注意控制成本",time:new Date(Date.now()-6*60*60*1e3)}]),T=()=>{_.success("项目信息已刷新")},z=async()=>{f.value=!0;try{await new Promise(i=>setTimeout(i,2e3)),h.value=[{icon:"📈",title:"项目进度分析",description:"当前项目整体进度良好，但存在3个项目的进度风险，建议重点关注项目A、B、C的进度管理。"},{icon:"👥",title:"团队绩效分析",description:"团队整体绩效稳定，张三、李四表现优秀，建议给予适当激励。王五需要更多指导和支持。"},{icon:"💰",title:"成本控制分析",description:"预算使用情况正常，但项目B成本增长较快，建议优化资源配置，控制不必要的支出。"},{icon:"⚠️",title:"风险预警",description:"发现2个潜在风险：技术难点可能影响进度，供应商交付可能延期。建议制定应急预案。"}],_.success("智能分析报告已生成")}catch{_.error("分析生成失败，请重试")}finally{f.value=!1}},B=i=>{switch(i.key){case"create-project":_.info("跳转到项目创建页面");break;case"manage-team":_.info("跳转到团队管理页面");break;case"schedule-review":_.info("跳转到进度审查页面");break;case"risk-assessment":_.info("跳转到风险评估页面");break}},I=i=>({进行中:"blue",已完成:"green",已暂停:"orange",已取消:"red"})[i]||"default",O=i=>({进行中:"blue",已完成:"green",待开始:"orange",已暂停:"red"})[i]||"default",N=i=>new Date(i).toLocaleString("zh-CN");return J(()=>{D.setRole("project_manager")}),(i,t)=>{const b=d("a-button"),V=d("a-spin"),R=d("a-badge"),w=d("a-tag"),p=d("a-descriptions-item"),C=d("a-progress"),L=d("a-descriptions"),q=d("a-list-item-meta"),F=d("a-list-item"),E=d("a-list"),M=d("a-modal");return r(),c("div",ts,[t[13]||(t[13]=s("div",{class:"page-header"},[s("h1",null,"项目经理AI助手"),s("p",null,"智能项目管理助手，为您提供专业的项目建议和决策支持")],-1)),s("div",es,[s("div",os,[o(U)]),s("div",as,[s("div",ls,[s("div",ns,[t[1]||(t[1]=s("h3",null,"📊 项目概览",-1)),o(b,{size:"small",onClick:T},{default:l(()=>[o(x(K))]),_:1})]),s("div",is,[s("div",cs,[s("div",ds,a(m.totalProjects),1),t[2]||(t[2]=s("div",{class:"stat-label"},"总项目数",-1))]),s("div",rs,[s("div",us,a(m.activeProjects),1),t[3]||(t[3]=s("div",{class:"stat-label"},"进行中",-1))]),s("div",_s,[s("div",ps,a(m.completedProjects),1),t[4]||(t[4]=s("div",{class:"stat-label"},"已完成",-1))]),s("div",vs,[s("div",ms,a(m.overdueProjects),1),t[5]||(t[5]=s("div",{class:"stat-label"},"逾期项目",-1))])])]),s("div",fs,[s("div",hs,[t[6]||(t[6]=s("h3",null,"🤖 智能分析",-1)),o(b,{size:"small",onClick:z},{default:l(()=>[o(x($))]),_:1})]),s("div",ys,[f.value?(r(),c("div",bs,[o(V),t[7]||(t[7]=s("p",null,"正在生成分析报告...",-1))])):h.value?(r(),c("div",gs,[(r(!0),c(g,null,k(h.value,(e,P)=>(r(),c("div",{class:"analysis-item",key:P},[s("div",ks,a(e.icon),1),s("div",js,[s("div",ws,a(e.title),1),s("div",Cs,a(e.description),1)])]))),128))])):(r(),c("div",Ps,t[8]||(t[8]=[s("p",null,"点击按钮生成智能分析报告",-1)])))])]),s("div",As,[t[9]||(t[9]=s("div",{class:"card-header"},[s("h3",null,"⚡ 快速操作")],-1)),s("div",xs,[(r(),c(g,null,k(S,e=>o(b,{key:e.key,type:e.type,icon:e.icon,onClick:P=>B(e),class:"action-btn"},{default:l(()=>[u(a(e.label),1)]),_:2},1032,["type","icon","onClick"])),64))])]),s("div",Ds,[s("div",Ss,[t[10]||(t[10]=s("h3",null,"⚠️ 项目预警",-1)),o(R,{count:y.value.length},null,8,["count"])]),s("div",Ts,[(r(!0),c(g,null,k(y.value,e=>(r(),c("div",{key:e.id,class:W(["alert-item",e.level])},[s("div",zs,a(e.icon),1),s("div",Bs,[s("div",Is,a(e.title),1),s("div",Os,a(e.description),1),s("div",Ns,a(N(e.time)),1)])],2))),128)),y.value.length===0?(r(),c("div",Vs,t[11]||(t[11]=[s("p",null,"暂无预警信息",-1)]))):A("",!0)])])])]),o(M,{open:j.value,"onUpdate:open":t[0]||(t[0]=e=>j.value=e),title:"项目详情",width:"800px",footer:null},{default:l(()=>[n.value?(r(),c("div",Rs,[s("div",Ls,[s("h3",null,a(n.value.name),1),o(w,{color:I(n.value.status)},{default:l(()=>[u(a(n.value.status),1)]),_:1},8,["color"])]),o(L,{column:2,bordered:""},{default:l(()=>[o(p,{label:"项目编号"},{default:l(()=>[u(a(n.value.id),1)]),_:1}),o(p,{label:"项目经理"},{default:l(()=>[u(a(n.value.manager),1)]),_:1}),o(p,{label:"开始时间"},{default:l(()=>[u(a(n.value.startDate),1)]),_:1}),o(p,{label:"预计完成"},{default:l(()=>[u(a(n.value.endDate),1)]),_:1}),o(p,{label:"进度"},{default:l(()=>[o(C,{percent:n.value.progress},null,8,["percent"])]),_:1}),o(p,{label:"预算"},{default:l(()=>[u(" ¥"+a(n.value.budget),1)]),_:1})]),_:1}),s("div",qs,[t[12]||(t[12]=s("h4",null,"任务列表",-1)),o(E,{"data-source":n.value.tasks,size:"small"},{renderItem:l(({item:e})=>[o(F,null,{actions:l(()=>[o(C,{percent:e.progress,size:"small"},null,8,["percent"])]),default:l(()=>[o(q,null,{title:l(()=>[u(a(e.name),1)]),description:l(()=>[o(w,{size:"small",color:O(e.status)},{default:l(()=>[u(a(e.status),1)]),_:2},1032,["color"]),s("span",Fs,a(e.assignee),1)]),_:2},1024)]),_:2},1024)]),_:1},8,["data-source"])])])):A("",!0)]),_:1},8,["open"])])}}},Ys=G(Es,[["__scopeId","data-v-79f04b83"]]);export{Ys as default};
