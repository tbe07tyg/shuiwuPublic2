import{_ as wt,h as _,e as A,i as Tt,c as B,a as s,j as t,w as e,l,a5 as It,m as Ot,o as m,x as C,t as r,E as zt,B as St,p as i,S as Dt,R as Rt,k as h,b as K,F as Mt,s as jt,K as At}from"./index-CLrs7Nd9.js";import{i as w}from"./index-Bb6yjXMn.js";import{B as Bt}from"./BarChartOutlined-Dkwrmve9.js";import{D as Kt}from"./DollarOutlined-oEhX2Qfg.js";const Qt={class:"analytics-management"},Ut={class:"stats-section"},Vt={class:"stat-content"},$t={class:"stat-icon",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}},Ft={class:"stat-info"},Nt={class:"stat-number"},Pt={class:"stat-content"},Et={class:"stat-icon",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"}},Lt={class:"stat-info"},Jt={class:"stat-number"},Xt={class:"stat-content"},qt={class:"stat-icon",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"}},Gt={class:"stat-info"},Ht={class:"stat-number"},Wt={class:"stat-content"},Yt={class:"stat-icon",style:{background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"}},Zt={class:"stat-info"},te={class:"stat-number"},ee={class:"charts-section"},ae={class:"filter-section"},se={class:"analysis-section"},oe={key:0,class:"report-content"},ne={class:"trend-desc"},le={class:"trend-time"},ie={__name:"index",setup(re){Ot();const Q=_(!1),D=_(!1),u=_(null),U=_("projects"),V=_("metrics"),$=_(null),F=_(null),N=_(null),P=_(null),E=_(null),L=_(null),O=A({totalProjects:12,completionRate:85,avgDuration:120,totalBudget:1250}),f=A({dateRange:[],projectType:void 0,team:void 0}),T=A({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0,showTotal:(o,a)=>`第 ${a[0]}-${a[1]} 条/共 ${o} 条`}),J=_([{id:1,name:"智能科研管理系统开发",status:"active",progress:75,duration:180,cost:150,risk:"low",team:"开发团队",startDate:"2024-01-15",endDate:"2024-06-30"},{id:2,name:"数据分析平台建设",status:"planning",progress:30,duration:240,cost:200,risk:"medium",team:"开发团队",startDate:"2024-02-01",endDate:"2024-08-31"},{id:3,name:"移动端应用开发",status:"completed",progress:100,duration:120,cost:80,risk:"low",team:"开发团队",startDate:"2023-10-01",endDate:"2024-01-31"},{id:4,name:"系统性能优化",status:"active",progress:60,duration:90,cost:50,risk:"high",team:"测试团队",startDate:"2024-01-20",endDate:"2024-05-15"}]),at=_([{id:1,name:"张经理",role:"项目经理",performance:95,trend:"up",completedTasks:45,activeTasks:8},{id:2,name:"李开发",role:"开发工程师",performance:88,trend:"up",completedTasks:32,activeTasks:5},{id:3,name:"王后端",role:"后端工程师",performance:92,trend:"stable",completedTasks:38,activeTasks:6},{id:4,name:"赵测试",role:"测试工程师",performance:85,trend:"down",completedTasks:28,activeTasks:4}]),st=[{title:"项目名称",dataIndex:"name",key:"name",width:200},{title:"状态",dataIndex:"status",key:"status",width:100},{title:"进度",dataIndex:"progress",key:"progress",width:150},{title:"工期(天)",dataIndex:"duration",key:"duration",width:100},{title:"成本(万元)",dataIndex:"cost",key:"cost",width:120},{title:"风险等级",dataIndex:"risk",key:"risk",width:100},{title:"团队",dataIndex:"team",key:"team",width:120},{title:"操作",key:"action",width:120}],ot=[{title:"姓名",dataIndex:"name",key:"name",width:120},{title:"角色",dataIndex:"role",key:"role",width:120},{title:"绩效评分",dataIndex:"performance",key:"performance",width:150},{title:"趋势",dataIndex:"trend",key:"trend",width:100},{title:"完成任务",dataIndex:"completedTasks",key:"completedTasks",width:100},{title:"进行中任务",dataIndex:"activeTasks",key:"activeTasks",width:120}],X=o=>({active:"blue",planning:"orange",completed:"green",suspended:"red"})[o]||"default",q=o=>({active:"进行中",planning:"规划中",completed:"已完成",suspended:"已暂停"})[o]||"未知",G=o=>o>=80?"#52c41a":o>=60?"#1890ff":o>=40?"#faad14":"#f5222d",H=o=>({low:"green",medium:"orange",high:"red"})[o]||"default",W=o=>({low:"低风险",medium:"中风险",high:"高风险"})[o]||"未知",nt=o=>o>=90?"#52c41a":o>=80?"#1890ff":o>=70?"#faad14":"#f5222d",lt=o=>({up:"green",stable:"blue",down:"red"})[o]||"default",it=o=>({up:"上升",stable:"稳定",down:"下降"})[o]||"未知",rt=()=>{It(()=>{const o=w($.value),a={tooltip:{trigger:"axis"},legend:{data:["计划进度","实际进度","偏差"]},xAxis:{type:"category",data:["1月","2月","3月","4月","5月","6月"]},yAxis:{type:"value",name:"进度(%)"},series:[{name:"计划进度",type:"line",data:[20,35,50,65,80,100],smooth:!0},{name:"实际进度",type:"line",data:[18,32,48,62,75,85],smooth:!0},{name:"偏差",type:"bar",data:[2,3,2,3,5,15]}]};o.setOption(a);const d=w(F.value),c={tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"团队绩效",type:"pie",radius:"50%",data:[{value:35,name:"优秀"},{value:45,name:"良好"},{value:15,name:"一般"},{value:5,name:"需改进"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};d.setOption(c);const v=w(N.value),R={tooltip:{trigger:"axis"},xAxis:{type:"category",data:["人力成本","设备成本","软件成本","其他成本"]},yAxis:{type:"value",name:"成本(万元)"},series:[{name:"预算成本",type:"bar",data:[80,25,12,8]},{name:"实际成本",type:"bar",data:[75,22,10,6]}]};v.setOption(R);const k=w(P.value),y={tooltip:{trigger:"item"},series:[{name:"风险分布",type:"pie",radius:["40%","70%"],data:[{value:60,name:"低风险"},{value:30,name:"中风险"},{value:10,name:"高风险"}]}]};k.setOption(y);const I=w(E.value),x={tooltip:{trigger:"axis"},xAxis:{type:"category",data:["Q1","Q2","Q3","Q4"]},yAxis:{type:"value",name:"项目数量"},series:[{name:"预测完成",type:"line",data:[3,5,8,12],smooth:!0}]};I.setOption(x);const z=w(L.value),g={tooltip:{trigger:"axis"},xAxis:{type:"category",data:["开发人员","测试人员","设计人员","管理人员"]},yAxis:{type:"value",name:"需求人数"},series:[{name:"当前需求",type:"bar",data:[8,4,2,2]},{name:"预测需求",type:"bar",data:[12,6,3,3]}]};z.setOption(g),window.addEventListener("resize",()=>{o.resize(),d.resize(),v.resize(),k.resize(),I.resize(),z.resize()})})},Y=()=>{console.log("筛选条件:",f),Q.value=!0,setTimeout(()=>{Q.value=!1},1e3)},dt=()=>{Object.assign(f,{dateRange:[],projectType:void 0,team:void 0}),Y()},Z=o=>{T.current=o.current,T.pageSize=o.pageSize},ct=o=>{console.log("查看详情:",o)},ut=o=>{u.value={name:o.name,status:o.status,progress:o.progress,risk:o.risk,taskCompletion:85,codeQuality:92,testCoverage:78,trends:[{id:1,title:"项目启动",description:"项目正式启动，团队组建完成",time:"2024-01-15",icon:"play"},{id:2,title:"需求确认",description:"需求分析完成，技术方案确定",time:"2024-02-01",icon:"check"},{id:3,title:"开发阶段",description:"核心功能开发进行中",time:"2024-03-01",icon:"code"}],recommendations:[{id:1,title:"优化开发流程",description:"建议采用敏捷开发方法，提高开发效率",priority:"high",icon:"⚡",color:"#1890ff"},{id:2,title:"加强测试覆盖",description:"增加自动化测试，提高代码质量",priority:"medium",icon:"🔍",color:"#52c41a"},{id:3,title:"风险控制",description:"建立风险预警机制，及时处理潜在问题",priority:"low",icon:"🛡️",color:"#faad14"}]},D.value=!0};return Tt(()=>{T.total=J.value.length,rt()}),(o,a)=>{const d=l("a-card"),c=l("a-col"),v=l("a-row"),R=l("a-range-picker"),k=l("a-form-item"),y=l("a-select-option"),I=l("a-select"),x=l("a-button"),z=l("a-form"),g=l("a-tag"),M=l("a-progress"),pt=l("a-space"),tt=l("a-table"),b=l("a-tab-pane"),et=l("a-tabs"),S=l("a-descriptions-item"),_t=l("a-descriptions"),mt=l("a-divider"),j=l("a-statistic"),ft=l("a-icon"),vt=l("a-timeline-item"),yt=l("a-timeline"),gt=l("a-avatar"),kt=l("a-list-item-meta"),ht=l("a-list-item"),xt=l("a-list"),bt=l("a-modal");return m(),B("div",Qt,[a[20]||(a[20]=s("div",{class:"page-header"},[s("h1",null,"数据分析"),s("p",{class:"subtitle"},"项目分析与趋势预测")],-1)),s("div",Ut,[t(v,{gutter:16},{default:e(()=>[t(c,{span:6},{default:e(()=>[t(d,{class:"stat-card"},{default:e(()=>[s("div",Vt,[s("div",$t,[t(C(Bt))]),s("div",Ft,[s("div",Nt,r(O.totalProjects),1),a[6]||(a[6]=s("div",{class:"stat-label"},"总项目数",-1))])])]),_:1})]),_:1}),t(c,{span:6},{default:e(()=>[t(d,{class:"stat-card"},{default:e(()=>[s("div",Pt,[s("div",Et,[t(C(zt))]),s("div",Lt,[s("div",Jt,r(O.completionRate)+"%",1),a[7]||(a[7]=s("div",{class:"stat-label"},"项目完成率",-1))])])]),_:1})]),_:1}),t(c,{span:6},{default:e(()=>[t(d,{class:"stat-card"},{default:e(()=>[s("div",Xt,[s("div",qt,[t(C(St))]),s("div",Gt,[s("div",Ht,r(O.avgDuration),1),a[8]||(a[8]=s("div",{class:"stat-label"},"平均工期(天)",-1))])])]),_:1})]),_:1}),t(c,{span:6},{default:e(()=>[t(d,{class:"stat-card"},{default:e(()=>[s("div",Wt,[s("div",Yt,[t(C(Kt))]),s("div",Zt,[s("div",te,r(O.totalBudget),1),a[9]||(a[9]=s("div",{class:"stat-label"},"总预算(万元)",-1))])])]),_:1})]),_:1})]),_:1})]),s("div",ee,[t(v,{gutter:16},{default:e(()=>[t(c,{span:12},{default:e(()=>[t(d,{title:"项目进度分析",class:"chart-card"},{default:e(()=>[s("div",{ref_key:"progressChart",ref:$,style:{height:"300px"}},null,512)]),_:1})]),_:1}),t(c,{span:12},{default:e(()=>[t(d,{title:"团队绩效分析",class:"chart-card"},{default:e(()=>[s("div",{ref_key:"performanceChart",ref:F,style:{height:"300px"}},null,512)]),_:1})]),_:1})]),_:1}),t(v,{gutter:16,style:{"margin-top":"16px"}},{default:e(()=>[t(c,{span:12},{default:e(()=>[t(d,{title:"成本分析",class:"chart-card"},{default:e(()=>[s("div",{ref_key:"costChart",ref:N,style:{height:"300px"}},null,512)]),_:1})]),_:1}),t(c,{span:12},{default:e(()=>[t(d,{title:"风险预测",class:"chart-card"},{default:e(()=>[s("div",{ref_key:"riskChart",ref:P,style:{height:"300px"}},null,512)]),_:1})]),_:1})]),_:1})]),s("div",ae,[t(d,{class:"filter-card"},{default:e(()=>[t(z,{layout:"inline",model:f},{default:e(()=>[t(k,{label:"时间范围"},{default:e(()=>[t(R,{value:f.dateRange,"onUpdate:value":a[0]||(a[0]=n=>f.dateRange=n),style:{width:"240px"}},null,8,["value"])]),_:1}),t(k,{label:"项目类型"},{default:e(()=>[t(I,{value:f.projectType,"onUpdate:value":a[1]||(a[1]=n=>f.projectType=n),placeholder:"请选择项目类型","allow-clear":"",style:{width:"150px"}},{default:e(()=>[t(y,{value:"development"},{default:e(()=>a[10]||(a[10]=[i("开发项目",-1)])),_:1,__:[10]}),t(y,{value:"research"},{default:e(()=>a[11]||(a[11]=[i("研究项目",-1)])),_:1,__:[11]}),t(y,{value:"maintenance"},{default:e(()=>a[12]||(a[12]=[i("维护项目",-1)])),_:1,__:[12]})]),_:1},8,["value"])]),_:1}),t(k,{label:"团队"},{default:e(()=>[t(I,{value:f.team,"onUpdate:value":a[2]||(a[2]=n=>f.team=n),placeholder:"请选择团队","allow-clear":"",style:{width:"150px"}},{default:e(()=>[t(y,{value:"team1"},{default:e(()=>a[13]||(a[13]=[i("开发团队",-1)])),_:1,__:[13]}),t(y,{value:"team2"},{default:e(()=>a[14]||(a[14]=[i("测试团队",-1)])),_:1,__:[14]}),t(y,{value:"team3"},{default:e(()=>a[15]||(a[15]=[i("设计团队",-1)])),_:1,__:[15]})]),_:1},8,["value"])]),_:1}),t(k,null,{default:e(()=>[t(x,{type:"primary",onClick:Y},{default:e(()=>[t(C(Dt)),a[16]||(a[16]=i(" 分析 ",-1))]),_:1,__:[16]}),t(x,{style:{"margin-left":"8px"},onClick:dt},{default:e(()=>[t(C(Rt)),a[17]||(a[17]=i(" 重置 ",-1))]),_:1,__:[17]})]),_:1})]),_:1},8,["model"])]),_:1})]),s("div",se,[t(d,{title:"项目详细分析",class:"analysis-card"},{default:e(()=>[t(et,{activeKey:U.value,"onUpdate:activeKey":a[3]||(a[3]=n=>U.value=n)},{default:e(()=>[t(b,{key:"projects",tab:"项目分析"},{default:e(()=>[t(tt,{dataSource:J.value,columns:st,pagination:T,rowKey:"id",onChange:Z},{bodyCell:e(({column:n,record:p})=>[n.key==="status"?(m(),h(g,{key:0,color:X(p.status)},{default:e(()=>[i(r(q(p.status)),1)]),_:2},1032,["color"])):n.key==="progress"?(m(),h(M,{key:1,percent:p.progress,"stroke-color":G(p.progress),size:"small"},null,8,["percent","stroke-color"])):n.key==="risk"?(m(),h(g,{key:2,color:H(p.risk)},{default:e(()=>[i(r(W(p.risk)),1)]),_:2},1032,["color"])):n.key==="action"?(m(),h(pt,{key:3},{default:e(()=>[t(x,{type:"link",size:"small",onClick:Ct=>ct(p)},{default:e(()=>a[18]||(a[18]=[i(" 详情 ",-1)])),_:2,__:[18]},1032,["onClick"]),t(x,{type:"link",size:"small",onClick:Ct=>ut(p)},{default:e(()=>a[19]||(a[19]=[i(" 报告 ",-1)])),_:2,__:[19]},1032,["onClick"])]),_:2},1024)):K("",!0)]),_:1},8,["dataSource","pagination"])]),_:1}),t(b,{key:"performance",tab:"绩效分析"},{default:e(()=>[t(tt,{dataSource:at.value,columns:ot,pagination:T,rowKey:"id",onChange:Z},{bodyCell:e(({column:n,record:p})=>[n.key==="performance"?(m(),h(M,{key:0,percent:p.performance,"stroke-color":nt(p.performance),size:"small"},null,8,["percent","stroke-color"])):n.key==="trend"?(m(),h(g,{key:1,color:lt(p.trend)},{default:e(()=>[i(r(it(p.trend)),1)]),_:2},1032,["color"])):K("",!0)]),_:1},8,["dataSource","pagination"])]),_:1}),t(b,{key:"trends",tab:"趋势预测"},{default:e(()=>[t(v,{gutter:16},{default:e(()=>[t(c,{span:12},{default:e(()=>[t(d,{title:"项目完成趋势预测",size:"small"},{default:e(()=>[s("div",{ref_key:"trendChart",ref:E,style:{height:"250px"}},null,512)]),_:1})]),_:1}),t(c,{span:12},{default:e(()=>[t(d,{title:"资源需求预测",size:"small"},{default:e(()=>[s("div",{ref_key:"resourceChart",ref:L,style:{height:"250px"}},null,512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["activeKey"])]),_:1})]),t(bt,{open:D.value,"onUpdate:open":a[5]||(a[5]=n=>D.value=n),title:"分析报告",width:"800px",footer:null,"destroy-on-close":""},{default:e(()=>[u.value?(m(),B("div",oe,[t(_t,{title:"项目概况",column:2,bordered:""},{default:e(()=>[t(S,{label:"项目名称"},{default:e(()=>[i(r(u.value.name),1)]),_:1}),t(S,{label:"项目状态"},{default:e(()=>[t(g,{color:X(u.value.status)},{default:e(()=>[i(r(q(u.value.status)),1)]),_:1},8,["color"])]),_:1}),t(S,{label:"完成进度"},{default:e(()=>[t(M,{percent:u.value.progress,"stroke-color":G(u.value.progress)},null,8,["percent","stroke-color"])]),_:1}),t(S,{label:"风险等级"},{default:e(()=>[t(g,{color:H(u.value.risk)},{default:e(()=>[i(r(W(u.value.risk)),1)]),_:1},8,["color"])]),_:1})]),_:1}),t(mt),t(et,{activeKey:V.value,"onUpdate:activeKey":a[4]||(a[4]=n=>V.value=n)},{default:e(()=>[t(b,{key:"metrics",tab:"关键指标"},{default:e(()=>[t(v,{gutter:16},{default:e(()=>[t(c,{span:8},{default:e(()=>[t(j,{title:"任务完成率",value:u.value.taskCompletion,suffix:"%","value-style":{color:"#3f8600"}},null,8,["value"])]),_:1}),t(c,{span:8},{default:e(()=>[t(j,{title:"代码质量",value:u.value.codeQuality,suffix:"分","value-style":{color:"#1890ff"}},null,8,["value"])]),_:1}),t(c,{span:8},{default:e(()=>[t(j,{title:"测试覆盖率",value:u.value.testCoverage,suffix:"%","value-style":{color:"#722ed1"}},null,8,["value"])]),_:1})]),_:1})]),_:1}),t(b,{key:"trends",tab:"趋势分析"},{default:e(()=>[t(yt,null,{default:e(()=>[(m(!0),B(Mt,null,jt(u.value.trends,n=>(m(),h(vt,{key:n.id},{dot:e(()=>[t(ft,{type:n.icon},null,8,["type"])]),default:e(()=>[s("p",null,r(n.title),1),s("p",ne,r(n.description),1),s("p",le,r(n.time),1)]),_:2},1024))),128))]),_:1})]),_:1}),t(b,{key:"recommendations",tab:"优化建议"},{default:e(()=>[t(xt,{dataSource:u.value.recommendations,"item-layout":"horizontal"},{renderItem:e(({item:n})=>[t(ht,null,{actions:e(()=>[t(g,{color:n.priority==="high"?"red":n.priority==="medium"?"orange":"green"},{default:e(()=>[i(r(n.priority==="high"?"高":n.priority==="medium"?"中":"低")+"优先级 ",1)]),_:2},1032,["color"])]),default:e(()=>[t(kt,null,{avatar:e(()=>[t(gt,{style:At({backgroundColor:n.color})},{default:e(()=>[i(r(n.icon),1)]),_:2},1032,["style"])]),title:e(()=>[i(r(n.title),1)]),description:e(()=>[i(r(n.description),1)]),_:2},1024)]),_:2},1024)]),_:1},8,["dataSource"])]),_:1})]),_:1},8,["activeKey"])])):K("",!0)]),_:1},8,["open"])])}}},_e=wt(ie,[["__scopeId","data-v-9b4f236a"]]);export{_e as default};
