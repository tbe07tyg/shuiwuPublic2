import{_ as Ee,e as T,h as J,d as oe,A as qe,i as Ie,k as x,w as s,l as m,o as c,a as n,j as t,p as i,x as j,S as Ze,t as p,c as k,F as q,s as I,b as O,P as he,D as Me,f as C}from"./index-CLrs7Nd9.js";import{P as ze}from"./PageContainer-Do4hllCM.js";import{U as Qe}from"./UploadOutlined-U6qGJXGO.js";/* empty css                                                                      */const Ae={class:"filter-section"},Le={class:"filter-controls"},Oe={class:"filter-row"},$e={class:"stats-overview"},Ye={class:"records-list"},Pe={class:"card-header"},Be={class:"card-title"},Fe={class:"record-name"},je={class:"card-info"},He={class:"info-item"},Ne={class:"info-item"},Ve={class:"content-section"},We={class:"section-content"},Ge={class:"purpose-tags"},Je={class:"content-section"},Ke={class:"section-content"},Xe={class:"item-content"},et={class:"item-header"},tt={class:"item-time"},st={class:"item-user"},at={class:"item-desc"},lt={key:0,class:"item-attachments"},nt={class:"attachment-list"},ot=["onClick"],it=["onClick"],rt={class:"card-actions"},ut={class:"pagination-wrapper"},dt={style:{"margin-top":"12px"}},pt={class:"requirement-option"},mt={class:"req-title"},ct={class:"req-category"},ft={class:"stage-selection"},vt={key:0},_t={class:"purpose-tags",style:{"margin-bottom":"16px"}},gt={class:"item-content"},wt={class:"item-time"},yt={class:"item-user"},bt={class:"item-status"},Dt={class:"item-desc"},xt={__name:"index",setup(kt){const _=T({status:"",source:"",keyword:""}),D=T({page:1,size:10,total:0});T({content:"",planDate:"today",duration:"1d"});const M=T({visible:!1}),o=T({title:"",responsible:"å¼ ä¸‰",department:"æŠ€æœ¯éƒ¨",startDate:null,expectedEndDate:null,stages:["analysis","technical"],description:"",priority:"medium",sourceType:"requirement",sourceRequirement:"",sourceDescription:""}),Z=J([{id:"REQ001",title:"æ™ºèƒ½æ°´è´¨ç›‘æµ‹ç³»ç»Ÿéœ€æ±‚",category:"æŠ€æœ¯æ”¹è¿›",proposerDepartment:"æŠ€æœ¯éƒ¨",status:"approved"},{id:"REQ002",title:"æ±¡æ°´å¤„ç†å·¥è‰ºä¼˜åŒ–éœ€æ±‚",category:"å·¥è‰ºå‡çº§",proposerDepartment:"å·¥è‰ºéƒ¨",status:"approved"},{id:"REQ003",title:"ç®¡ç½‘æ¼æŸæ£€æµ‹è®¾å¤‡é‡‡è´­éœ€æ±‚",category:"è®¾å¤‡é‡‡è´­",proposerDepartment:"è¿ç»´éƒ¨",status:"approved"},{id:"REQ004",title:"è¿è¥ç®¡ç†ç³»ç»Ÿæ•°å­—åŒ–æ”¹é€ ",category:"ç³»ç»Ÿå‡çº§",proposerDepartment:"ç®¡ç†éƒ¨",status:"pending"},{id:"REQ005",title:"èŠ‚èƒ½å‡æŽ’æŠ€æœ¯åº”ç”¨ç ”ç©¶",category:"æŠ€æœ¯ç ”å‘",proposerDepartment:"æŠ€æœ¯éƒ¨",status:"approved"}]),z=J([...Z.value]),U=T({visible:!1,recordId:null}),u=T({content:"",date:null,time:null,responsible:"å¼ ä¸‰",type:"other",attachments:[]}),S=T({visible:!1,recordId:null}),g=T({status:"active",remark:""}),R=T({visible:!1,record:null}),E=J([{id:"R2024004",title:"REQ004-è¿è¥ç®¡ç†ç³»ç»Ÿæ•°å­—åŒ–æ”¹é€ è°ƒç ”",responsible:"èµµå…­",department:"ç®¡ç†éƒ¨",status:"active",startDate:"2024-02-01",expectedEndDate:"2024-03-15",progress:25,currentStage:"éœ€æ±‚åˆ†æž",latestUpdate:"éœ€æ±‚æ¢³ç†ä¸­ï¼Œå·²å®Œæˆä¸šåŠ¡æµç¨‹è°ƒç ”",nextMilestone:"2024-02-10 å®Œæˆéœ€æ±‚åˆ†æž",showQuickAdd:!1,sourceType:"internal",sourceDescription:"ç®¡ç†éƒ¨å†…éƒ¨æå‡ºçš„æ•°å­—åŒ–æ”¹é€ éœ€æ±‚",createTime:"2024-02-01T08:00:00.000Z",updateTime:"2024-02-03T14:30:00.000Z",stages:["analysis","technical","design"],items:[{id:"item1",content:"å®Œæˆä¸šåŠ¡æµç¨‹è°ƒç ”å’Œéœ€æ±‚æ¢³ç†",user:"èµµå…­",time:"2024-02-03T14:30:00.000Z",status:"completed"},{id:"item2",content:"å¯åŠ¨æ•°å­—åŒ–æ”¹é€ è°ƒç ”é¡¹ç›®",user:"èµµå…­",time:"2024-02-01T08:00:00.000Z",status:"active"}]},{id:"R2024001",title:"REQ001-æ™ºèƒ½æ°´è´¨ç›‘æµ‹ç³»ç»Ÿè°ƒç ”",responsible:"å¼ ä¸‰",department:"æŠ€æœ¯éƒ¨",status:"completed",startDate:"2024-01-15",endDate:"2024-02-15",expectedEndDate:"2024-02-15",progress:100,showQuickAdd:!1,sourceType:"requirement",sourceId:"REQ001",sourceTitle:"æ™ºèƒ½æ°´è´¨ç›‘æµ‹ç³»ç»Ÿéœ€æ±‚",sourceCategory:"æŠ€æœ¯æ”¹è¿›",createTime:"2024-01-15T09:00:00.000Z",updateTime:"2024-02-15T18:00:00.000Z",stages:["analysis","technical","design","cost","risk"],items:[{id:"item5",content:"è°ƒç ”é¡¹ç›®å·²å®Œæˆï¼Œå½¢æˆæœ€ç»ˆæŠ¥å‘Š",user:"å¼ ä¸‰",time:"2024-02-15T18:00:00.000Z",attachments:[{id:"att1",name:"æ™ºèƒ½æ°´è´¨ç›‘æµ‹ç³»ç»Ÿè°ƒç ”æŠ¥å‘Š.pdf",url:"/attachments/report1.pdf"},{id:"att2",name:"å¸‚åœºåˆ†æžæ•°æ®.xlsx",url:"/attachments/data1.xlsx"}]},{id:"item4",content:"å®Œæˆé£Žé™©åˆ†æžå’Œå¯è¡Œæ€§è¯„ä¼°",user:"å¼ ä¸‰",time:"2024-02-13T16:30:00.000Z",attachments:[{id:"att3",name:"é£Žé™©è¯„ä¼°æŠ¥å‘Š.docx",url:"/attachments/risk1.docx"}]},{id:"item3",content:"å®Œæˆæˆæœ¬è¯„ä¼°å’ŒæŠ•èµ„é¢„ç®—",user:"å¼ ä¸‰",time:"2024-02-10T14:20:00.000Z"},{id:"item2",content:"å®ŒæˆæŠ€æœ¯æ–¹æ¡ˆè®¾è®¡",user:"å¼ ä¸‰",time:"2024-02-05T10:15:00.000Z"},{id:"item1",content:"å¯åŠ¨æ™ºèƒ½æ°´è´¨ç›‘æµ‹ç³»ç»Ÿè°ƒç ”",user:"å¼ ä¸‰",time:"2024-02-15T09:00:00.000Z"}],result:{conclusion:"æŠ€æœ¯å¯è¡Œï¼Œå»ºè®®ç«‹é¡¹å®žæ–½",investment:150,duration:8,roi:3.2,successRate:85}},{id:"R2024002",title:"REQ002-æ±¡æ°´å¤„ç†å·¥è‰ºä¼˜åŒ–è°ƒç ”",responsible:"æŽå››",department:"å·¥è‰ºéƒ¨",status:"active",startDate:"2024-01-20",expectedEndDate:"2024-02-28",progress:60,currentStage:"æ–¹æ¡ˆè®¾è®¡",latestUpdate:"åˆæ­¥æŠ€æœ¯æ–¹æ¡ˆå·²ç¡®å®šï¼Œå¼€å§‹è¯¦ç»†è®¾è®¡",nextMilestone:"2024-02-05 å®Œæˆæ–¹æ¡ˆè®¾è®¡",showQuickAdd:!1,sourceType:"requirement",sourceId:"REQ002",sourceTitle:"æ±¡æ°´å¤„ç†å·¥è‰ºä¼˜åŒ–éœ€æ±‚",sourceCategory:"å·¥è‰ºå‡çº§",createTime:"2024-01-20T10:30:00.000Z",updateTime:"2024-02-01T16:45:00.000Z",stages:["analysis","technical","design"],items:[{id:"item3",content:"åˆæ­¥æŠ€æœ¯æ–¹æ¡ˆå·²ç¡®å®šï¼Œå¼€å§‹è¯¦ç»†è®¾è®¡",user:"æŽå››",time:"2024-02-01T16:45:00.000Z"},{id:"item2",content:"å®ŒæˆæŠ€æœ¯è°ƒç ”å’Œå¸‚åœºåˆ†æž",user:"æŽå››",time:"2024-01-28T11:20:00.000Z"},{id:"item1",content:"å¯åŠ¨æ±¡æ°´å¤„ç†å·¥è‰ºä¼˜åŒ–è°ƒç ”",user:"æŽå››",time:"2024-01-20T10:30:00.000Z"}]},{id:"R2024003",title:"REQ003-ç®¡ç½‘æ¼æŸæ£€æµ‹è®¾å¤‡è°ƒç ”",responsible:"çŽ‹äº”",department:"è¿ç»´éƒ¨",status:"paused",startDate:"2024-01-10",expectedEndDate:"2024-02-20",expectedResumeDate:"2024-02-10",progress:30,pauseReason:"ç­‰å¾…é¢„ç®—ç¡®è®¤ï¼Œä¾›åº”å•†æŠ¥ä»·å»¶è¿Ÿ",pauseNote:"éœ€ç­‰å¾…è´¢åŠ¡éƒ¨é—¨é¢„ç®—æ‰¹å¤",showQuickAdd:!1,sourceType:"external",sourceDescription:"åŽæ°´é›†å›¢æ€»éƒ¨å§”æ‰˜è°ƒç ”é¡¹ç›®",createTime:"2024-01-10T14:20:00.000Z",updateTime:"2024-01-25T11:15:00.000Z",stages:["analysis","technical","design"],items:[{id:"item3",content:"è°ƒç ”é¡¹ç›®æš‚åœï¼Œç­‰å¾…é¢„ç®—ç¡®è®¤",user:"çŽ‹äº”",time:"2024-01-25T11:15:00.000Z"},{id:"item2",content:"å®ŒæˆæŠ€æœ¯è°ƒç ”å’Œè®¾å¤‡é€‰åž‹",user:"çŽ‹äº”",time:"2024-01-18T15:30:00.000Z"},{id:"item1",content:"å¯åŠ¨ç®¡ç½‘æ¼æŸæ£€æµ‹è®¾å¤‡è°ƒç ”",user:"çŽ‹äº”",time:"2024-01-10T14:20:00.000Z"}]}]),Q=oe(()=>{const l=E.value;return{total:l.length,active:l.filter(e=>e.status==="active").length,completed:l.filter(e=>e.status==="completed").length,paused:l.filter(e=>e.status==="paused").length,terminated:l.filter(e=>e.status==="terminated").length}}),K=oe(()=>{let l=E.value;return _.status&&(l=l.filter(e=>e.status===_.status)),_.source&&(l=l.filter(e=>e.sourceType===_.source)),_.keyword&&(l=l.filter(e=>e.title.toLowerCase().includes(_.keyword.toLowerCase())||e.responsible.includes(_.keyword)||e.sourceTitle&&e.sourceTitle.toLowerCase().includes(_.keyword.toLowerCase())||e.sourceDescription&&e.sourceDescription.toLowerCase().includes(_.keyword.toLowerCase()))),l.sort((e,d)=>{const r=new Date(e.createTime||e.startDate||"2024-01-01").getTime(),w=new Date(d.createTime||d.startDate||"2024-01-01").getTime();if(r!==w)return w-r;const Y={active:1,paused:2,completed:3,terminated:4},A=Y[e.status]||5,L=Y[d.status]||5;return A-L}),l});qe(K,l=>{D.total=l.length},{immediate:!0});const ie=l=>({active:"processing",completed:"success",paused:"warning",terminated:"error"})[l]||"default",re=l=>({active:"ðŸ”„",completed:"ðŸŸ¢",paused:"â¸ï¸",terminated:"âŒ"})[l]||"â“",H=l=>({active:"è¿›è¡Œä¸­",completed:"å·²å®Œæˆ",paused:"å·²æš‚åœ",terminated:"å·²ç»ˆæ­¢"})[l]||"æœªçŸ¥",X=l=>({analysis:"éœ€æ±‚åˆ†æž",technical:"æŠ€æœ¯è°ƒç ”",design:"æ–¹æ¡ˆè®¾è®¡",cost:"æˆæœ¬è¯„ä¼°",risk:"é£Žé™©åˆ†æž",market:"å¸‚åœºè°ƒç ”"})[l]||l,ue=l=>{U.recordId=l,U.visible=!0,Object.assign(u,{content:"",date:null,time:null,responsible:"å¼ ä¸‰",type:"other",attachments:[]})},ee=()=>{U.visible=!1,U.recordId=null},de=()=>{if(!u.content.trim()){C.warning("è¯·å¡«å†™äº‹é¡¹å†…å®¹");return}if(!u.date){C.warning("è¯·é€‰æ‹©æ—¥æœŸ");return}const l=E.value.find(e=>e.id===U.recordId);if(l){let e=u.date.format("MM-DD");u.time&&(e+=" "+u.time.format("HH:mm"));const d={id:Date.now(),content:u.content,user:u.responsible,time:e,type:u.type};u.attachments&&u.attachments.length>0&&(d.attachments=u.attachments.map(r=>{var w;return{id:Date.now()+Math.random(),name:r.name,url:((w=r.response)==null?void 0:w.url)||"#"}})),l.items=l.items||[],l.items.unshift(d),C.success("è°ƒç ”äº‹é¡¹æ·»åŠ æˆåŠŸ"),ee()}},pe=l=>{C.info(`æ­£åœ¨ä¸‹è½½é™„ä»¶: ${l.name}`);const e=document.createElement("a");e.href=l.url||"#",e.download=l.name,e.click()},me=l=>l&&l.isBefore(new Date,"day"),ce=l=>["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","image/jpeg","image/png","image/gif"].includes(l.type)?(l.size/1024/1024<10||C.error("æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡10MBï¼"),!1):(C.error("æ–‡ä»¶æ ¼å¼ä¸æ”¯æŒï¼Œè¯·ä¸Šä¼ PDFã€Wordã€Excelæˆ–å›¾ç‰‡æ–‡ä»¶ï¼"),!1),fe=()=>{M.visible=!0,Object.assign(o,{title:"",responsible:"å¼ ä¸‰",department:"æŠ€æœ¯éƒ¨",startDate:null,expectedEndDate:null,stages:["analysis","technical"],description:"",priority:"medium",sourceType:"requirement",sourceRequirement:"",sourceDescription:""}),z.value=[...Z.value]},ve=()=>{M.visible=!1},_e=()=>{o.sourceRequirement="",o.sourceDescription="",o.sourceType==="requirement"&&(z.value=[...Z.value])},ge=l=>{if(!l){z.value=[...Z.value];return}z.value=Z.value.filter(e=>e.title.toLowerCase().includes(l.toLowerCase())||e.id.toLowerCase().includes(l.toLowerCase())||e.category.includes(l))},we=()=>{if(!o.title.trim()){C.error("è¯·è¾“å…¥è°ƒç ”æ ‡é¢˜");return}if(o.stages.length===0){C.error("è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªè°ƒç ”é˜¶æ®µ");return}const l=Date.now().toString();let e={};if(o.sourceType==="requirement"&&o.sourceRequirement){const r=Z.value.find(w=>w.id===o.sourceRequirement);r&&(e={sourceType:"requirement",sourceId:r.id,sourceTitle:r.title,sourceCategory:r.category})}else o.sourceDescription.trim()&&(e={sourceType:o.sourceType,sourceDescription:o.sourceDescription});const d={id:l,title:o.title,responsible:o.responsible,department:o.department,startDate:o.startDate?o.startDate.format("YYYY-MM-DD"):null,expectedEndDate:o.expectedEndDate?o.expectedEndDate.format("YYYY-MM-DD"):null,stages:o.stages,description:o.description,priority:o.priority,status:"active",progress:0,items:[],createTime:new Date().toISOString(),updateTime:new Date().toISOString(),currentStage:o.stages[0],...e};E.value.push(d),C.success("è°ƒç ”è®°å½•åˆ›å»ºæˆåŠŸï¼"),M.visible=!1,console.log("æ–°å»ºè°ƒç ”è®°å½•ï¼š",d)},ye=l=>{const e=E.value.find(d=>d.id===l);e&&(S.recordId=l,S.visible=!0,g.status=e.status,g.remark="")},be=()=>{const l=E.value.find(e=>e.id===S.recordId);l&&(l.status!==g.status&&(l.status=g.status,l.updateTime=new Date().toISOString(),l.items=l.items||[],l.items.push({id:"item"+Date.now(),content:`è°ƒç ”çŠ¶æ€å˜æ›´ä¸º"${H(g.status)}"${g.remark?"ï¼Œå¤‡æ³¨ï¼š"+g.remark:""}`,user:l.responsible,time:new Date().toISOString(),status:g.status})),C.success("è°ƒç ”çŠ¶æ€å·²æ›´æ–°"),se())},De=(l,e)=>{D.size=e,D.page=1},xe=(l,e)=>{D.page=l,D.size=e},$=()=>{D.page=1},te=l=>{const e=E.value.find(d=>d.id===l);e&&(R.record=e,R.visible=!0)},se=()=>{S.visible=!1,S.recordId=null,Object.assign(g,{status:"active",remark:""})},ke=l=>!l.items||l.items.length===0?[]:[...l.items].sort((e,d)=>new Date(d.time).getTime()-new Date(e.time).getTime()).slice(0,3).map(e=>({...e,time:ae(e.time)})),ae=l=>{const e=new Date(l);return`${e.getMonth()+1}-${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`},Te=l=>!l.items||l.items.length===0?[]:[...l.items].sort((e,d)=>new Date(d.time).getTime()-new Date(e.time).getTime()).map(e=>({...e,time:ae(e.time)}));return Ie(()=>{}),(l,e)=>{const d=m("a-button"),r=m("a-select-option"),w=m("a-select"),Y=m("a-input-search"),A=m("a-tag"),L=m("a-timeline-item"),le=m("a-timeline"),Ce=m("a-pagination"),ne=m("a-input"),f=m("a-form-item"),v=m("a-radio"),P=m("a-radio-group"),b=m("a-col"),B=m("a-row"),N=m("a-date-picker"),h=m("a-checkbox"),Re=m("a-checkbox-group"),V=m("a-textarea"),W=m("a-form"),F=m("a-modal"),Ue=m("a-time-picker"),Se=m("a-upload");return c(),x(ze,{title:"ðŸ“Š è°ƒç ”è®°å½•",description:"é¡¹ç›®è°ƒç ”å…¨è¿‡ç¨‹è®°å½•ï¼Œè¿½è¸ªè¿›åº¦æŸ¥çœ‹ç»“æžœ"},{actions:s(()=>[t(d,{type:"primary",onClick:fe},{default:s(()=>[t(j(he)),e[29]||(e[29]=i(" æ–°å»ºè°ƒç ”è®°å½• ",-1))]),_:1,__:[29]}),t(d,{type:"primary",ghost:""},{default:s(()=>[t(j(Me)),e[30]||(e[30]=i(" ðŸ“Š å¯¼å‡ºè®°å½• ",-1))]),_:1,__:[30]})]),default:s(()=>[n("div",Ae,[n("div",Le,[n("div",Oe,[e[40]||(e[40]=n("span",{class:"filter-label"},"çŠ¶æ€:",-1)),t(w,{value:_.status,"onUpdate:value":e[0]||(e[0]=a=>_.status=a),placeholder:"å…¨éƒ¨çŠ¶æ€","allow-clear":"",style:{width:"120px"},onChange:$},{default:s(()=>[t(r,{value:""},{default:s(()=>e[31]||(e[31]=[i("å…¨éƒ¨",-1)])),_:1,__:[31]}),t(r,{value:"active"},{default:s(()=>e[32]||(e[32]=[i("è¿›è¡Œä¸­",-1)])),_:1,__:[32]}),t(r,{value:"completed"},{default:s(()=>e[33]||(e[33]=[i("å·²å®Œæˆ",-1)])),_:1,__:[33]}),t(r,{value:"paused"},{default:s(()=>e[34]||(e[34]=[i("å·²æš‚åœ",-1)])),_:1,__:[34]}),t(r,{value:"terminated"},{default:s(()=>e[35]||(e[35]=[i("å·²ç»ˆæ­¢",-1)])),_:1,__:[35]})]),_:1},8,["value"]),e[41]||(e[41]=n("span",{class:"filter-label"},"æ¥æº:",-1)),t(w,{value:_.source,"onUpdate:value":e[1]||(e[1]=a=>_.source=a),placeholder:"å…¨éƒ¨æ¥æº","allow-clear":"",style:{width:"120px"},onChange:$},{default:s(()=>[t(r,{value:""},{default:s(()=>e[36]||(e[36]=[i("å…¨éƒ¨",-1)])),_:1,__:[36]}),t(r,{value:"requirement"},{default:s(()=>e[37]||(e[37]=[i("éœ€æ±‚æ± ",-1)])),_:1,__:[37]}),t(r,{value:"external"},{default:s(()=>e[38]||(e[38]=[i("å¤–éƒ¨å§”æ‰˜",-1)])),_:1,__:[38]}),t(r,{value:"internal"},{default:s(()=>e[39]||(e[39]=[i("å†…éƒ¨å‘èµ·",-1)])),_:1,__:[39]})]),_:1},8,["value"]),e[42]||(e[42]=n("span",{class:"filter-label"},"æœç´¢:",-1)),t(Y,{value:_.keyword,"onUpdate:value":e[2]||(e[2]=a=>_.keyword=a),placeholder:"æœç´¢é¡¹ç›®åç§°æˆ–å…³é”®è¯",style:{width:"300px"},"allow-clear":"",onSearch:$,onChange:$},{suffix:s(()=>[t(j(Ze))]),_:1},8,["value"])])]),n("div",$e," ðŸ“Š ç»Ÿè®¡æ¦‚è§ˆ: æ€»è®¡"+p(Q.value.total)+"ä¸ª | è¿›è¡Œä¸­"+p(Q.value.active)+"ä¸ª | å·²å®Œæˆ"+p(Q.value.completed)+"ä¸ª | æš‚åœ"+p(Q.value.paused)+"ä¸ª | å·²ç»ˆæ­¢"+p(Q.value.terminated)+"ä¸ª ",1)]),n("div",Ye,[(c(!0),k(q,null,I(K.value,a=>(c(),k("div",{key:a.id,class:"record-card"},[n("div",Pe,[n("div",Be,[e[43]||(e[43]=n("span",{class:"record-icon"},"ðŸ”",-1)),n("span",Fe,p(a.title),1),t(A,{color:ie(a.status),class:"status-tag"},{default:s(()=>[i(p(re(a.status))+" "+p(H(a.status)),1)]),_:2},1032,["color"])])]),n("div",je,[n("span",He," ðŸ“… "+p(a.startDate)+" â†’ "+p(a.status==="completed"?a.endDate:`é¢„è®¡${a.expectedEndDate}`),1),n("span",Ne," ðŸ‘¤ "+p(a.responsible)+"("+p(a.department)+") ",1)]),n("div",Ve,[e[44]||(e[44]=n("div",{class:"section-title"},"ðŸŽ¯ è°ƒç ”ç›®çš„:",-1)),n("div",We,[n("div",Ge,[(c(!0),k(q,null,I(a.stages,y=>(c(),x(A,{key:y,color:"blue",style:{"margin-right":"8px","margin-bottom":"4px"}},{default:s(()=>[i(p(X(y)),1)]),_:2},1024))),128))])])]),n("div",Je,[e[46]||(e[46]=n("div",{class:"section-title"},"ðŸ“ äº‹é¡¹è®°å½•:",-1)),n("div",Ke,[t(le,{mode:"left"},{default:s(()=>[(c(!0),k(q,null,I(ke(a),y=>(c(),x(L,{key:y.id,color:"blue"},{default:s(()=>[n("div",Xe,[n("div",et,[n("span",tt,p(y.time),1),n("span",st,p(y.user),1)]),n("div",at,p(y.content),1),y.attachments&&y.attachments.length>0?(c(),k("div",lt,[e[45]||(e[45]=n("div",{class:"attachment-label"},"ðŸ“Ž é™„ä»¶ï¼š",-1)),n("div",nt,[(c(!0),k(q,null,I(y.attachments,G=>(c(),k("a",{key:G.id,onClick:Tt=>pe(G),class:"attachment-link"},p(G.name),9,ot))),128))])])):O("",!0)])]),_:2},1024))),128)),a.items&&a.items.length>3?(c(),x(L,{key:0,color:"gray"},{default:s(()=>[n("a",{onClick:y=>te(a.id)},"æŸ¥çœ‹æ›´å¤šäº‹é¡¹â€¦",8,it)]),_:2},1024)):O("",!0)]),_:2},1024)])]),n("div",rt,[t(d,{size:"small",type:"primary",onClick:y=>te(a.id)},{default:s(()=>e[47]||(e[47]=[i("ðŸ“‹ æŸ¥çœ‹è¯¦æƒ…",-1)])),_:2,__:[47]},1032,["onClick"]),a.status!=="terminated"?(c(),x(d,{key:0,size:"small",onClick:y=>ye(a.id)},{default:s(()=>e[48]||(e[48]=[i("ðŸ“ æ›´æ–°çŠ¶æ€",-1)])),_:2,__:[48]},1032,["onClick"])):O("",!0),a.status!=="terminated"?(c(),x(d,{key:1,size:"small",type:"link",onClick:y=>ue(a.id),class:"add-item-action"},{default:s(()=>e[49]||(e[49]=[i(" âž• æ·»åŠ è°ƒç ”äº‹é¡¹ ",-1)])),_:2,__:[49]},1032,["onClick"])):O("",!0)])]))),128)),n("div",ut,[t(Ce,{current:D.page,"onUpdate:current":e[3]||(e[3]=a=>D.page=a),"page-size":D.size,"onUpdate:pageSize":e[4]||(e[4]=a=>D.size=a),total:D.total,"page-size-options":["10","20","50"],"show-size-changer":"","show-quick-jumper":"","show-total":"",onChange:xe,onShowSizeChange:De},null,8,["current","page-size","total"])])]),t(F,{open:M.visible,"onUpdate:open":e[16]||(e[16]=a=>M.visible=a),title:"âž• æ–°å»ºè°ƒç ”è®°å½•",width:"700px",onCancel:ve,onOk:we},{default:s(()=>[t(W,{model:o,"label-col":{span:5},"wrapper-col":{span:19}},{default:s(()=>[t(f,{label:"è°ƒç ”æ ‡é¢˜",required:""},{default:s(()=>[t(ne,{value:o.title,"onUpdate:value":e[5]||(e[5]=a=>o.title=a),placeholder:"è¯·è¾“å…¥è°ƒç ”é¡¹ç›®æ ‡é¢˜ï¼Œå¦‚ï¼šREQ001-æ™ºèƒ½æ°´è´¨ç›‘æµ‹ç³»ç»Ÿè°ƒç ”",maxlength:100,"show-count":""},null,8,["value"])]),_:1}),t(f,{label:"éœ€æ±‚æ¥æº"},{default:s(()=>[t(P,{value:o.sourceType,"onUpdate:value":e[6]||(e[6]=a=>o.sourceType=a),onChange:_e},{default:s(()=>[t(v,{value:"requirement"},{default:s(()=>e[50]||(e[50]=[i("éœ€æ±‚æ± ",-1)])),_:1,__:[50]}),t(v,{value:"internal"},{default:s(()=>e[51]||(e[51]=[i("å†…éƒ¨å‘èµ·",-1)])),_:1,__:[51]}),t(v,{value:"external"},{default:s(()=>e[52]||(e[52]=[i("å¤–éƒ¨å§”æ‰˜",-1)])),_:1,__:[52]})]),_:1},8,["value"]),n("div",dt,[o.sourceType==="requirement"?(c(),x(w,{key:0,value:o.sourceRequirement,"onUpdate:value":e[7]||(e[7]=a=>o.sourceRequirement=a),placeholder:"è¯·é€‰æ‹©éœ€æ±‚æ± ä¸­çš„éœ€æ±‚",style:{width:"100%"},"show-search":"","filter-option":!1,onSearch:ge},{default:s(()=>[(c(!0),k(q,null,I(z.value,a=>(c(),x(r,{key:a.id,value:a.id},{default:s(()=>[n("div",pt,[n("span",mt,p(a.title),1),n("span",ct,p(a.category),1)])]),_:2},1032,["value"]))),128))]),_:1},8,["value"])):(c(),x(ne,{key:1,value:o.sourceDescription,"onUpdate:value":e[8]||(e[8]=a=>o.sourceDescription=a),placeholder:o.sourceType==="internal"?"è¯·å¡«å†™å†…éƒ¨å‘èµ·éƒ¨é—¨æˆ–äººå‘˜":"è¯·å¡«å†™å¤–éƒ¨å§”æ‰˜å•ä½æˆ–é¡¹ç›®",maxlength:100,"show-count":""},null,8,["value","placeholder"]))])]),_:1}),t(B,{gutter:16},{default:s(()=>[t(b,{span:12},{default:s(()=>[t(f,{label:"è´Ÿè´£äºº","label-col":{span:10},"wrapper-col":{span:14}},{default:s(()=>[t(w,{value:o.responsible,"onUpdate:value":e[9]||(e[9]=a=>o.responsible=a)},{default:s(()=>[t(r,{value:"å¼ ä¸‰"},{default:s(()=>e[53]||(e[53]=[i("å¼ ä¸‰",-1)])),_:1,__:[53]}),t(r,{value:"æŽå››"},{default:s(()=>e[54]||(e[54]=[i("æŽå››",-1)])),_:1,__:[54]}),t(r,{value:"çŽ‹äº”"},{default:s(()=>e[55]||(e[55]=[i("çŽ‹äº”",-1)])),_:1,__:[55]}),t(r,{value:"èµµå…­"},{default:s(()=>e[56]||(e[56]=[i("èµµå…­",-1)])),_:1,__:[56]})]),_:1},8,["value"])]),_:1})]),_:1}),t(b,{span:12},{default:s(()=>[t(f,{label:"æ‰€å±žéƒ¨é—¨","label-col":{span:10},"wrapper-col":{span:14}},{default:s(()=>[t(w,{value:o.department,"onUpdate:value":e[10]||(e[10]=a=>o.department=a)},{default:s(()=>[t(r,{value:"æŠ€æœ¯éƒ¨"},{default:s(()=>e[57]||(e[57]=[i("æŠ€æœ¯éƒ¨",-1)])),_:1,__:[57]}),t(r,{value:"å·¥è‰ºéƒ¨"},{default:s(()=>e[58]||(e[58]=[i("å·¥è‰ºéƒ¨",-1)])),_:1,__:[58]}),t(r,{value:"è¿ç»´éƒ¨"},{default:s(()=>e[59]||(e[59]=[i("è¿ç»´éƒ¨",-1)])),_:1,__:[59]}),t(r,{value:"å¸‚åœºéƒ¨"},{default:s(()=>e[60]||(e[60]=[i("å¸‚åœºéƒ¨",-1)])),_:1,__:[60]})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),t(B,{gutter:16},{default:s(()=>[t(b,{span:12},{default:s(()=>[t(f,{label:"å¼€å§‹æ—¶é—´","label-col":{span:10},"wrapper-col":{span:14}},{default:s(()=>[t(N,{value:o.startDate,"onUpdate:value":e[11]||(e[11]=a=>o.startDate=a),placeholder:"é€‰æ‹©å¼€å§‹æ—¶é—´",style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1}),t(b,{span:12},{default:s(()=>[t(f,{label:"é¢„è®¡å®Œæˆ","label-col":{span:10},"wrapper-col":{span:14}},{default:s(()=>[t(N,{value:o.expectedEndDate,"onUpdate:value":e[12]||(e[12]=a=>o.expectedEndDate=a),placeholder:"é€‰æ‹©é¢„è®¡å®Œæˆæ—¶é—´",style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1})]),_:1}),t(f,{label:"è°ƒç ”é˜¶æ®µ",required:""},{default:s(()=>[n("div",ft,[e[67]||(e[67]=n("p",{class:"stage-tip"},"ðŸ’¡ å¯è‡ªç”±ç»„åˆé€‰æ‹©è°ƒç ”é˜¶æ®µï¼Œæ”¯æŒå•é€‰æˆ–å¤šé€‰ï¼š",-1)),t(Re,{value:o.stages,"onUpdate:value":e[13]||(e[13]=a=>o.stages=a),class:"stage-checkboxes"},{default:s(()=>[t(B,{gutter:[16,16]},{default:s(()=>[t(b,{span:8},{default:s(()=>[t(h,{value:"analysis",class:"stage-checkbox"},{default:s(()=>e[61]||(e[61]=[n("span",{class:"stage-icon"},"ðŸ“‹",-1),n("span",{class:"stage-text"},"éœ€æ±‚åˆ†æž",-1)])),_:1,__:[61]})]),_:1}),t(b,{span:8},{default:s(()=>[t(h,{value:"technical",class:"stage-checkbox"},{default:s(()=>e[62]||(e[62]=[n("span",{class:"stage-icon"},"ðŸ”",-1),n("span",{class:"stage-text"},"æŠ€æœ¯è°ƒç ”",-1)])),_:1,__:[62]})]),_:1}),t(b,{span:8},{default:s(()=>[t(h,{value:"design",class:"stage-checkbox"},{default:s(()=>e[63]||(e[63]=[n("span",{class:"stage-icon"},"ðŸ“",-1),n("span",{class:"stage-text"},"æ–¹æ¡ˆè®¾è®¡",-1)])),_:1,__:[63]})]),_:1}),t(b,{span:8},{default:s(()=>[t(h,{value:"cost",class:"stage-checkbox"},{default:s(()=>e[64]||(e[64]=[n("span",{class:"stage-icon"},"ðŸ’°",-1),n("span",{class:"stage-text"},"æˆæœ¬è¯„ä¼°",-1)])),_:1,__:[64]})]),_:1}),t(b,{span:8},{default:s(()=>[t(h,{value:"risk",class:"stage-checkbox"},{default:s(()=>e[65]||(e[65]=[n("span",{class:"stage-icon"},"âš ï¸",-1),n("span",{class:"stage-text"},"é£Žé™©åˆ†æž",-1)])),_:1,__:[65]})]),_:1}),t(b,{span:8},{default:s(()=>[t(h,{value:"market",class:"stage-checkbox"},{default:s(()=>e[66]||(e[66]=[n("span",{class:"stage-icon"},"ðŸ“ˆ",-1),n("span",{class:"stage-text"},"å¸‚åœºè°ƒç ”",-1)])),_:1,__:[66]})]),_:1})]),_:1})]),_:1},8,["value"])])]),_:1}),t(f,{label:"ä¼˜å…ˆçº§"},{default:s(()=>[t(P,{value:o.priority,"onUpdate:value":e[14]||(e[14]=a=>o.priority=a)},{default:s(()=>[t(v,{value:"high"},{default:s(()=>e[68]||(e[68]=[i("ðŸ”´ é«˜ä¼˜å…ˆçº§",-1)])),_:1,__:[68]}),t(v,{value:"medium"},{default:s(()=>e[69]||(e[69]=[i("ðŸŸ¡ ä¸­ä¼˜å…ˆçº§",-1)])),_:1,__:[69]}),t(v,{value:"low"},{default:s(()=>e[70]||(e[70]=[i("ðŸŸ¢ ä½Žä¼˜å…ˆçº§",-1)])),_:1,__:[70]})]),_:1},8,["value"])]),_:1}),t(f,{label:"è°ƒç ”æè¿°"},{default:s(()=>[t(V,{value:o.description,"onUpdate:value":e[15]||(e[15]=a=>o.description=a),placeholder:"è¯·ç®€è¦æè¿°è°ƒç ”ç›®æ ‡ã€èƒŒæ™¯å’Œé¢„æœŸæˆæžœ...",rows:3,maxlength:500,"show-count":""},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open"]),t(F,{open:U.visible,"onUpdate:open":e[23]||(e[23]=a=>U.visible=a),title:"âž• æ·»åŠ è°ƒç ”äº‹é¡¹",width:"600px",onCancel:ee,onOk:de},{default:s(()=>[t(W,{model:u,"label-col":{span:6},"wrapper-col":{span:18}},{default:s(()=>[t(f,{label:"äº‹é¡¹å†…å®¹",required:""},{default:s(()=>[t(V,{value:u.content,"onUpdate:value":e[17]||(e[17]=a=>u.content=a),rows:3,placeholder:"è¯·ç®€è¦æè¿°è°ƒç ”äº‹é¡¹å†…å®¹...",maxlength:200,"show-count":""},null,8,["value"])]),_:1}),t(B,{gutter:16},{default:s(()=>[t(b,{span:8},{default:s(()=>[t(f,{label:"æ—¥æœŸ",required:""},{default:s(()=>[t(N,{value:u.date,"onUpdate:value":e[18]||(e[18]=a=>u.date=a),placeholder:"é€‰æ‹©æ—¥æœŸ",style:{width:"100%"},"disabled-date":me,format:"YYYY-MM-DD"},null,8,["value"])]),_:1})]),_:1}),t(b,{span:8},{default:s(()=>[t(f,{label:"æ—¶åˆ»"},{default:s(()=>[t(Ue,{value:u.time,"onUpdate:value":e[19]||(e[19]=a=>u.time=a),placeholder:"é€‰æ‹©æ—¶åˆ»(å¯é€‰)",style:{width:"100%"},format:"HH:mm","minute-step":15,"allow-clear":""},null,8,["value"])]),_:1})]),_:1}),t(b,{span:8},{default:s(()=>[t(f,{label:"è´Ÿè´£äºº"},{default:s(()=>[t(w,{value:u.responsible,"onUpdate:value":e[20]||(e[20]=a=>u.responsible=a)},{default:s(()=>[t(r,{value:"å¼ ä¸‰"},{default:s(()=>e[71]||(e[71]=[i("å¼ ä¸‰",-1)])),_:1,__:[71]}),t(r,{value:"æŽå››"},{default:s(()=>e[72]||(e[72]=[i("æŽå››",-1)])),_:1,__:[72]}),t(r,{value:"çŽ‹äº”"},{default:s(()=>e[73]||(e[73]=[i("çŽ‹äº”",-1)])),_:1,__:[73]})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),t(f,{label:"äº‹é¡¹ç±»åž‹"},{default:s(()=>[t(P,{value:u.type,"onUpdate:value":e[21]||(e[21]=a=>u.type=a)},{default:s(()=>[t(v,{value:"analysis"},{default:s(()=>e[74]||(e[74]=[i("éœ€æ±‚åˆ†æž",-1)])),_:1,__:[74]}),t(v,{value:"technical"},{default:s(()=>e[75]||(e[75]=[i("æŠ€æœ¯è°ƒç ”",-1)])),_:1,__:[75]}),t(v,{value:"design"},{default:s(()=>e[76]||(e[76]=[i("æ–¹æ¡ˆè®¾è®¡",-1)])),_:1,__:[76]}),t(v,{value:"cost"},{default:s(()=>e[77]||(e[77]=[i("æˆæœ¬è¯„ä¼°",-1)])),_:1,__:[77]}),t(v,{value:"risk"},{default:s(()=>e[78]||(e[78]=[i("é£Žé™©åˆ†æž",-1)])),_:1,__:[78]}),t(v,{value:"market"},{default:s(()=>e[79]||(e[79]=[i("å¸‚åœºè°ƒç ”",-1)])),_:1,__:[79]}),t(v,{value:"other"},{default:s(()=>e[80]||(e[80]=[i("å…¶ä»–",-1)])),_:1,__:[80]})]),_:1},8,["value"])]),_:1}),t(f,{label:"å…³è”æ–‡æ¡£"},{default:s(()=>[t(Se,{"file-list":u.attachments,"onUpdate:fileList":e[22]||(e[22]=a=>u.attachments=a),multiple:!0,"show-upload-list":!0,"before-upload":ce},{default:s(()=>[t(d,null,{default:s(()=>[t(j(Qe)),e[81]||(e[81]=i(" ðŸ“Ž ä¸Šä¼ æ–‡ä»¶ (æ”¯æŒ PDFã€Wordã€Excelã€å›¾ç‰‡) ",-1))]),_:1,__:[81]})]),_:1},8,["file-list"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open"]),t(F,{open:S.visible,"onUpdate:open":e[26]||(e[26]=a=>S.visible=a),title:"ðŸ“ æ›´æ–°è°ƒç ”çŠ¶æ€",width:"500px",onCancel:se,onOk:be},{default:s(()=>[t(W,{model:g,"label-col":{span:6},"wrapper-col":{span:18}},{default:s(()=>[t(f,{label:"è°ƒç ”çŠ¶æ€",required:""},{default:s(()=>[t(P,{value:g.status,"onUpdate:value":e[24]||(e[24]=a=>g.status=a)},{default:s(()=>[t(v,{value:"active"},{default:s(()=>e[82]||(e[82]=[i("è¿›è¡Œä¸­",-1)])),_:1,__:[82]}),t(v,{value:"completed"},{default:s(()=>e[83]||(e[83]=[i("å·²å®Œæˆ",-1)])),_:1,__:[83]}),t(v,{value:"paused"},{default:s(()=>e[84]||(e[84]=[i("å·²æš‚åœ",-1)])),_:1,__:[84]}),t(v,{value:"terminated"},{default:s(()=>e[85]||(e[85]=[i("å·²ç»ˆæ­¢",-1)])),_:1,__:[85]})]),_:1},8,["value"])]),_:1}),t(f,{label:"å¤‡æ³¨"},{default:s(()=>[t(V,{value:g.remark,"onUpdate:value":e[25]||(e[25]=a=>g.remark=a),rows:3,placeholder:"å¦‚æœ‰è¯´æ˜Žè¯·å¡«å†™...",maxlength:200,"show-count":""},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open"]),t(F,{open:R.visible,"onUpdate:open":e[27]||(e[27]=a=>R.visible=a),title:"ðŸ“‹ è°ƒç ”è¯¦æƒ…",width:"700px",onCancel:e[28]||(e[28]=a=>R.visible=!1),footer:null},{default:s(()=>[R.record?(c(),k("div",vt,[n("h3",null,p(R.record.title),1),n("div",_t,[(c(!0),k(q,null,I(R.record.stages,a=>(c(),x(A,{key:a,color:"blue",style:{"margin-right":"8px"}},{default:s(()=>[i(p(X(a)),1)]),_:2},1024))),128))]),t(le,{mode:"left"},{default:s(()=>[(c(!0),k(q,null,I(Te(R.record),a=>(c(),x(L,{key:a.id},{default:s(()=>[n("div",gt,[n("span",wt,p(a.time),1),n("span",yt,p(a.user),1),n("span",bt,p(H(a.status)),1),n("div",Dt,p(a.content),1)])]),_:2},1024))),128))]),_:1})])):O("",!0)]),_:1},8,["open"])]),_:1})}}},Et=Ee(xt,[["__scopeId","data-v-aee7585b"]]);export{Et as default};
