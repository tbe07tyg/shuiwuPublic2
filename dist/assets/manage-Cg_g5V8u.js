import{_ as ie,d as O,h as z,i as ae,c as N,a as s,j as i,w as a,l as d,m as ne,o as _,p as n,x as y,P as oe,z as le,t as m,C as de,B as re,E as me,G as pe,H as ue,J as ce,k as w,b as j,M as _e,$ as v,f as M}from"./index-CLrs7Nd9.js";import{B as ve}from"./BulbOutlined-DVcxs1at.js";const fe={class:"applicant-manage-container"},ge={class:"page-header"},Ce={class:"header-actions"},ke={class:"stats-overview"},ye={class:"stat-icon"},be={class:"stat-content"},xe={class:"stat-number"},we={class:"stat-icon"},je={class:"stat-content"},he={class:"stat-number"},Re={class:"stat-icon"},Te={class:"stat-content"},ze={class:"stat-number"},Ie={class:"stat-icon"},Ne={class:"stat-content"},Pe={class:"stat-number"},$e={class:"stat-icon"},Se={class:"stat-content"},Oe={class:"stat-number"},Me={class:"stat-icon"},qe={class:"stat-content"},Be={class:"stat-number"},Je={class:"flow-content"},Ue={class:"step-description"},Fe={class:"step-status-tags"},Ve={class:"step-description"},De={class:"step-status-tags"},Ae={class:"step-description"},Le={class:"step-status-tags"},Ge={class:"card-title-with-total"},Ee={class:"header-filters"},He={key:0,class:"project-info"},Qe={class:"project-name"},Ke={class:"project-code"},We={key:2,class:"progress-info"},Xe={class:"progress-text"},Ye={__name:"manage",setup(Ze){const h=ne(),C=O(()=>{const t=f.value.length,e=f.value.filter(r=>r.status==="material_reviewing").length,u=f.value.filter(r=>r.status==="meeting_preparing").length,g=f.value.filter(r=>r.status==="meeting_scheduled").length,I=f.value.filter(r=>r.status==="midterm_passed").length,x=f.value.filter(r=>r.status==="midterm_conditional").length,c=f.value.filter(r=>r.status==="midterm_failed").length;return{total:t,materialReviewing:e,meetingPreparing:u,meetingScheduled:g,midtermPassed:I,midtermConditional:x,midtermFailed:c}}),p=z({status:"",keyword:""}),R=z(!1),f=z([{id:1,projectName:"智慧城市大数据平台建设项目",projectCode:"PROJ-2024-001",status:"material_reviewing",submitTime:"2024-01-15",expectedTime:"2024-03-15",description:"构建城市级大数据分析平台，支持多源数据接入和实时分析",materials:[{id:1,name:"项目中期报告.pdf",type:"中期报告"},{id:2,name:"技术方案.docx",type:"技术方案"}],materialRejected:!0,rejectionInfo:{time:"2024-01-18",reviewer:"张审核员",comments:"材料基本符合要求，但需要完善部分内容。请提供详细的项目实施计划和时间节点。",rejectionReason:"1. 项目中期报告中缺少详细的研究目标和技术路线；2. 技术方案需要补充风险分析和应对措施。请提供详细的项目实施计划和时间节点。"}},{id:2,projectName:"区块链供应链金融平台",projectCode:"PROJ-2024-002",status:"meeting_preparing",submitTime:"2024-01-20",expectedTime:"2024-03-20",description:"基于区块链技术的供应链金融解决方案",materials:[{id:3,name:"项目中期报告.pdf",type:"中期报告"}]},{id:3,projectName:"物联网环境监测系统",projectCode:"PROJ-2024-003",status:"meeting_scheduled",submitTime:"2024-02-01",expectedTime:"2024-04-01",description:"基于物联网技术的实时环境监测与预警系统",materials:[{id:4,name:"项目中期报告.pdf",type:"中期报告"},{id:5,name:"技术框架.pdf",type:"技术文档"}],meetingInfo:{time:"2024-02-15 14:00",location:"学术会议室A",participants:["专家A","专家B","专家C"]}},{id:4,projectName:"人工智能教育辅助平台",projectCode:"PROJ-2024-004",status:"midterm_passed",submitTime:"2024-01-10",expectedTime:"2024-03-10",description:"基于AI技术的个性化教育辅助系统",materials:[{id:6,name:"项目中期报告.pdf",type:"中期报告"}],conclusion:{time:"2024-01-25",type:"midterm_passed",feedback:"项目技术方案可行，预期目标明确，研究计划合理，专家组一致通过中期申请。建议在实施过程中加强用户体验设计和数据安全保护。",score:92}},{id:5,projectName:"5G网络优化项目",projectCode:"PROJ-2024-005",status:"midterm_conditional",submitTime:"2024-01-25",expectedTime:"2024-03-25",description:"5G基站布局优化算法研究",materials:[{id:7,name:"项目中期报告.pdf",type:"中期报告"}],conclusion:{time:"2024-02-10",type:"midterm_conditional",feedback:"项目研究方向正确，但技术路线需进一步完善。要求在3个月内补充详细的算法设计和实验方案，并重新提交审核。",requirements:"1. 补充算法的理论分析和性能评估指标。提供详细的实验环境搭建方案；3. 完善项目风险评估和应对措施。"}},{id:6,projectName:"区块链电子投票系统",projectCode:"PROJ-2024-006",status:"midterm_failed",submitTime:"2024-02-05",expectedTime:"2024-04-05",description:"基于区块链的安全电子投票平台",materials:[{id:8,name:"项目中期报告.pdf",type:"中期报告"}],conclusion:{time:"2024-02-20",type:"midterm_failed",feedback:"项目技术方案存在重大安全隐患，研究目标与现有资源不匹配，专家组认为项目不具备实施条件，不予通过中期申请。建议重新设计技术方案后重新申请。",requirements:"1. 重新设计技术方案后重新申请。"}}]),q=[{title:"项目信息",key:"projectInfo",width:300},{title:"状态",dataIndex:"status",key:"status",width:120},{title:"申请时间",dataIndex:"submitTime",key:"submitTime",width:120},{title:"预期时间",dataIndex:"expectedTime",key:"expectedTime",width:120},{title:"进度",key:"progress",width:200},{title:"操作",key:"actions",width:200}],P=z({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0,showTotal:(t,e)=>`共 ${t} 条记录`}),B=O(()=>{let t=f.value;return p.value.status&&(t=t.filter(e=>e.status===p.value.status)),p.value.keyword&&(t=t.filter(e=>e.projectName.toLowerCase().includes(p.value.keyword.toLowerCase())||e.projectCode.toLowerCase().includes(p.value.keyword.toLowerCase()))),P.value.total=t.length,t}),J=t=>({material_reviewing:"orange",meeting_preparing:"blue",meeting_scheduled:"cyan",midterm_passed:"green",midterm_conditional:"orange",midterm_failed:"red"})[t]||"default",$=t=>({material_reviewing:"材料审核中",meeting_preparing:"会议待组织",meeting_scheduled:"会议已安排",midterm_passed:"中期通过",midterm_conditional:"有条件通过",midterm_failed:"中期未通过"})[t]||"未知状态",U=t=>({material_reviewing:25,meeting_preparing:50,meeting_scheduled:75,midterm_passed:100,midterm_conditional:100,midterm_failed:100})[t]||0,F=t=>["midterm_passed"].includes(t)?"success":["midterm_failed"].includes(t)?"exception":"active",V=(t,e)=>({material_reviewing:e.materialRejected?"材料被驳回，需重新提交":"材料审核中",meeting_preparing:"等待会议组织",meeting_scheduled:"会议已安排",midterm_passed:"中期通过",midterm_conditional:"有条件通过",midterm_failed:"中期未通过"})[t]||"进行中",D=()=>{R.value=!R.value},b=t=>{p.value.status=t},A=()=>{},L=()=>{},G=()=>{h.push("/implementation/midterm?tab=application-submit")},E=t=>{var e;h.push({path:"/midterm/applicant/submit",query:{resubmit:"true",projectId:t.id,projectName:encodeURIComponent(t.projectName),projectCode:t.projectCode,expectedTime:t.expectedTime,description:encodeURIComponent(t.description||""),rejectionReason:encodeURIComponent(((e=t.rejectionInfo)==null?void 0:e.rejectionReason)||"")}})},H=t=>{let e="";t.conclusion&&t.conclusion.requirements&&(e=t.conclusion.requirements),h.push({path:"/midterm/applicant/submit",query:{improvement:"true",projectId:t.id,projectName:encodeURIComponent(t.projectName),projectCode:t.projectCode,expectedTime:t.expectedTime,description:encodeURIComponent(t.description||""),improvementRequirements:encodeURIComponent(e)}})},Q=t=>{h.push(`/implementation/midterm?tab=application-submit&id=${t.id}&type=new`)},K=t=>{t.conclusion?_e.info({title:"中期结论详情",width:600,content:v("div",[v("p",`结论时间: ${t.conclusion.time}`),v("p",`结论类型: ${$(t.status)}`),v("div",[v("p","结论意见:"),v("div",{style:"background: #f5f5f5; padding: 12px; border-radius: 4px; margin-top: 8px;"},t.conclusion.feedback)]),t.conclusion.requirements&&v("div",[v("p",{style:"margin-top: 16px;"},"整改要求:"),v("div",{style:"background: #fff7e6; padding: 12px; border-radius: 4px; margin-top: 8px; border: 1px solid #ffd591;"},t.conclusion.requirements)])])}):M.info("暂无结论详情")},W=t=>{M.info("查看记录详情功能")};return ae(()=>{}),(t,e)=>{const u=d("a-button"),g=d("a-col"),I=d("a-row"),x=d("a-step"),c=d("a-tag"),r=d("a-steps"),S=d("a-card"),X=d("a-badge"),k=d("a-select-option"),Y=d("a-select"),Z=d("a-input-search"),ee=d("a-progress"),te=d("a-space"),se=d("a-table");return _(),N("div",fe,[s("div",ge,[e[9]||(e[9]=s("div",{class:"header-content"},[s("h1",{class:"page-title"},"中期申请管理"),s("p",{class:"page-description"},"查看和管理您提交的项目中期申请")],-1)),s("div",Ce,[i(u,{type:"primary",onClick:G},{default:a(()=>[i(y(oe)),e[8]||(e[8]=n(" 提交新申请 ",-1))]),_:1,__:[8]})])]),s("div",ke,[i(I,{gutter:16},{default:a(()=>[i(g,{xs:12,sm:8,md:6,lg:4,xl:4},{default:a(()=>[s("div",{class:"stat-card pending",onClick:e[0]||(e[0]=l=>b("material_reviewing"))},[s("div",ye,[i(y(le))]),s("div",be,[s("div",xe,m(C.value.materialReviewing),1),e[10]||(e[10]=s("div",{class:"stat-label"},"材料审核中",-1))])])]),_:1}),i(g,{xs:12,sm:8,md:6,lg:4,xl:4},{default:a(()=>[s("div",{class:"stat-card reviewing",onClick:e[1]||(e[1]=l=>b("meeting_preparing"))},[s("div",we,[i(y(de))]),s("div",je,[s("div",he,m(C.value.meetingPreparing),1),e[11]||(e[11]=s("div",{class:"stat-label"},"会议待组织",-1))])])]),_:1}),i(g,{xs:12,sm:8,md:6,lg:4,xl:4},{default:a(()=>[s("div",{class:"stat-card scheduled",onClick:e[2]||(e[2]=l=>b("meeting_scheduled"))},[s("div",Re,[i(y(re))]),s("div",Te,[s("div",ze,m(C.value.meetingScheduled),1),e[12]||(e[12]=s("div",{class:"stat-label"},"会议已安排",-1))])])]),_:1}),i(g,{xs:12,sm:8,md:6,lg:4,xl:4},{default:a(()=>[s("div",{class:"stat-card completed",onClick:e[3]||(e[3]=l=>b("midterm_passed"))},[s("div",Ie,[i(y(me))]),s("div",Ne,[s("div",Pe,m(C.value.midtermPassed),1),e[13]||(e[13]=s("div",{class:"stat-label"},"中期通过",-1))])])]),_:1}),i(g,{xs:12,sm:8,md:6,lg:4,xl:4},{default:a(()=>[s("div",{class:"stat-card conditional",onClick:e[4]||(e[4]=l=>b("midterm_conditional"))},[s("div",$e,[i(y(ve))]),s("div",Se,[s("div",Oe,m(C.value.midtermConditional),1),e[14]||(e[14]=s("div",{class:"stat-label"},"有条件通过",-1))])])]),_:1}),i(g,{xs:12,sm:8,md:6,lg:4,xl:4},{default:a(()=>[s("div",{class:"stat-card rejected",onClick:e[5]||(e[5]=l=>b("midterm_failed"))},[s("div",Me,[i(y(pe))]),s("div",qe,[s("div",Be,m(C.value.midtermFailed),1),e[15]||(e[15]=s("div",{class:"stat-label"},"中期未通过",-1))])])]),_:1})]),_:1})]),i(S,{class:"flow-description",title:"中期检查流程说明",bordered:!1},{extra:a(()=>[i(u,{type:"link",size:"small",onClick:D},{default:a(()=>[n(m(R.value?"收起":"展开"),1)]),_:1})]),default:a(()=>[ue(s("div",Je,[i(r,{current:3,size:"small",direction:"horizontal",status:"finish"},{default:a(()=>[i(x,{title:"提交申请",description:"准备材料并提交中期申请",status:"finish"}),i(x,{title:"材料审核",status:"finish"},{description:a(()=>[s("div",Ue,[e[17]||(e[17]=n(" 等待管理员审核中期材料 ",-1)),s("div",Fe,[i(c,{color:"orange",size:"small"},{default:a(()=>e[16]||(e[16]=[n("材料审核中",-1)])),_:1,__:[16]})])])]),_:1}),i(x,{title:"组织会议",status:"finish"},{description:a(()=>[s("div",Ve,[e[20]||(e[20]=n(" 等待管理员组织中期检查会议 ",-1)),s("div",De,[i(c,{color:"blue",size:"small"},{default:a(()=>e[18]||(e[18]=[n("会议待组织",-1)])),_:1,__:[18]}),i(c,{color:"cyan",size:"small"},{default:a(()=>e[19]||(e[19]=[n("会议已安排",-1)])),_:1,__:[19]})])])]),_:1}),i(x,{title:"中期结论",status:"finish"},{description:a(()=>[s("div",Ae,[e[24]||(e[24]=n(" 根据会议结果获得最终结论 ",-1)),s("div",Le,[i(c,{color:"green",size:"small"},{default:a(()=>e[21]||(e[21]=[n("中期通过",-1)])),_:1,__:[21]}),i(c,{color:"orange",size:"small"},{default:a(()=>e[22]||(e[22]=[n("有条件通过",-1)])),_:1,__:[22]}),i(c,{color:"red",size:"small"},{default:a(()=>e[23]||(e[23]=[n("中期未通过",-1)])),_:1,__:[23]})])])]),_:1})]),_:1})],512),[[ce,R.value]])]),_:1}),i(S,{bordered:!1},{title:a(()=>[s("div",Ge,[e[25]||(e[25]=s("span",null,"我的中期申请",-1)),i(X,{count:C.value.total,"number-style":{backgroundColor:"#1890ff"}},null,8,["count"])])]),extra:a(()=>[s("div",Ee,[i(Y,{value:p.value.status,"onUpdate:value":e[6]||(e[6]=l=>p.value.status=l),placeholder:"筛选状态",style:{width:"150px"},onChange:A},{default:a(()=>[i(k,{value:""},{default:a(()=>e[26]||(e[26]=[n("全部状态",-1)])),_:1,__:[26]}),i(k,{value:"material_reviewing"},{default:a(()=>e[27]||(e[27]=[n("材料审核中",-1)])),_:1,__:[27]}),i(k,{value:"meeting_preparing"},{default:a(()=>e[28]||(e[28]=[n("会议待组织",-1)])),_:1,__:[28]}),i(k,{value:"meeting_scheduled"},{default:a(()=>e[29]||(e[29]=[n("会议已安排",-1)])),_:1,__:[29]}),i(k,{value:"midterm_passed"},{default:a(()=>e[30]||(e[30]=[n("中期通过",-1)])),_:1,__:[30]}),i(k,{value:"midterm_conditional"},{default:a(()=>e[31]||(e[31]=[n("有条件通过",-1)])),_:1,__:[31]}),i(k,{value:"midterm_failed"},{default:a(()=>e[32]||(e[32]=[n("中期未通过",-1)])),_:1,__:[32]})]),_:1},8,["value"]),i(Z,{value:p.value.keyword,"onUpdate:value":e[7]||(e[7]=l=>p.value.keyword=l),placeholder:"搜索项目名称",style:{width:"200px"},onSearch:L},null,8,["value"])])]),default:a(()=>[i(se,{columns:q,"data-source":B.value,pagination:P.value,"row-key":"id",size:"middle"},{bodyCell:a(({column:l,record:o})=>[l.key==="projectInfo"?(_(),N("div",He,[s("div",Qe,m(o.projectName),1),s("div",Ke,m(o.projectCode),1)])):l.key==="status"?(_(),w(c,{key:1,color:J(o.status)},{default:a(()=>[n(m($(o.status)),1)]),_:2},1032,["color"])):l.key==="progress"?(_(),N("div",We,[i(ee,{percent:U(o.status),size:"small",status:F(o.status)},null,8,["percent","status"]),s("div",Xe,m(V(o.status,o)),1)])):l.key==="actions"?(_(),w(te,{key:3},{default:a(()=>[o.status==="material_reviewing"&&o.materialRejected?(_(),w(u,{key:0,type:"primary",size:"small",onClick:T=>E(o)},{default:a(()=>e[33]||(e[33]=[n(" 重新提交材料 ",-1)])),_:2,__:[33]},1032,["onClick"])):j("",!0),o.status==="midterm_conditional"?(_(),w(u,{key:1,type:"primary",size:"small",onClick:T=>H(o)},{default:a(()=>e[34]||(e[34]=[n(" 提交整改 ",-1)])),_:2,__:[34]},1032,["onClick"])):j("",!0),o.status==="midterm_failed"?(_(),w(u,{key:2,type:"primary",size:"small",onClick:T=>Q(o)},{default:a(()=>e[35]||(e[35]=[n(" 重新申请 ",-1)])),_:2,__:[35]},1032,["onClick"])):j("",!0),["midterm_passed","midterm_conditional","midterm_failed"].includes(o.status)?(_(),w(u,{key:3,size:"small",onClick:T=>K(o)},{default:a(()=>e[36]||(e[36]=[n(" 查看结论 ",-1)])),_:2,__:[36]},1032,["onClick"])):j("",!0),i(u,{size:"small",onClick:T=>W(o)},{default:a(()=>e[37]||(e[37]=[n(" 查看详情 ",-1)])),_:2,__:[37]},1032,["onClick"])]),_:2},1024)):j("",!0)]),_:1},8,["data-source","pagination"])]),_:1})])}}},st=ie(Ye,[["__scopeId","data-v-0802bf55"]]);export{st as default};
