# 项目里程碑任务分配与材料提交管理需求文档

**文档编号**: REQ-2025-0128-001  
**创建日期**: 2025年1月28日  
**版本**: v1.0  
**编写人员**: 系统分析师  

## 1. 需求概述

### 1.1 需求背景
在科研项目管理过程中，项目经理需要将开题、立项、中期、验收等关键节点的材料提交任务分配给具体的团队成员负责，建立从任务分配、进度提醒、材料提交到审核流转的完整闭环管理体系。

### 1.2 需求目标
- 建立基于WBS的任务分配机制，明确责任人
- 实现里程碑节点的材料提交任务管理
- 提供自动化的任务提醒和催办功能
- 构建项目经理预览审核与管理层审批的两级审核体系

## 2. 功能需求详述

### 2.1 WBS任务与团队成员关联管理

#### 2.1.1 团队成员管理
**功能描述**: 项目经理可以管理项目团队成员信息
- **输入**: 成员姓名、工号、部门、角色、联系方式
- **输出**: 团队成员列表
- **业务规则**: 
  - 支持从组织架构导入成员
  - 支持批量添加和删除成员
  - 成员信息与系统用户账号关联

#### 2.1.2 WBS任务负责人指派
**功能描述**: 为每个WBS任务节点指定具体负责人
- **输入**: WBS任务节点、可选团队成员列表
- **输出**: 任务-负责人关联关系
- **业务规则**:
  - 一个任务可指定一个主负责人和多个协作人员
  - 负责人必须是项目团队成员
  - 任务指派后自动发送通知

#### 2.1.3 里程碑材料需求定义
**功能描述**: 为关键里程碑节点定义所需提交的材料清单
- **输入**: 里程碑节点(开题/立项/中期/验收)、材料类型、格式要求
- **输出**: 里程碑材料需求清单
- **业务规则**:
  - 支持预设材料模板(Word/Excel/PDF等)
  - 支持自定义材料要求和格式规范
  - 可设置材料提交截止时间

### 2.2 团队成员任务工作台

#### 2.2.1 个人任务看板
**功能描述**: 团队成员登录后查看分配给自己的任务
- **输入**: 用户身份认证
- **输出**: 个人任务列表(待处理/进行中/已完成)
- **业务规则**:
  - 按优先级和截止时间排序
  - 显示任务进度和状态
  - 支持任务状态更新

#### 2.2.2 智能提醒机制
**功能描述**: 根据任务计划时间自动提醒成员
- **输入**: 任务计划完成时间、当前时间
- **输出**: 提醒通知(系统内/邮件/短信)
- **业务规则**:
  - 提前3天、1天、当天分别提醒
  - 逾期任务标红显示
  - 支持项目经理一键催办

#### 2.2.3 材料上传提交
**功能描述**: 团队成员上传任务相关材料
- **输入**: 任务材料文件、提交说明
- **输出**: 材料提交记录
- **业务规则**:
  - 支持多种文件格式上传
  - 文件大小和格式校验
  - 提交后无法删除，仅可补充

### 2.3 项目经理审核管理

#### 2.3.1 材料在线预览
**功能描述**: 项目经理可在线预览团队成员提交的材料
- **输入**: 材料文件链接
- **输出**: 文件预览界面
- **业务规则**:
  - 支持Word/Excel/PDF在线预览
  - 支持图片和视频预览
  - 预览过程中可添加批注

#### 2.3.2 材料审核处理
**功能描述**: 项目经理对提交材料进行审核
- **输入**: 材料内容、审核意见
- **输出**: 审核结果(通过/驳回/需修改)
- **业务规则**:
  - 驳回时必须填写修改要求
  - 支持多轮修改-重审流程
  - 审核记录全程留痕

#### 2.3.3 一键提交上级审核
**功能描述**: 材料审核通过后可直接提交给管理层
- **输入**: 审核通过的材料包
- **输出**: 向上级管理角色的提交记录
- **业务规则**:
  - 仅通过审核的材料可提交
  - 提交后项目经理无法撤回
  - 自动流转到对应审核页面

### 2.4 管理层审批集成

#### 2.4.1 审核页面自动接收
**功能描述**: 管理角色的审核页面自动接收项目经理提交的材料
- **输入**: 项目经理提交的材料包
- **输出**: 待审核材料列表
- **业务规则**:
  - 按里程碑类型分类显示
  - 显示项目基本信息和提交时间
  - 支持批量审核操作

## 3. 非功能需求

### 3.1 性能需求
- 文件上传支持断点续传，单文件最大500MB
- 在线预览响应时间不超过3秒
- 支持1000个并发用户同时操作

### 3.2 安全需求
- 文件上传病毒扫描
- 敏感材料访问权限控制
- 操作日志完整记录

### 3.3 易用性需求
- 任务分配支持拖拽操作
- 提供移动端适配
- 支持批量操作和快捷键

## 4. 数据模型设计

### 4.1 核心实体
```
项目团队成员 (TeamMember)
- 成员ID、用户ID、项目ID、姓名、角色、状态

WBS任务节点 (WBSTask)  
- 任务ID、项目ID、任务名称、负责人ID、计划完成时间、状态

里程碑材料需求 (MilestoneRequirement)
- 需求ID、里程碑类型、材料名称、格式要求、截止时间

任务材料提交 (TaskMaterialSubmission)
- 提交ID、任务ID、提交人ID、文件路径、提交时间、状态

材料审核记录 (MaterialReview)
- 审核ID、提交ID、审核人ID、审核结果、审核意见、审核时间
```

## 5. 业务流程设计

### 5.1 任务分配流程
```
1. 项目经理创建WBS计划
2. 添加项目团队成员
3. 为任务节点指派负责人
4. 定义里程碑材料需求
5. 发送任务通知给团队成员
```

### 5.2 材料提交审核流程
```
1. 团队成员接收任务通知
2. 按时完成任务并上传材料
3. 项目经理在线预览材料
4. 项目经理审核(通过/驳回/修改)
5. 如驳回，返回步骤2
6. 如通过，一键提交管理层审核
7. 管理层最终审批
```

## 6. 接口设计要求

### 6.1 系统集成接口
- 与现有用户管理系统集成
- 与组织架构系统对接
- 与消息通知系统集成
- 与文件存储系统对接

### 6.2 API接口规范
- RESTful API设计
- 统一返回格式
- 错误码标准化
- 接口版本控制

## 7. 使用说明

### 7.1 项目经理使用流程

#### 步骤1：任务分配
1. 在项目监控页面(`/project-manager/projects/monitor/:id`)选择WBS任务节点
2. 在任务分配面板中：
   - 选择主要负责人（从团队成员中选择）
   - 可选择协作人员
   - 设置里程碑类型（开题/中期/验收）
   - 配置材料需求（如开题报告、中期检查材料等）
   - 设置任务提醒规则
3. 点击"保存分配"，系统自动发送通知给团队成员

#### 步骤2：进度监控
1. 在项目监控页面实时查看任务状态：
   - WBS树形图显示任务分配情况
   - 甘特图显示进度更新
   - 任务状态自动同步（pending → in-progress → review → completed）
2. 收到材料提交通知时，可一键跳转到材料审核页面

#### 步骤3：材料审核
1. 在材料审核页面(`/project-manager/projects/material-review/:id`)：
   - 按里程碑类型筛选材料
   - 在线预览团队成员提交的材料
   - 进行审核：通过/驳回/需修改
   - 添加审核意见和修改建议
2. 所有材料审核通过后，一键提交给管理层审核

### 7.2 团队成员使用流程

#### 步骤1：查看任务
1. 登录后直接进入任务看板页面(`/team-member/tasks`)
2. 任务按智能排序显示：
   - **第一排序因素**：优先级（高 → 中 → 低）
   - **第二排序因素**：截止时间（越近越靠前）
3. 通过筛选器查看不同状态的任务：
   - 全部任务/待处理/进行中/待审核

#### 步骤2：执行任务
1. 点击"开始任务"按钮，任务状态变为进行中
2. 定期点击"更新进度"：
   - 滑动条设置完成百分比
   - 填写进度说明（遇到的问题、需要的支持等）
   - 设置预计完成时间
3. 进度更新后项目经理页面立即同步显示

#### 步骤3：提交材料（里程碑任务）
1. 对于开题/中期/验收等里程碑任务：
   - 点击"提交材料"按钮
   - 上传所需材料文件
   - 填写提交说明
2. 材料提交后：
   - 任务状态自动变为"待审核"
   - 项目经理收到审核通知
   - 等待项目经理审核反馈

### 7.3 系统联动机制

#### 实时状态同步
- 团队成员更新任务进度 → 项目经理监控页面立即反映
- 团队成员提交材料 → 项目经理收到实时通知
- 项目经理审核材料 → 团队成员看到审核结果

#### 智能提醒系统
- 任务临近截止时间自动提醒团队成员
- 项目经理可一键催办逾期任务
- 材料提交后自动通知项目经理审核

#### 数据一致性保障
- 基于Pinia状态管理确保跨页面数据同步
- 所有操作都有实时反馈和状态更新
- 操作历史完整记录，可追溯查看

## 8. 验收标准

### 8.1 功能验收
- [ ] WBS任务可正确指派团队成员负责人
- [ ] 团队成员任务看板按优先级+时间智能排序
- [ ] 任务状态实时同步到项目经理监控页面
- [ ] 材料提交和审核流程完整
- [ ] 任务提醒和催办机制正常工作
- [ ] 与管理层审核页面正确集成

### 8.2 交互验收
- [ ] 团队成员更新进度后项目经理页面立即同步
- [ ] 材料提交后项目经理收到实时通知
- [ ] 操作反馈及时清晰
- [ ] 页面加载和切换流畅

### 8.3 兼容性验收
- [ ] 主流浏览器兼容
- [ ] 移动端适配正常
- [ ] 与现有系统集成无问题

---

**文档状态**: 已更新  
**最新更新**: 2025-01-28 - 根据前端联动设计优化使用说明  
**下一步行动**: 开始前端页面优化实施
